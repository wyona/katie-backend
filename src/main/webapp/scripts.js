!function(){"use strict";function Ff(t){if(null===t)return"null";if(void 0===t)return"undefined";var e=typeof t;return"object"==e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"==e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}function Uf(t){return zo(function(e,n){if(e.length!==n.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!t.eq(e[o],n[o]))return!1;return!0})}function zf(t){return zo(function(e,n){var o,i,a=Object.keys(e),u=Object.keys(n);if(o=Uf(by),i=function(l){return Array.prototype.slice.call(l).sort(void 0)},!zo(function(l,d){return o.eq(i(l),i(d))}).eq(a,u))return!1;for(var c=a.length,s=0;s<c;s++){var f=a[s];if(!t.eq(e[f],n[f]))return!1}return!0})}function Qu(t){return function(e){return r=typeof(n=e),(null===n?"null":"object"==r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===t;var n,r}}function Zu(t){return function(e){return typeof e===t}}function Hf(t){return function(e){return t===e}}function rn(t){return null==t}function Rt(t){return!rn(t)}function pt(){}function dr(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(null,n))}}function jf(t,e){return function(n){return t(e(n))}}function nt(t){return function(){return t}}function pe(t){return t}function vy(t,e){return t===e}var zo=function(t){return{eq:t}},by=zo(function(t,e){return t===e}),ts=zo(function(t,e){if(t===e)return!0;var n=Ff(t);return n===Ff(e)&&(-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(n)?t===e:"array"===n?Uf(ts).eq(t,e):"object"===n&&zf(ts).eq(t,e))}),Ft=Qu("string"),Wr=Qu("object"),Ie=Qu("array"),Ho=Hf(null),Vf=Zu("boolean"),Ce=Hf(void 0),Ot=Zu("function"),Kr=Zu("number");function et(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=e.concat(r);return t.apply(null,i)}}function es(t){return function(e){return!t(e)}}function yy(t){return t()}function Cy(t){t()}function ns(){return zi}var Dt=nt(!1),zt=nt(!0),zi={fold:function(t,e){return t()},isSome:Dt,isNone:zt,getOr:pe,getOrThunk:qf,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:nt(null),getOrUndefined:nt(void 0),or:pe,orThunk:qf,map:ns,each:pt,bind:ns,exists:Dt,forall:zt,filter:function(){return zi},toArray:function(){return[]},toString:nt("none()")};function qf(t){return t()}function $f(t,e){return xy.call(t,e)}function Yt(t,e){return-1<$f(t,e)}function he(t,e){for(var n=0,r=t.length;n<r;n++)if(e(t[n],n))return!0;return!1}function Tt(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++)r[o]=e(t[o],o);return r}function rt(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}function Wf(t,e){for(var n=t.length-1;0<=n;n--)e(t[n],n)}function Kf(t,e){for(var n=[],r=[],o=0,i=t.length;o<i;o++){var a=t[o];(e(a,o)?n:r).push(a)}return{pass:n,fail:r}}function ht(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n}function Xf(t,e,n){return Wf(t,function(r,o){n=e(n,r,o)}),n}function We(t,e,n){return rt(t,function(r,o){n=e(n,r,o)}),n}function Yf(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return N.some(i);if(n(i,r))break}return N.none()}function Gt(t,e){return Yf(t,e,Dt)}function Hi(t,e){for(var n=0,r=t.length;n<r;n++)if(e(t[n],n))return N.some(n);return N.none()}function Xr(t,e){return function(n){for(var r=[],o=0,i=n.length;o<i;++o){if(!Ie(n[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+n);wy.apply(r,n[o])}return r}(Tt(t,e))}function jo(t,e){for(var n=0,r=t.length;n<r;++n)if(!0!==e(t[n],n))return!1;return!0}function ji(t){var e=ss.call(t,0);return e.reverse(),e}function Gf(t,e){return ht(t,function(n){return!Yt(e,n)})}function rs(t,e){var n=ss.call(t,0);return n.sort(e),n}function os(t,e){return 0<=e&&e<t.length?N.some(t[e]):N.none()}function ke(t){return os(t,0)}function mr(t){return os(t,t.length-1)}function Jf(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return N.none()}function Bt(t,e){for(var n=Jr(t),r=0,o=n.length;r<o;r++){var i=n[r];e(t[i],i)}}function Qf(t,e){return Ey(t,function(n,r){return{k:r,v:e(n,r)}})}function is(t){return function(e,n){t[n]=e}}function Zf(t,e,n,r){return Bt(t,function(o,i){(e(o,i)?n:r)(o,i)}),1}function Vo(t,e){var n={};return Zf(t,e,is(n),pt),n}function Ht(t,e){return vt(t,e)?N.from(t[e]):N.none()}function Yr(t,e){return vt(t,e)&&null!=t[e]}function qo(t,e,n){var r,o;if(!t)return!1;if(n=n||t,void 0!==t.length){for(r=0,o=t.length;r<o;r++)if(!1===e.call(n,t[r],r,t))return!1}else for(r in t)if(vt(t,r)&&!1===e.call(n,t[r],r,t))return!1;return!0}function as(t,e){var n=[];return qo(t,function(r,o){n.push(e(r,o,t))}),n}function Gr(t,e){var n=[];return qo(t,function(r,o){e&&!e(r,o,t)||n.push(r)}),n}function td(t,e){if(t)for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function Vi(t,e,n,r){for(var o=Ce(n)?t[0]:n,i=0;i<t.length;i++)o=e.call(r,o,t[i],i);return o}function ed(t,e,n){for(var r=0,o=t.length;r<o;r++)if(e.call(n,t[r],r,t))return r;return-1}function gr(t){return t[t.length-1]}var us=function(t){function e(){return o}function n(i){return i(t)}var r=nt(t),o={fold:function(i,a){return a(t)},isSome:zt,isNone:Dt,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:e,orThunk:e,map:function(i){return us(i(t))},each:function(i){i(t)},bind:n,exists:n,forall:n,filter:function(i){return i(t)?o:zi},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return o},N={some:us,none:ns,from:function(t){return null==t?zi:us(t)}},ss=Array.prototype.slice,xy=Array.prototype.indexOf,wy=Array.prototype.push,on=Ot(Array.from)?Array.from:function(t){return ss.call(t)},Jr=Object.keys,Sy=Object.hasOwnProperty,Ey=function(t,e){var n={};return Bt(t,function(r,o){var i=e(r,o);n[i.k]=i.v}),n},vt=function(t,e){return Sy.call(t,e)},cs=Array.isArray,ft=function(){return(ft=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Mn(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||((r=r||Array.prototype.slice.call(e,0,o))[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function nd(t){var e,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,e=t.apply(null,r)),e}}function rd(t,e){var n=String(e).toLowerCase();return Gt(t,function(r){return r.search(n)})}function le(t,e){return-1!==t.indexOf(e)}function ls(t){return function(e){return e.replace(t,"")}}function qi(t){return 0<t.length}function od(t){return!qi(t)}function kn(t){return function(e){return le(e,t)}}function Ny(t){return window.matchMedia(t).matches}function id(t){return null==t?"":(""+t).replace(Py,"")}function ad(t,e){return e?!("array"!==e||!cs(t))||typeof t===e:void 0!==t}function ud(t,e){for(var n=[],r=function(i){return n.push(i),e(i)},o=e(t);(o=o.bind(r)).isSome(););return n}function Qr(t,e){var n=t.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")}function sd(t){return 1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType||0===t.childElementCount}function kt(t,e){return t.dom===e.dom}function Fn(t,e){return Me().browser.isIE()?(o=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(t.dom.compareDocumentPosition(e.dom)&o)):(i=t.dom)!==(a=e.dom)&&i.contains(a);var o,i,a}function cd(){return fs(0,0)}function ld(t){function e(o){return function(){return n===o}}var n=t.current;return{current:n,version:t.version,isEdge:e("Edge"),isChrome:e("Chrome"),isIE:e("IE"),isOpera:e("Opera"),isFirefox:e(gd),isSafari:e("Safari")}}function fd(t){function e(o){return function(){return n===o}}var n=t.current;return{current:n,version:t.version,isWindows:e(pd),isiOS:e("iOS"),isAndroid:e(hd),isOSX:e("OSX"),isLinux:e("Linux"),isSolaris:e(vd),isFreeBSD:e(bd),isChromeOS:e(yd)}}function $o(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:t}}var fs=function(t,e){return{major:t,minor:e}},Wo={nu:fs,detect:function(t,e){var n,r,o=String(e).toLowerCase();return 0===t.length?cd():(r=function(a,u){for(var c=0;c<a.length;c++){var s=a[c];if(s.test(u))return s}}(t,n=o))?fs(i(1),i(2)):{major:0,minor:0};function i(a){return Number(n.replace(r,"$"+a))}},unknown:cd},pr=function(t,e){return""===(n=e)||t.length>=n.length&&t.substr(0,0+n.length)===n;var n},ds=ls(/^\s+|\s+$/g),ky=ls(/^\s+/g),dd=ls(/\s+$/g),ms=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,md={browsers:nt([{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return le(t,"edge/")&&le(t,"chrome")&&le(t,"safari")&&le(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ms],search:function(t){return le(t,"chrome")&&!le(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return le(t,"msie")||le(t,"trident")}},{name:"Opera",versionRegexes:[ms,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:kn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:kn("firefox")},{name:"Safari",versionRegexes:[ms,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(le(t,"safari")||le(t,"mobile/"))&&le(t,"applewebkit")}}]),oses:nt([{name:"Windows",search:kn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return le(t,"iphone")||le(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:kn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:kn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:kn("linux"),versionRegexes:[]},{name:"Solaris",search:kn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:kn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:kn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}])},gd="Firefox",_y=function(){return ld({current:void 0,version:Wo.unknown()})},Ry=ld,pd=(nt("Edge"),nt("Chrome"),nt("IE"),nt("Opera"),nt(gd),nt("Safari"),"Windows"),hd="Android",vd="Solaris",bd="FreeBSD",yd="ChromeOS",Dy=function(){return fd({current:void 0,version:Wo.unknown()})},Ay=fd,Me=(nt(pd),nt("iOS"),nt(hd),nt("Linux"),nt("OSX"),nt(vd),nt(bd),nt(yd),nd(function(){return t=navigator.userAgent,e=N.from(navigator.userAgentData),n=Ny,g=md.browsers(),h=md.oses(),{browser:v=e.bind(function(y){return S=g,Jf(y.brands,function(k){var C=k.brand.toLowerCase();return Gt(S,function(x){var E;return C===(null===(E=x.brand)||void 0===E?void 0:E.toLowerCase())}).map(function(x){return{current:x.name,version:Wo.nu(parseInt(k.version,10),0)}})});var S}).orThunk(function(){return rd(g,y=t).map(function(S){var k=Wo.detect(S.versionRegexes,y);return{current:S.name,version:k}});var y}).fold(_y,Ry),os:b=rd(h,r=t).map(function(y){var S=Wo.detect(y.versionRegexes,r);return{current:y.name,version:S}}).fold(Dy,Ay),deviceType:(i=v,a=t,u=n,c=(o=b).isiOS()&&!0===/ipad/i.test(a),s=o.isiOS()&&!c,l=(f=o.isiOS()||o.isAndroid())||u("(pointer:coarse)"),d=c||!s&&f&&u("(min-device-width:768px)"),m=s||f&&!d,p=i.isSafari()&&o.isiOS()&&!1===/safari/i.test(a),{isiPad:nt(c),isiPhone:nt(s),isTablet:nt(d),isPhone:nt(m),isTouch:nt(l),isAndroid:o.isAndroid,isiOS:o.isiOS,isWebView:nt(p),isDesktop:nt(!m&&!d&&!p)})};var t,e,n,r,o,i,a,u,c,s,f,l,d,m,p,g,h,v,b})),Cd=navigator.userAgent,gs=Me(),fe=gs.browser,_e=gs.os,an=gs.deviceType,Ty=/WebKit/.test(Cd)&&!fe.isEdge(),Oy="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,By=-1!==Cd.indexOf("Windows Phone"),dt={opera:fe.isOpera(),webkit:Ty,ie:!(!fe.isIE()&&!fe.isEdge())&&fe.version.major,gecko:fe.isFirefox(),mac:_e.isOSX()||_e.isiOS(),iOS:an.isiPad()||an.isiPhone(),android:_e.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:fe.isIE()?document.documentMode||7:10,fileApi:Oy,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!fe.isIE(),desktop:an.isDesktop(),windowsPhone:By,browser:{current:fe.current,version:fe.version,isChrome:fe.isChrome,isEdge:fe.isEdge,isFirefox:fe.isFirefox,isIE:fe.isIE,isOpera:fe.isOpera,isSafari:fe.isSafari},os:{current:_e.current,version:_e.version,isAndroid:_e.isAndroid,isChromeOS:_e.isChromeOS,isFreeBSD:_e.isFreeBSD,isiOS:_e.isiOS,isLinux:_e.isLinux,isOSX:_e.isOSX,isSolaris:_e.isSolaris,isWindows:_e.isWindows},deviceType:{isDesktop:an.isDesktop,isiPad:an.isiPad,isiPhone:an.isiPhone,isPhone:an.isPhone,isTablet:an.isTablet,isTouch:an.isTouch,isWebView:an.isWebView}},Py=/^\s*|\s*$/g,xd=function(t,e,n,r){r=r||this,t&&qo(t=n?t[n]:t,function(o,i){return!1!==e.call(r,o,i,n)&&void xd(o,e,n,r)})},H={trim:id,isArray:cs,is:ad,toArray:function(t){if(cs(t))return t;for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t[n];return e},makeMap:function(t,e,n){var r;for(e=e||",",n=n||{},r=(t="string"==typeof(t=t||[])?t.split(e):t).length;r--;)n[t[r]]={};return n},each:qo,map:as,grep:Gr,inArray:td,hasOwn:vt,extend:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++){var o,i,a=e[r];for(o in a)!vt(a,o)||void 0!==(i=a[o])&&(t[o]=i)}return t},create:function(t,e,n){var r,o,i,a=this,u=0,c=(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t))[3].match(/(^|\.)(\w+)$/i)[2],s=a.createNS(t[3].replace(/\.\w+$/,""),n);if(!s[c]){if("static"===t[2])return s[c]=e,void(this.onCreate&&this.onCreate(t[2],t[3],s[c]));e[c]||(e[c]=function(){},u=1),s[c]=e[c],a.extend(s[c].prototype,e),t[5]&&(r=a.resolve(t[5]).prototype,o=t[5].match(/\.(\w+)$/i)[1],i=s[c],s[c]=u?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],i.apply(this,arguments)},s[c].prototype[c]=s[c],a.each(r,function(f,l){s[c].prototype[l]=r[l]}),a.each(e,function(f,l){r[l]?s[c].prototype[l]=function(){return this.parent=r[l],f.apply(this,arguments)}:l!==c&&(s[c].prototype[l]=f)})),a.each(e.static,function(f,l){s[c][l]=f})}},walk:xd,createNS:function(t,e){var n,r;for(e=e||window,t=t.split("."),n=0;n<t.length;n++)e[r=t[n]]||(e[r]={}),e=e[r];return e},resolve:function(t,e){var n,r;for(e=e||window,n=0,r=(t=t.split(".")).length;n<r&&(e=e[t[n]]);n++);return e},explode:function(t,e){return!t||ad(t,"array")?t:as(t.split(e||","),id)},_addCacheSuffix:function(t){var e=dt.cacheSuffix;return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}},P={fromHtml:function(t,e){var n=(e||document).createElement("div");if(n.innerHTML=t,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return $o(n.childNodes[0])},fromTag:function(t,e){return $o((e||document).createElement(t))},fromText:function(t,e){return $o((e||document).createTextNode(t))},fromDom:$o,fromPoint:function(t,e,n){return N.from(t.dom.elementFromPoint(e,n)).map($o)}};function jt(t){return t.dom.nodeName.toLowerCase()}function wd(t){return t.dom.nodeType}function $i(t){return function(e){return wd(e)===t}}function Sd(t){return P.fromDom(t.dom.ownerDocument)}function Zr(t){return My(t)?t:Sd(t)}function Ed(t){return P.fromDom(Zr(t).dom.defaultView)}function Ke(t){return N.from(t.dom.parentNode).map(P.fromDom)}function hr(t){return N.from(t.dom.previousSibling).map(P.fromDom)}function Ko(t){return N.from(t.dom.nextSibling).map(P.fromDom)}function Nd(t){return ji(ud(t,hr))}function kd(t){return ud(t,Ko)}function Wi(t,e){return N.from(t.dom.childNodes[e]).map(P.fromDom)}function _d(t){return Wi(t,0)}function ps(t){return Wi(t,t.dom.childNodes.length-1)}function Rd(t){return t.dom.childNodes.length}function Dd(t){return Fy(t)&&Rt(t.dom.host)}function hs(t){return Dd(t)?t:function(){var e=Zr(t).dom.head;if(null==e)throw new Error("Head is not available yet");return P.fromDom(e)}()}function Ly(t){return P.fromDom(t.dom.host)}function Xe(t,e){Ke(t).each(function(n){n.dom.insertBefore(e.dom,t.dom)})}function Xo(t,e){Ko(t).fold(function(){Ke(t).each(function(n){Zt(n,e)})},function(n){Xe(n,e)})}function Ad(t,e){_d(t).fold(function(){Zt(t,e)},function(n){t.dom.insertBefore(e.dom,n.dom)})}function Ki(t,e){rt(e,function(n){Zt(t,n)})}function vs(t){t.dom.textContent="",rt(ze(t),function(e){Jt(e)})}function Td(t){var e,n=ze(t);0<n.length&&(e=t,rt(n,function(r){Xe(e,r)})),Jt(t)}function Xi(t,e){return void 0!==t?t:void 0!==e?e:0}function bs(t){var e=void 0!==t?t.dom:document;return eo(e.body.scrollLeft||e.documentElement.scrollLeft,e.body.scrollTop||e.documentElement.scrollTop)}function Od(t,e,n){var r=(void 0!==n?n.dom:document).defaultView;r&&r.scrollTo(t,e)}function Bd(t,e){Me().browser.isSafari()&&Ot(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(e)}function Pd(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}}function Ld(t){var e=void 0===t?window:t,r=bs(P.fromDom(e.document)),o=void 0===e?window:e;return(Me().browser.isFirefox()?N.none():N.from(o.visualViewport)).fold(function(){var i=e.document.documentElement;return Pd(r.left,r.top,i.clientWidth,i.clientHeight)},function(i){return Pd(Math.max(i.pageLeft,r.left),Math.max(i.pageTop,r.top),i.width,i.height)})}function Yo(t){return function(e){return!!e&&e.nodeType===t}}function Yi(t){return t&&!Object.getPrototypeOf(t)}function Fe(t){var e=t.map(function(n){return n.toLowerCase()});return function(n){if(n&&n.nodeName){var r=n.nodeName.toLowerCase();return Yt(e,r)}return!1}}function Gi(t,e){var n=e.toLowerCase().split(" ");return function(r){if(ct(r))for(var o=0;o<n.length;o++){var i=r.ownerDocument.defaultView.getComputedStyle(r,null);if((i?i.getPropertyValue(t):null)===n[o])return!0}return!1}}function Id(t){return function(e){return ct(e)&&e.hasAttribute(t)}}function vr(t){return ct(t)&&t.hasAttribute("data-mce-bogus")}function to(t){return ct(t)&&"TABLE"===t.tagName}function Md(t){return function(e){return!(!ct(e)||e.contentEditable!==t&&e.getAttribute("data-mce-contenteditable")!==t)}}function Ji(t,e,n){return void 0===n&&(n=vy),t.exists(function(r){return n(r,e)})}function ve(t,e,n){return t.isSome()&&e.isSome()?N.some(n(t.getOrDie(),e.getOrDie())):N.none()}function Qi(t){return void 0!==t.style&&Ot(t.style.getPropertyValue)}function Fd(t,e,n){if(!(Ft(n)||Vf(n)||Kr(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")}function un(t,e,n){Fd(t.dom,e,n)}function Un(t,e){var n=t.dom;Bt(e,function(r,o){Fd(n,o,r)})}function Go(t,e){var n=t.dom.getAttribute(e);return null===n?void 0:n}function Ud(t,e){return N.from(Go(t,e))}function zn(t,e){t.dom.removeAttribute(e)}function _n(t,e){var n=t.dom,r=window.getComputedStyle(n).getPropertyValue(e);return""!==r||Jo(t)?r:$d(n,e)}function ys(t,e){var r=$d(t.dom,e);return N.from(r).filter(function(o){return 0<o.length})}function zd(t){var e={},n=t.dom;if(Qi(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);e[o]=n.style[o]}return e}function Hd(t){return Gt(t,Ye)}function jd(t,e){return t.children&&Yt(t.children,e)}"undefined"!=typeof window||Function("return this;")();var Ye=$i(1),Ue=$i(3),My=$i(9),Fy=$i(11),ze=function(t){return Tt(t.dom.childNodes,P.fromDom)},Vd=Ot(Element.prototype.attachShadow)&&Ot(Node.prototype.getRootNode),Uy=nt(Vd),br=Vd?function(t){return P.fromDom(t.dom.getRootNode())}:Zr,Zt=function(t,e){t.dom.appendChild(e.dom)},Jt=function(t){var e=t.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},Jo=function(t){var e=Ue(t)?t.dom.parentNode:t.dom;if(null==e||null===e.ownerDocument)return!1;var n=e.ownerDocument,r=P.fromDom(e),o=br(r);return(Dd(o)?N.some(o):N.none()).fold(function(){return n.body.contains(e)},jf(Jo,Ly))},qd=function(t,e){return{left:t,top:e,translate:function(n,r){return qd(t+n,e+r)}}},eo=qd,Cs=function(t){var e,n=t.dom,r=n.ownerDocument.body;return r===n?eo(r.offsetLeft,r.offsetTop):Jo(t)?(e=n.getBoundingClientRect(),eo(e.left,e.top)):eo(0,0)},ct=Yo(1),xs=Fe(["textarea","input"]),ot=Yo(3),zy=Yo(8),ws=Yo(9),Ss=Yo(11),It=Fe(["br"]),Hy=Fe(["img"]),sn=Md("true"),At=Md("false"),Zi=Fe(["td","th"]),He=Fe(["video","audio","object","embed"]),$d=function(t,e){return Qi(t)?t.style.getPropertyValue(e):""},jy=Me().browser,Wd={},Es={exports:Wd};function Vy(t){setTimeout(function(){throw t},0)}function Kd(t){return Qo(function(){return new Xd(t)})}function Hn(t){if(!Ie(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return rt(t,function(r,o){var i=Jr(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!Ie(u))throw new Error("case arguments must be an array");e.push(a),n[a]=function(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];var f=c.length;if(f!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+f);return{fold:function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];if(l.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+l.length);return l[o].apply(null,c)},match:function(l){var d=Jr(l);if(e.length!==d.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+d.join(","));if(!jo(e,function(m){return Yt(d,m)}))throw new Error("Not all branches were specified when using match. Specified: "+d.join(", ")+"\nRequired: "+e.join(", "));return l[a].apply(null,c)},log:function(l){console.log(l,{constructors:e,constructor:a,params:c})}}}}),n}!function(){var t=this,e=function(){var n,r,o,i={exports:{}};function a(){}function u(g){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof g)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(g,this)}function c(g,h){for(;3===g._state;)g=g._value;0!==g._state?(g._handled=!0,u._immediateFn(function(){var v,b=1===g._state?h.onFulfilled:h.onRejected;if(null!==b){try{v=b(g._value)}catch(y){return void f(h.promise,y)}s(h.promise,v)}else(1===g._state?s:f)(h.promise,g._value)})):g._deferreds.push(h)}function s(g,h){try{if(h===g)throw new TypeError("A promise cannot be resolved with itself.");if(h&&("object"==typeof h||"function"==typeof h)){var v=h.then;if(h instanceof u)return g._state=3,g._value=h,void l(g);if("function"==typeof v)return void m((b=v,y=h,function(){b.apply(y,arguments)}),g)}g._state=1,g._value=h,l(g)}catch(S){f(g,S)}var b,y}function f(g,h){g._state=2,g._value=h,l(g)}function l(g){2===g._state&&0===g._deferreds.length&&u._immediateFn(function(){g._handled||u._unhandledRejectionFn(g._value)});for(var h=0,v=g._deferreds.length;h<v;h++)c(g,g._deferreds[h]);g._deferreds=null}function d(g,h,v){this.onFulfilled="function"==typeof g?g:null,this.onRejected="function"==typeof h?h:null,this.promise=v}function m(g,h){var v=!1;try{g(function(b){v||(v=!0,s(h,b))},function(b){v||(v=!0,f(h,b))})}catch(b){if(v)return;v=!0,f(h,b)}}n=i,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=setTimeout,u.prototype.catch=function(g){return this.then(null,g)},u.prototype.then=function(g,h){var v=new this.constructor(a);return c(this,new d(g,h,v)),v},u.all=function(g){var h=Array.prototype.slice.call(g);return new u(function(v,b){if(0===h.length)return v([]);for(var y=h.length,S=0;S<h.length;S++)!function k(C,x){try{if(x&&("object"==typeof x||"function"==typeof x)){var E=x.then;if("function"==typeof E)return E.call(x,function(A){k(C,A)},b),0}h[C]=x,0==--y&&v(h)}catch(A){b(A)}}(S,h[S])})},u.resolve=function(g){return g&&"object"==typeof g&&g.constructor===u?g:new u(function(h){h(g)})},u.reject=function(g){return new u(function(h,v){v(g)})},u.race=function(g){return new u(function(h,v){for(var b=0,y=g.length;b<y;b++)g[b].then(h,v)})},u._immediateFn="function"==typeof setImmediate?function(g){setImmediate(g)}:function(g){o(g,0)},u._unhandledRejectionFn=function(g){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",g)},u._setImmediateFn=function(g){u._immediateFn=g},u._setUnhandledRejectionFn=function(g){u._unhandledRejectionFn=g},n.exports?n.exports=u:r.Promise||(r.Promise=u);var p=i.exports;return{boltExport:("undefined"!=typeof window?window:Function("return this;")()).Promise||p}};"object"==typeof Wd&&void 0!==Es?Es.exports=e():(t="undefined"!=typeof globalThis?globalThis:t||self).EphoxContactWrapper=e()}();var Xd=Es.exports.boltExport,Ns=function(t){function e(a){o()?i(a):r.push(a)}var n=N.none(),r=[],o=function(){return n.isSome()},i=function(a){n.each(function(u){setTimeout(function(){a(u)},0)})};return t(function(a){o()||(n=N.some(a),rt(r,i),r=[])}),{get:e,map:function(a){return Ns(function(u){e(function(c){u(a(c))})})},isReady:o}},qy={nu:Ns,pure:function(t){return Ns(function(e){e(t)})}},Qo=function(t){function e(n){t().then(n,Vy)}return{map:function(n){return Qo(function(){return t().then(n)})},bind:function(n){return Qo(function(){return t().then(function(r){return n(r).toPromise()})})},anonBind:function(n){return Qo(function(){return t().then(function(){return n.toPromise()})})},toLazy:function(){return qy.nu(e)},toCached:function(){var n=null;return Qo(function(){return n=null===n?t():n})},toPromise:t,get:e}},no=function(t){return{isValue:zt,isError:Dt,getOr:nt(t),getOrThunk:nt(t),getOrDie:nt(t),or:function(e){return no(t)},orThunk:function(e){return no(t)},fold:function(e,n){return n(t)},map:function(e){return no(e(t))},mapError:function(e){return no(t)},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOptional:function(){return N.some(t)}}},Zo=function(t){return{isValue:Dt,isError:zt,getOr:pe,getOrThunk:function(e){return e()},getOrDie:function(){return e=String(t),function(){throw new Error(e)}();var e},or:pe,orThunk:function(e){return e()},fold:function(e,n){return e(t)},map:function(e){return Zo(t)},mapError:function(e){return Zo(e(t))},each:pt,bind:function(e){return Zo(t)},exists:Dt,forall:zt,toOptional:N.none}},Yd={value:no,error:Zo,fromOption:function(t,e){return t.fold(function(){return Zo(e)},no)}};function Gd(t){return t.fold(pe,pe)}function Jd(t,e,n,r,o){return t(n,r)?N.some(n):Ot(o)&&o(n)?N.none():e(n,r,o)}function ti(t,e,n){for(var r=t.dom,o=Ot(n)?n:Dt;r.parentNode;){var i=P.fromDom(r=r.parentNode);if(e(i))return N.some(i);if(o(i))break}return N.none()}function ta(t,e,n){return Jd(function(r,o){return o(r)},ti,t,e,n)}function ea(t,e,n){return ti(t,function(r){return Qr(r,e)},n)}function na(t,e){return n=e,sd(r=void 0===t?document:t.dom)?N.none():N.from(r.querySelector(n)).map(P.fromDom);var n,r}function ks(t,e,n){return Jd(Qr,ea,t,e,n)}function _s(t,e){return"number"!=typeof e&&(e=0),setTimeout(t,e)}function Qd(t,e){return"number"!=typeof e&&(e=1),setInterval(t,e)}function Zd(t,e){function n(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];clearTimeout(r),r=_s(function(){t.apply(this,o)},e)}var r;return n.stop=function(){clearTimeout(r)},n}function tm(t,e){function n(f,l,d){var m,p=H._addCacheSuffix(f),g=Ht(a,p).getOrThunk(function(){return{id:"mce-u"+i++,passed:[],failed:[],count:0}});function h(x,E){for(var A=x.length;A--;)x[A]();g.status=E,g.passed=[],g.failed=[],m&&(m.onload=null,m.onerror=null,m=null)}function v(){return h(g.passed,2),0}function b(){return h(g.failed,3)}(a[p]=g).count++;var y,S,k,C=function(){var x=C;!function(){for(var E=t.styleSheets,A=E.length;A--;){var B=E[A].ownerNode;if(B&&B.id===m.id)return v(),1}}()&&(Date.now()-S<s?ee.setTimeout(x):b())};l&&g.passed.push(l),d&&g.failed.push(d),1!==g.status&&(2!==g.status?3!==g.status?(g.status=1,Un(y=P.fromTag("link",c.dom),{rel:"stylesheet",type:"text/css",id:g.id}),S=Date.now(),e.contentCssCors&&un(y,"crossOrigin","anonymous"),e.referrerPolicy&&un(y,"referrerpolicy",e.referrerPolicy),(m=y.dom).onload=C,m.onerror=b,k=y,Zt(hs(u),k),un(y,"href",p)):b():v())}function r(f){return Kd(function(l){n(f,dr(l,nt(Yd.value(f))),dr(l,nt(Yd.error(f))))})}function o(f){var l=H._addCacheSuffix(f);Ht(a,l).each(function(d){var m;0==--d.count&&(delete a[l],m=d.id,na(hs(u),"#"+m).each(Jt))})}void 0===e&&(e={});var i=0,a={},u=P.fromDom(t),c=Zr(u),s=e.maxLoadTime||5e3;return{load:n,loadAll:function(f,l,d){var m,p=Tt(f,r);m=p,Kd(function(g){var h=[],v=0;0===m.length?g([]):rt(m,function(b,y){var S;b.get((S=y,function(k){h[S]=k,++v>=m.length&&g(h)}))})}).get(function(g){var h=Kf(g,function(v){return v.isValue()});0<h.fail.length?d(h.fail.map(Gd)):l(h.pass.map(Gd))})},unload:o,unloadAll:function(f){rt(f,function(l){o(l)})},_setReferrerPolicy:function(f){e.referrerPolicy=f}}}Hn([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Rs,Ds,te=window.Promise||Xd,ee={requestAnimationFrame:function(t,e){Rs?Rs.then(t):Rs=new te(function(n){!function(r,o){for(var i=window.requestAnimationFrame,a=["ms","moz","webkit"],u=0;u<a.length&&!i;u++)i=window[a[u]+"RequestAnimationFrame"];(i=i||function(c){window.setTimeout(c,0)})(r,o)}(n,e=e||document.body)}).then(t)},setTimeout:_s,setInterval:Qd,setEditorTimeout:function(t,e,n){return _s(function(){t.removed||e()},n)},setEditorInterval:function(t,e,n){var r=Qd(function(){t.removed?clearInterval(r):e()},n);return r},debounce:Zd,throttle:Zd,clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)}},em=(Ds=new WeakMap,{forElement:function(t,e){var n=br(t).dom;return N.from(Ds.get(n)).getOrThunk(function(){var r=tm(n,e);return Ds.set(n,r),r})}}),qt=(yr.prototype.current=function(){return this.node},yr.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},yr.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},yr.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},yr.prototype.findSibling=function(t,e,n,r){var o,i;if(t){if(!r&&t[e])return t[e];if(t!==this.rootNode){if(o=t[n])return o;for(i=t.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n])return o}}},yr.prototype.findPreviousNode=function(t,e,n,r){var o,i,a;if(t&&(o=t[n],!this.rootNode||o!==this.rootNode)){if(o){if(!r)for(a=o[e];a;a=a[e])if(!a[e])return a;return o}return(i=t.parentNode)&&i!==this.rootNode?i:void 0}},yr);function yr(t,e){this.node=t,this.rootNode=e,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}function jn(t){var e;return function(n){return e=e||function(r,o){for(var i={},a=0,u=r.length;a<u;a++){var c=r[a];i[String(c)]=o(c,a)}return i}(t,zt),vt(e,jt(n))}}function As(t){return Ye(t)&&!ln(t)}function ro(t){return Ye(t)&&"br"===jt(t)}function oo(t){return uo(t)&&(t=t.parentNode),Xy(t)&&t.hasAttribute("data-mce-caret")}function io(t){return uo(t)&&sa(t.data)}function Re(t){return oo(t)||io(t)}function nm(t){return t.firstChild!==t.lastChild||!It(t.firstChild)}function Ts(t){var e=t.container();return!!ot(e)&&(e.data.charAt(t.offset())===ne||t.isAtStart()&&io(e.previousSibling))}function Os(t){var e=t.container();return!!ot(e)&&(e.data.charAt(t.offset()-1)===ne||t.isAtEnd()&&io(e.nextSibling))}function Bs(t){return t&&t.hasAttribute("data-mce-caret")?(vr(n=(e=t.getElementsByTagName("br"))[e.length-1])&&n.parentNode.removeChild(n),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null;var e,n}function rm(t){return oo(t.startContainer)}function cn(t){return!t1(t)&&(Jy(t)?!Qy(t.parentNode):mm(t)||Gy(t)||Zy(t)||Hs(t))}function ra(t,e){return cn(t)&&function(n,r){for(n=n.parentNode;n&&n!==r;n=n.parentNode){if(Hs(n))return!1;if(dm(n))return!0}return!0}(t,e)}function Cr(t){return e1.test(t)}function oa(t,e){return cn(t)&&(a=e,!1===(ot(i=t)&&Cr(i.data)&&(n=i,r=P.fromDom(a),!1===ea(P.fromDom(n),"pre,code",et(kt,r)).isSome())))||ct(o=t)&&"A"===o.nodeName&&!o.hasAttribute("href")&&(o.hasAttribute("name")||o.hasAttribute("id"))||n1(t);var n,r,o,i,a}function $t(t,e){return function(n,r){var o=0;if(oa(n,n))return!1;var i=n.firstChild;if(!i)return!0;var a=new qt(i,n);do{if(r){if(o1(i)){i=a.next(!0);continue}if(r1(i)){i=a.next();continue}}if(It(i))o++,i=a.next();else{if(oa(i,n))return!1;i=a.next()}}while(i);return o<=1}(t.dom,e=void 0===e||e)}function om(t,e){return Rt(t)&&(oa(t,e)||As(P.fromDom(t)))}function im(t){return"span"===t.nodeName.toLowerCase()&&"bookmark"===t.getAttribute("data-mce-type")}function am(t,e){var n,r,o,i={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)r=String.fromCharCode(parseInt(t[n],e)),xr[r]||(i[r]=o="&"+t[n+1]+";",i[o]=r);return i}}function um(t,e){return t.replace(e?fa:da,function(n){return xr[n]||n})}function sm(t,e){return t.replace(e?fa:da,function(n){return 1<n.length?"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";":xr[n]||"&#"+n.charCodeAt(0)+";"})}function Ps(t,e,n){return n=n||Vs,t.replace(e?fa:da,function(r){return xr[r]||n[r]||r})}function Qt(t,e){return(t=H.trim(t))?t.split(e||" "):[]}function Ls(t,e){var n;return t&&(n={},ie(t="string"==typeof t?{"*":t}:t,function(r,o){n[o]=n[o.toUpperCase()]=("map"===e?so:gm)(r,/[, ]/)})),n}function Vn(t){function e(q,Y,at){var lt=t[q];return lt?lt=so(lt,/[, ]/,so(lt.toUpperCase(),/[, ]/)):(lt=wr[q])||(lt=so(Y," ",so(Y.toUpperCase()," ")),lt=qs(lt,at),wr[q]=lt),lt}var n,r,o,i,a,u,c,s,f={},l={},d=[],m={},p={},g=(n=(t=t||{}).schema,s={},wr[n]||(r="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",i="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==n&&(r+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure main header footer hgroup section nav",i+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==n&&(r+=" xml:lang",i=[i,c="acronym applet basefont big font strike tt"].join(" "),ie(Qt(c),function(q){h(q,"",i)}),o=[o,u="center dir isindex noframes"].join(" "),a=[o,i].join(" "),ie(Qt(u),function(q){h(q,"",a)})),a=a||[o,i].join(" "),h("html","manifest","head body"),h("head","","base command link meta noscript script style title"),h("title hr noscript br"),h("base","href target"),h("link","href rel media hreflang type sizes hreflang"),h("meta","name http-equiv content charset"),h("style","media type scoped"),h("script","src async defer type charset"),h("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",a),h("address dt dd div caption","",a),h("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",i),h("blockquote","cite",a),h("ol","reversed start type","li"),h("ul","","li"),h("li","value",a),h("dl","","dt dd"),h("a","href target rel media hreflang type",i),h("q","cite",i),h("ins del","cite datetime",a),h("img","src sizes srcset alt usemap ismap width height"),h("iframe","src name width height",a),h("embed","src type width height"),h("object","data type typemustmatch name usemap form width height",[a,"param"].join(" ")),h("param","name value"),h("map","name",[a,"area"].join(" ")),h("area","alt coords shape href target rel media hreflang type"),h("table","border","caption colgroup thead tfoot tbody tr"+("html4"===n?" col":"")),h("colgroup","span","col"),h("col","span"),h("tbody thead tfoot","","tr"),h("tr","","td th"),h("td","colspan rowspan headers",a),h("th","colspan rowspan headers scope abbr",a),h("form","accept-charset action autocomplete enctype method name novalidate target",a),h("fieldset","disabled form name",[a,"legend"].join(" ")),h("label","form for",i),h("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),h("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===n?a:i),h("select","disabled form multiple name required size","option optgroup"),h("optgroup","disabled label","option"),h("option","disabled label selected value"),h("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),h("menu","type label",[a,"li"].join(" ")),h("noscript","",a),"html4"!==n&&(h("wbr"),h("ruby","",[i,"rt rp"].join(" ")),h("figcaption","",a),h("mark rt rp summary bdi","",i),h("canvas","width height",a),h("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[a,"track source"].join(" ")),h("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[a,"track source"].join(" ")),h("picture","","img source"),h("source","src srcset type media sizes"),h("track","kind src srclang label default"),h("datalist","",[i,"option"].join(" ")),h("article section nav aside main header footer","",a),h("hgroup","","h1 h2 h3 h4 h5 h6"),h("figure","",[a,"figcaption"].join(" ")),h("time","datetime",i),h("dialog","open",a),h("command","type label icon disabled checked radiogroup command"),h("output","for form name",i),h("progress","value max",i),h("meter","value min max low high optimum",i),h("details","open",[a,"summary"].join(" ")),h("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==n&&(v("script","language xml:space"),v("style","xml:space"),v("object","declare classid code codebase codetype archive standby align border hspace vspace"),v("embed","align name hspace vspace"),v("param","valuetype type"),v("a","charset name rev shape coords"),v("br","clear"),v("applet","codebase archive code object alt name width height align hspace vspace"),v("img","name longdesc align border hspace vspace"),v("iframe","longdesc frameborder marginwidth marginheight scrolling align"),v("font basefont","size color face"),v("input","usemap align"),v("select"),v("textarea"),v("h1 h2 h3 h4 h5 h6 div p legend caption","align"),v("ul","type compact"),v("li","type"),v("ol dl menu dir","compact"),v("pre","width xml:space"),v("hr","align noshade size width"),v("isindex","prompt"),v("table","summary width frame rules cellspacing cellpadding align bgcolor"),v("col","width align char charoff valign"),v("colgroup","width align char charoff valign"),v("thead","align char charoff valign"),v("tr","align char charoff valign bgcolor"),v("th","axis align char charoff valign nowrap bgcolor width height"),v("form","accept"),v("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),v("tfoot","align char charoff valign"),v("tbody","align char charoff valign"),v("area","nohref"),v("body","background bgcolor text link vlink alink")),"html4"!==n&&(v("input button select textarea","autofocus"),v("input textarea","placeholder"),v("a","download"),v("link script img","crossorigin"),v("img","loading"),v("iframe","sandbox seamless allowfullscreen loading")),ie(Qt("a form meter progress dfn"),function(q){s[q]&&delete s[q].children[q]}),delete s.caption.children.table,delete s.script,wr[n]=s));function h(q,Y,at){function lt(Et,Vt){for(var Mt={},$e=0,Lt=Et.length;$e<Lt;$e++)Mt[Et[$e]]=Vt||{};return Mt}var wt,xt;Y=Y||"","string"==typeof(at=at||[])&&(at=Qt(at));for(var ut=Qt(q),Ct=ut.length;Ct--;)xt={attributes:lt(wt=Qt([r,Y].join(" "))),attributesOrder:wt,children:lt(at,l1)},s[ut[Ct]]=xt}function v(q,Y){for(var at,lt,wt,xt=Qt(q),ut=xt.length,Ct=Qt(Y);ut--;)for(at=s[xt[ut]],lt=0,wt=Ct.length;lt<wt;lt++)at.attributes[Ct[lt]]={},at.attributesOrder.push(Ct[lt])}!1===t.verify_html&&(t.valid_elements="*[*]");var b=Ls(t.valid_styles),y=Ls(t.invalid_styles,"map"),S=Ls(t.valid_classes,"map"),k=e("whitespace_elements","pre script noscript style textarea video audio iframe object code"),C=e("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),x=e("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),E=e("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),A="td th iframe video audio object script code",B=e("non_empty_elements",A+" pre",x),L=e("move_caret_before_on_enter_elements",A+" table",x),_=e("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),T=e("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",_),R=e("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");function O(q){return new RegExp("^"+q.replace(/([?+*])/g,".$1")+"$")}function I(q){var Y,at,lt,wt,xt,ut,Ct,Et,Vt,Mt,$e,Lt,ge,Sn,Ui,fr,En,Nn,MS=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,FS=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,py=/[*?+]/;if(q){var hy=Qt(q,",");for(f["@"]&&(fr=f["@"].attributes,En=f["@"].attributesOrder),Y=0,at=hy.length;Y<at;Y++)if(xt=MS.exec(hy[Y])){if(Vt=xt[2],Ui=xt[3],Et=xt[5],ut={attributes:Lt={},attributesOrder:ge=[]},"#"===(Sn=xt[1])&&(ut.paddEmpty=!0),"-"===Sn&&(ut.removeEmpty=!0),"!"===xt[4]&&(ut.removeEmptyAttrs=!0),fr&&(Bt(fr,function(US,zS){Lt[zS]=US}),ge.push.apply(ge,En)),Et)for(lt=0,wt=(Et=Qt(Et,"|")).length;lt<wt;lt++)(xt=FS.exec(Et[lt]))&&(Ct={},$e=xt[1],Mt=xt[2].replace(/[\\:]:/g,":"),Sn=xt[3],Nn=xt[4],"!"===$e&&(ut.attributesRequired=ut.attributesRequired||[],ut.attributesRequired.push(Mt),Ct.required=!0),"-"!==$e?(Sn&&("="===Sn&&(ut.attributesDefault=ut.attributesDefault||[],ut.attributesDefault.push({name:Mt,value:Nn}),Ct.defaultValue=Nn),":"===Sn&&(ut.attributesForced=ut.attributesForced||[],ut.attributesForced.push({name:Mt,value:Nn}),Ct.forcedValue=Nn),"<"===Sn&&(Ct.validValues=so(Nn,"?"))),py.test(Mt)?(ut.attributePatterns=ut.attributePatterns||[],Ct.pattern=O(Mt),ut.attributePatterns.push(Ct)):(Lt[Mt]||ge.push(Mt),Lt[Mt]=Ct)):(delete Lt[Mt],ge.splice(f1(ge,Mt),1)));fr||"@"!==Vt||(fr=Lt,En=ge),Ui&&(ut.outputName=Vt,f[Ui]=ut),py.test(Vt)?(ut.pattern=O(Vt),d.push(ut)):f[Vt]=ut}}}function $(q){f={},d=[],I(q),ie(g,function(Y,at){l[at]=Y.children})}function X(q){var Y=/^(~)?(.+)$/;q&&(wr.text_block_elements=wr.block_elements=null,ie(Qt(q,","),function(at){var lt,wt=Y.exec(at),xt="~"===wt[1],ut=xt?"span":"div",Ct=wt[2];l[Ct]=l[ut],m[Ct]=ut,xt||(T[Ct.toUpperCase()]={},T[Ct]={}),f[Ct]||(delete(lt=qs({},lt=f[ut])).removeEmptyAttrs,delete lt.removeEmpty,f[Ct]=lt),ie(l,function(Et,Vt){Et[ut]&&(l[Vt]=Et=qs({},l[Vt]),Et[Ct]=Et[ut])})}))}function F(q){var Y=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;wr[t.schema]=null,q&&ie(Qt(q,","),function(at){var lt,wt,xt=Y.exec(at);xt&&(lt=(wt=xt[1])?l[xt[2]]:l[xt[2]]={"#comment":{}},lt=l[xt[2]],ie(Qt(xt[3],"|"),function(ut){"-"===wt?delete lt[ut]:lt[ut]={}}))})}function U(q){var Y,at=f[q];if(at)return at;for(Y=d.length;Y--;)if((at=d[Y]).pattern.test(q))return at}ie((t.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(q){p[q]=new RegExp("</"+q+"[^>]*>","gi")}),t.valid_elements?$(t.valid_elements):(ie(g,function(q,Y){f[Y]={attributes:q.attributes,attributesOrder:q.attributesOrder},l[Y]=q.children}),"html5"!==t.schema&&ie(Qt("strong/b em/i"),function(q){var Y=Qt(q,"/");f[Y[1]].outputName=Y[0]}),ie(Qt("ol ul sub sup blockquote span font a table tbody strong em b i"),function(q){f[q]&&(f[q].removeEmpty=!0)}),ie(Qt("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(q){f[q].paddEmpty=!0}),ie(Qt("span"),function(q){f[q].removeEmptyAttrs=!0})),X(t.custom_elements),F(t.valid_children),I(t.extended_valid_elements),F("+ol[ul|ol],+ul[ul|ol]"),ie({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(q,Y){f[Y]&&(f[Y].parentsRequired=Qt(q))}),t.invalid_elements&&ie(gm(t.invalid_elements),function(q){f[q]&&delete f[q]}),U("span")||I("span[!data-mce-type|*]");var J=nt(b),Q=nt(y),W=nt(S),it=nt(E),V=nt(T),G=nt(_),K=nt(R),Z=nt(x),tt=nt(C),yt=nt(B),w=nt(L),D=nt(k),z=nt(p),j=nt(m);return{children:l,elements:f,getValidStyles:J,getValidClasses:W,getBlockElements:V,getInvalidStyles:Q,getShortEndedElements:Z,getTextBlockElements:G,getTextInlineElements:K,getBoolAttrs:it,getElementRule:U,getSelfClosingElements:tt,getNonEmptyElements:yt,getMoveCaretBeforeOnEnterElements:w,getWhiteSpaceElements:D,getSpecialElements:z,isValidChild:function(q,Y){var at=l[q.toLowerCase()];return!(!at||!at[Y.toLowerCase()])},isValid:function(q,Y){var at,lt,wt=U(q);if(wt){if(!Y||wt.attributes[Y])return!0;if(at=wt.attributePatterns)for(lt=at.length;lt--;)if(at[lt].pattern.test(q))return!0}return!1},getCustomElements:j,addValidElements:I,setValidElements:$,addCustomElements:X,addValidChildren:F}}function cm(t,e,n,r){function o(i){return 1<(i=parseInt(i,10).toString(16)).length?i:"0"+i}return"#"+o(e)+o(n)+o(r)}function Is(t,e){var n,r,o=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,s={},f=zs;t=t||{},e&&(n=e.getValidStyles(),r=e.getInvalidStyles());for(var l=("\\\" \\' \\; \\: ; : "+f).split(" "),d=0;d<l.length;d++)s[l[d]]=f+d,s[f+d]=l[d];return{toHex:function(m){return m.replace(i,cm)},parse:function(m){function p(O,I,$){var X=_[O+"-top"+I];if(X){var F=_[O+"-right"+I];if(F){var U=_[O+"-bottom"+I];if(U){var J=_[O+"-left"+I];if(J){var Q=[X,F,U,J];for(d=Q.length-1;d--&&Q[d]===Q[d+1];);-1<d&&$||(_[O+I]=-1===d?Q[0]:Q.join(" "),delete _[O+"-top"+I],delete _[O+"-right"+I],delete _[O+"-bottom"+I],delete _[O+"-left"+I])}}}}}function g(O){var I,$=_[O];if($){for(I=($=$.split(" ")).length;I--;)if($[I]!==$[0])return;return _[O]=$[0],1}}function h(O){return E=!0,s[O]}function v(O,I){return E&&(O=O.replace(/\uFEFF[0-9]/g,function($){return s[$]})),I?O:O.replace(/\\([\'\";:])/g,"$1")}function b(O){return String.fromCharCode(parseInt(O.slice(1),16))}function y(O){return O.replace(/\\[0-9a-f]+/gi,b)}function S(O,I,$,X,F,U){if(F=F||U)return"'"+(F=v(F)).replace(/\'/g,"\\'")+"'";if(I=v(I||$||X),!t.allow_script_urls){var J=I.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(J)||!t.allow_svg_data_urls&&/^data:image\/svg/i.test(J))return""}return"url('"+(I=T?T.call(R,I,"style"):I).replace(/\'/g,"\\'")+"')"}var k,C,x,E,A,B,L,_={},T=t.url_converter,R=t.url_converter_scope||o;if(m){for(m=(m=m.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,h).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(O){return O.replace(/[;:]/g,h)});k=u.exec(m);)u.lastIndex=k.index+k[0].length,C=k[1].replace(c,"").toLowerCase(),x=k[2].replace(c,""),C&&x&&(C=y(C),x=y(x),-1===C.indexOf(f)&&-1===C.indexOf('"')&&(t.allow_script_urls||"behavior"!==C&&!/expression\s*\(|\/\*|\*\//.test(x))&&("font-weight"===C&&"700"===x?x="bold":"color"!==C&&"background-color"!==C||(x=x.toLowerCase()),x=(x=x.replace(i,cm)).replace(a,S),_[C]=E?v(x,!0):x));p("border","",!0),p("border","-width"),p("border","-color"),p("border","-style"),p("padding",""),p("margin",""),B="border-style",L="border-color",g(A="border-width")&&g(B)&&g(L)&&(_.border=_[A]+" "+_[B]+" "+_[L],delete _[A],delete _[B],delete _[L]),"medium none"===_.border&&delete _.border,"none"===_["border-image"]&&delete _["border-image"]}return _},serialize:function(m,p){function g(v){var b,y=n[v];if(y)for(var S=0,k=y.length;S<k;S++)(b=m[v=y[S]])&&(h+=(0<h.length?" ":"")+v+": "+b+";")}var h="";return p&&n?(g("*"),g(p)):Bt(m,function(v,b){var y;!v||r&&((y=r["*"])&&y[b]||(y=r[p])&&y[b])||(h+=(0<h.length?" ":"")+b+": "+v+";")}),h}}}function Ms(t){return t instanceof Event||Ot(t.initEvent)}function lm(t,e,n,r){var o,i,a=function(u){var c,s=null!=r?r:{};for(c in u)vt(d1,c)||(s[c]=u[c]);return Rt(s.composedPath)&&(s.composedPath=function(){return u.composedPath()}),s}(e);return a.type=t,rn(a.target)&&(a.target=null!==(o=a.srcElement)&&void 0!==o?o:n),(rn((i=e).preventDefault)||Ms(i))&&(a.preventDefault=function(){a.defaultPrevented=!0,a.isDefaultPrevented=zt,Ot(e.preventDefault)?e.preventDefault():Ms(e)&&(e.returnValue=!1)},a.stopPropagation=function(){a.cancelBubble=!0,a.isPropagationStopped=zt,Ot(e.stopPropagation)?e.stopPropagation():Ms(e)&&(e.cancelBubble=!0)},a.stopImmediatePropagation=function(){a.isImmediatePropagationStopped=zt,a.stopPropagation()},a.isDefaultPrevented!==zt&&a.isDefaultPrevented!==Dt&&(a.isDefaultPrevented=!0===a.defaultPrevented?zt:Dt,a.isPropagationStopped=!0===a.cancelBubble?zt:Dt,a.isImmediatePropagationStopped=Dt)),a}function Fs(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r||!1):t.attachEvent&&t.attachEvent("on"+e,n)}function ia(t,e,n,r){t.removeEventListener?t.removeEventListener(e,n,r||!1):t.detachEvent&&t.detachEvent("on"+e,n)}function ao(t,e){var n,r,o,i,a=lm(t.type,t,document,e);return Rt(i=t)&&m1.test(i.type)&&Ce(t.pageX)&&!Ce(t.clientX)&&(r=(n=a.target.ownerDocument||document).documentElement,o=n.body,a.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),a.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),Ce(a.metaKey)&&(a.metaKey=!1),a}var Wy=jn(["h1","h2","h3","h4","h5","h6"]),ln=jn(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),fm=jn(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Us=jn(["ul","ol","dl"]),ei=jn(["li","dd","dt"]),Ky=jn(["thead","tbody","tfoot"]),aa=jn(["td","th"]),ua=jn(["pre","script","textarea","style"]),zs="\ufeff",xe="\xa0",ne=zs,sa=function(t){return t===zs},qn=function(t){return t.replace(/\uFEFF/g,"")},Xy=ct,uo=ot,ca=function(t){return uo(t)&&t.data[0]===ne},la=function(t){return uo(t)&&t.data[t.data.length-1]===ne},dm=sn,Yy=At,Gy=It,Jy=ot,Qy=Fe(["script","style","textarea"]),mm=Fe(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Zy=Fe(["table"]),t1=Re,Hs=function(t){return!1===(ct(e=t)&&"true"===e.getAttribute("unselectable"))&&Yy(t);var e},e1=/^[ \t\r\n]*$/,n1=Id("data-mce-bookmark"),r1=Id("data-mce-bogus"),o1=function(t){return ct(t)&&"all"===t.getAttribute("data-mce-bogus")},js=function(t,e,n){var r=n||e;if(ct(e)&&im(e))return e;for(var o,i,a,u,c,s,f,l,d,m,p,g=e.childNodes,h=g.length-1;0<=h;h--)js(t,g[h],r);return!ct(e)||1===(o=e.childNodes).length&&im(o[0])&&e.parentNode.insertBefore(o[0],e),Ss(a=e)||ws(a)||oa(e,r)||ct(i=e)&&0<i.childNodes.length||(c=r,ot(u=e)&&0<u.data.length&&(l=new qt(s=u,f=c).prev(!1),d=new qt(s,f).next(!1),m=Ce(l)||om(l,f),p=Ce(d)||om(d,f),m&&p))||t.remove(e),e},i1=H.makeMap,fa=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,da=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a1=/[<>&\"\']/g,u1=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,s1={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"},xr={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},c1={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Vs=am("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),$n={encodeRaw:um,encodeAllRaw:function(t){return(""+t).replace(a1,function(e){return xr[e]||e})},encodeNumeric:sm,encodeNamed:Ps,getEncodeFunc:function(t,e){var n=am(e)||Vs,r=i1(t.replace(/\+/g,","));return r.named&&r.numeric?function(o,i){return o.replace(i?fa:da,function(a){return void 0!==xr[a]?xr[a]:void 0!==n[a]?n[a]:1<a.length?"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";":"&#"+a.charCodeAt(0)+";"})}:r.named?e?function(o,i){return Ps(o,i,n)}:Ps:r.numeric?sm:um},decode:function(t){return t.replace(u1,function(e,n){return n?65535<(n="x"===n.charAt(0).toLowerCase()?parseInt(n.substr(1),16):parseInt(n,10))?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):s1[n]||String.fromCharCode(n):c1[e]||Vs[e]||(r=e,(o=P.fromTag("div").dom).innerHTML=r,o.textContent||o.innerText||r);var r,o})}},wr={},l1={},so=H.makeMap,ie=H.each,qs=H.extend,gm=H.explode,f1=H.inArray,d1={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},m1=/^(?:mouse|contextmenu)|click/,co=(fn.prototype.bind=function(t,e,n,r){function o(g){l.executeHandlers(ao(g||d.event),i)}var i,a,u,c,s,f,l=this,d=window;if(t&&3!==t.nodeType&&8!==t.nodeType){t[l.expando]?i=t[l.expando]:(i=l.count++,t[l.expando]=i,l.events[i]={}),r=r||t;for(var m=e.split(" "),p=m.length;p--;)s=o,c=f=!1,"DOMContentLoaded"===(u=m[p])&&(u="ready"),l.domLoaded&&"ready"===u&&"complete"===t.readyState?n.call(r,ao({type:u})):(l.hasMouseEnterLeave||(c=l.mouseEnterLeave[u])&&(s=function(g){var h=g.currentTarget,v=g.relatedTarget;if(v&&h.contains)v=h.contains(v);else for(;v&&v!==h;)v=v.parentNode;v||((g=ao(g||d.event)).type="mouseout"===g.type?"mouseleave":"mouseenter",g.target=h,l.executeHandlers(g,i))}),l.hasFocusIn||"focusin"!==u&&"focusout"!==u||(f=!0,c="focusin"===u?"focus":"blur",s=function(g){(g=ao(g||d.event)).type="focus"===g.type?"focusin":"focusout",l.executeHandlers(g,i)}),(a=l.events[i][u])?"ready"===u&&l.domLoaded?n(ao({type:u})):a.push({func:n,scope:r}):(l.events[i][u]=a=[{func:n,scope:r}],a.fakeName=c,a.capture=f,a.nativeHandler=s,"ready"===u?function(g,h,v){var b,y=g.document,S={type:"ready"};v.domLoaded?h(S):(b=function(){ia(g,"DOMContentLoaded",b),ia(g,"load",b),v.domLoaded||(v.domLoaded=!0,h(S)),g=null},"complete"===y.readyState||"interactive"===y.readyState&&y.body?b():Fs(g,"DOMContentLoaded",b),v.domLoaded||Fs(g,"load",b))}(t,s,l):Fs(t,c||u,s,f)));return t=a=null,n}},fn.prototype.unbind=function(t,e,n){var r,o,i;if(!t||3===t.nodeType||8===t.nodeType)return this;var a=t[this.expando];if(a){if(i=this.events[a],e){for(var u,c,s,f,l=e.split(" "),d=l.length;d--;)if(f=i[o=l[d]]){if(n)for(r=f.length;r--;)f[r].func===n&&(u=f.nativeHandler,c=f.fakeName,s=f.capture,(f=f.slice(0,r).concat(f.slice(r+1))).nativeHandler=u,f.fakeName=c,f.capture=s,i[o]=f);n&&0!==f.length||(delete i[o],ia(t,f.fakeName||o,f.nativeHandler,f.capture))}}else Bt(i,function(m,p){ia(t,m.fakeName||p,m.nativeHandler,m.capture)}),i={};for(o in i)if(vt(i,o))return this;delete this.events[a];try{delete t[this.expando]}catch(m){t[this.expando]=null}}return this},fn.prototype.fire=function(t,e,n){var r;if(!t||3===t.nodeType||8===t.nodeType)return this;for(var o=ao({type:e,target:t},n);(r=t[this.expando])&&this.executeHandlers(o,r),(t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow)&&!o.isPropagationStopped(););return this},fn.prototype.clean=function(t){var e,n;if(!t||3===t.nodeType||8===t.nodeType)return this;if(t[this.expando]&&this.unbind(t),(t=t.getElementsByTagName?t:t.document)&&t.getElementsByTagName)for(this.unbind(t),e=(n=t.getElementsByTagName("*")).length;e--;)(t=n[e])[this.expando]&&this.unbind(t);return this},fn.prototype.destroy=function(){this.events={}},fn.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},fn.prototype.executeHandlers=function(t,e){var n=this.events[e],r=n&&n[t.type];if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o];if(a&&!1===a.func.call(a.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return}},fn.Event=new fn,fn);function fn(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}function Wn(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(65536+r):String.fromCharCode(r>>10|55296,1023&r|56320)}var Wt,_t,ma,pm,ni,$s,hm,ga,Kn,lo,Xn,De,pa,dn,Yn,fo,ri,re="sizzle"+-new Date,Ge=window.document,mn=0,g1=0,vm=Ys(),bm=Ys(),ym=Ys(),Ws=function(t,e){return t===e&&(lo=!0),0},ha="undefined",p1={}.hasOwnProperty,Gn=[],h1=Gn.pop,v1=Gn.push,Jn=Gn.push,Cm=Gn.slice,Sr=Gn.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},Pt="[\\x20\\t\\r\\n\\f]",Er="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",xm="\\["+Pt+"*("+Er+")(?:"+Pt+"*([*^$|!~]?=)"+Pt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Er+"))|)"+Pt+"*\\]",wm=":("+Er+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+xm+")*)|.*)\\)|)",va=new RegExp("^"+Pt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Pt+"+$","g"),b1=new RegExp("^"+Pt+"*,"+Pt+"*"),y1=new RegExp("^"+Pt+"*([>+~]|"+Pt+")"+Pt+"*"),C1=new RegExp("="+Pt+"*([^\\]'\"]*?)"+Pt+"*\\]","g"),x1=new RegExp(wm),w1=new RegExp("^"+Er+"$"),ba={ID:new RegExp("^#("+Er+")"),CLASS:new RegExp("^\\.("+Er+")"),TAG:new RegExp("^("+Er+"|[*])"),ATTR:new RegExp("^"+xm),PSEUDO:new RegExp("^"+wm),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Pt+"*(even|odd|(([+-]|)(\\d*)n|)"+Pt+"*(?:([+-]|)"+Pt+"*(\\d+)|))"+Pt+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+Pt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Pt+"*((?:-\\d)?\\d*)"+Pt+"*\\)|)(?=[^-]|$)","i")},S1=/^(?:input|select|textarea|button)$/i,E1=/^h\d$/i,Ks=/^[^{]+\{\s*\[native \w/,N1=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Xs=/[+~]/,k1=/'|\\/g,Qn=new RegExp("\\\\([\\da-f]{1,6}"+Pt+"?|("+Pt+")|.)","ig");try{Jn.apply(Gn=Cm.call(Ge.childNodes),Ge.childNodes)}catch(t){Jn={apply:Gn.length?function(e,n){v1.apply(e,Cm.call(n))}:function(e,n){for(var r=e.length,o=0;e[r++]=n[o++];);e.length=r-1}}}var St=function(t,e,n,r){var o,i,a,u,c,s,f,l,d,m;if((e?e.ownerDocument||e:Ge)!==De&&Xn(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(u=(e=e||De).nodeType)&&9!==u)return[];if(dn&&!r){if(o=N1.exec(t))if(a=o[1]){if(9===u){if(!(i=e.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(e.ownerDocument&&(i=e.ownerDocument.getElementById(a))&&ri(e,i)&&i.id===a)return n.push(i),n}else{if(o[2])return Jn.apply(n,e.getElementsByTagName(t)),n;if((a=o[3])&&Wt.getElementsByClassName)return Jn.apply(n,e.getElementsByClassName(a)),n}if(Wt.qsa&&(!Yn||!Yn.test(t))){if(l=f=re,d=e,m=9===u&&t,1===u&&"object"!==e.nodeName.toLowerCase()){for(s=ni(t),(f=e.getAttribute("id"))?l=f.replace(k1,"\\$&"):e.setAttribute("id",l),l="[id='"+l+"'] ",c=s.length;c--;)s[c]=l+ya(s[c]);d=Xs.test(t)&&Gs(e.parentNode)||e,m=s.join(",")}if(m)try{return Jn.apply(n,d.querySelectorAll(m)),n}catch(p){}finally{f||e.removeAttribute("id")}}}return hm(t.replace(va,"$1"),e,n,r)};function Ys(){var t=[];return function e(n,r){return t.push(n+" ")>_t.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function Je(t){return t[re]=!0,t}function Sm(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function Nr(t){return Je(function(e){return e=+e,Je(function(n,r){for(var o,i=t([],n.length,e),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function Gs(t){return t&&typeof t.getElementsByTagName!=ha&&t}function Em(){}function ya(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function Js(t,e,n){var r=e.dir,o=n&&"parentNode"===r,i=g1++;return e.first?function(a,u,c){for(;a=a[r];)if(1===a.nodeType||o)return t(a,u,c)}:function(a,u,c){var s,f,l=[mn,i];if(c){for(;a=a[r];)if((1===a.nodeType||o)&&t(a,u,c))return!0}else for(;a=a[r];)if(1===a.nodeType||o){if((s=(f=a[re]||(a[re]={}))[r])&&s[0]===mn&&s[1]===i)return l[2]=s[2];if((f[r]=l)[2]=t(a,u,c))return!0}}}function Qs(t){return 1<t.length?function(e,n,r){for(var o=t.length;o--;)if(!t[o](e,n,r))return!1;return!0}:t[0]}function Ca(t,e,n,r,o){for(var i,a=[],u=0,c=t.length,s=null!=e;u<c;u++)(i=t[u])&&(n&&!n(i,r,o)||(a.push(i),s&&e.push(u)));return a}function oi(t){return void 0!==t}function Zs(t){return"string"==typeof t}function Nm(t,e){var n,r=(e=e||Am).createElement("div"),o=e.createDocumentFragment();for(r.innerHTML=t;n=r.firstChild;)o.appendChild(n);return o}function km(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")}function _m(t,e,n){var r,o;return e=mt(e)[0],t.each(function(){n&&r===this.parentNode||(r=this.parentNode,o=e.cloneNode(!1),this.parentNode.insertBefore(o,this)),o.appendChild(this)}),t}function Ae(t,e){return new mt.fn.init(t,e)}function Rm(t){return null==t?"":(""+t).replace(P1,"")}function Rn(t,e){var n,r,o,i;if(t)if(void 0===(n=t.length)){for(r in t)if(t.hasOwnProperty(r)&&!1===e.call(i=t[r],r,i))break}else for(o=0;o<n&&!1!==e.call(i=t[o],o,i);o++);return t}function Dm(t,e){var n=[];return Rn(t,function(r,o){e(o,r)&&n.push(o)}),n}Wt=St.support={},pm=St.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},Xn=St.setDocument=function(t){var e,n=t?t.ownerDocument||t:Ge,r=n.defaultView;return n!==De&&9===n.nodeType&&n.documentElement?(pa=(De=n).documentElement,dn=!pm(n),r&&r!==function(o){try{return o.top}catch(i){}return null}(r)&&(r.addEventListener?r.addEventListener("unload",function(){Xn()},!1):r.attachEvent&&r.attachEvent("onunload",function(){Xn()})),Wt.attributes=!0,Wt.getElementsByTagName=!0,Wt.getElementsByClassName=Ks.test(n.getElementsByClassName),Wt.getById=!0,_t.find.ID=function(o,i){if(typeof i.getElementById!=ha&&dn){var a=i.getElementById(o);return a&&a.parentNode?[a]:[]}},_t.filter.ID=function(o){var i=o.replace(Qn,Wn);return function(a){return a.getAttribute("id")===i}},_t.find.TAG=Wt.getElementsByTagName?function(o,i){if(typeof i.getElementsByTagName!=ha)return i.getElementsByTagName(o)}:function(o,i){var a,u=[],c=0,s=i.getElementsByTagName(o);if("*"!==o)return s;for(;a=s[c++];)1===a.nodeType&&u.push(a);return u},_t.find.CLASS=Wt.getElementsByClassName&&function(o,i){if(dn)return i.getElementsByClassName(o)},fo=[],Yn=[],Wt.disconnectedMatch=!0,Yn=Yn.length&&new RegExp(Yn.join("|")),fo=fo.length&&new RegExp(fo.join("|")),e=Ks.test(pa.compareDocumentPosition),ri=e||Ks.test(pa.contains)?function(o,i){var a=9===o.nodeType?o.documentElement:o,u=i&&i.parentNode;return o===u||!(!u||1!==u.nodeType||!(a.contains?a.contains(u):o.compareDocumentPosition&&16&o.compareDocumentPosition(u)))}:function(o,i){if(i)for(;i=i.parentNode;)if(i===o)return!0;return!1},Ws=e?function(o,i){return o===i?(lo=!0,0):(a=!o.compareDocumentPosition-!i.compareDocumentPosition)||(1&(a=(o.ownerDocument||o)===(i.ownerDocument||i)?o.compareDocumentPosition(i):1)||!Wt.sortDetached&&i.compareDocumentPosition(o)===a?o===n||o.ownerDocument===Ge&&ri(Ge,o)?-1:i===n||i.ownerDocument===Ge&&ri(Ge,i)?1:Kn?Sr.call(Kn,o)-Sr.call(Kn,i):0:4&a?-1:1);var a}:function(o,i){if(o===i)return lo=!0,0;var a,u=0,c=o.parentNode,s=i.parentNode,f=[o],l=[i];if(!c||!s)return o===n?-1:i===n?1:c?-1:s?1:Kn?Sr.call(Kn,o)-Sr.call(Kn,i):0;if(c===s)return Sm(o,i);for(a=o;a=a.parentNode;)f.unshift(a);for(a=i;a=a.parentNode;)l.unshift(a);for(;f[u]===l[u];)u++;return u?Sm(f[u],l[u]):f[u]===Ge?-1:l[u]===Ge?1:0},n):De},St.matches=function(t,e){return St(t,null,null,e)},St.matchesSelector=function(t,e){if((t.ownerDocument||t)!==De&&Xn(t),e=e.replace(C1,"='$1']"),Wt.matchesSelector&&dn&&(!fo||!fo.test(e))&&(!Yn||!Yn.test(e)))try{var n=(void 0).call(t,e);if(n||Wt.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(r){}return 0<St(e,De,null,[t]).length},St.contains=function(t,e){return(t.ownerDocument||t)!==De&&Xn(t),ri(t,e)},St.attr=function(t,e){(t.ownerDocument||t)!==De&&Xn(t);var n=_t.attrHandle[e.toLowerCase()],r=n&&p1.call(_t.attrHandle,e.toLowerCase())?n(t,e,!dn):void 0;return void 0!==r?r:Wt.attributes||!dn?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},St.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},St.uniqueSort=function(t){var e,n=[],r=0,o=0;if(lo=!Wt.detectDuplicates,Kn=!Wt.sortStable&&t.slice(0),t.sort(Ws),lo){for(;e=t[o++];)e===t[o]&&(r=n.push(o));for(;r--;)t.splice(n[r],1)}return Kn=null,t},ma=St.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=ma(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=ma(e);return n},(_t=St.selectors={cacheLength:50,createPseudo:Je,match:ba,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Qn,Wn),t[3]=(t[3]||t[4]||t[5]||"").replace(Qn,Wn),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||St.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&St.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ba.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&x1.test(n)&&(e=ni(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Qn,Wn).toLowerCase();return"*"===t?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===e}},CLASS:function(t){var e=vm[t+" "];return e||(e=new RegExp("(^|"+Pt+")"+t+"("+Pt+"|$)"))&&vm(t,function(n){return e.test("string"==typeof n.className&&n.className||typeof n.getAttribute!=ha&&n.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var o=St.attr(r,t);return null==o?"!="===e:!e||(o+="","="===e?o===n:"!="===e?o!==n:"^="===e?n&&0===o.indexOf(n):"*="===e?n&&-1<o.indexOf(n):"$="===e?n&&o.slice(-n.length)===n:"~="===e?-1<(" "+o+" ").indexOf(n):"|="===e&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,o){var i="nth"!==t.slice(0,3),a="last"!==t.slice(-4),u="of-type"===e;return 1===r&&0===o?function(c){return!!c.parentNode}:function(c,s,f){var l,d,m,p,g,h,v=i!=a?"nextSibling":"previousSibling",b=c.parentNode,y=u&&c.nodeName.toLowerCase(),S=!f&&!u;if(b){if(i){for(;v;){for(m=c;m=m[v];)if(u?m.nodeName.toLowerCase()===y:1===m.nodeType)return!1;h=v="only"===t&&!h&&"nextSibling"}return!0}if(h=[a?b.firstChild:b.lastChild],a&&S){for(g=(l=(d=b[re]||(b[re]={}))[t]||[])[0]===mn&&l[1],p=l[0]===mn&&l[2],m=g&&b.childNodes[g];m=++g&&m&&m[v]||(p=g=0)||h.pop();)if(1===m.nodeType&&++p&&m===c){d[t]=[mn,g,p];break}}else if(S&&(l=(c[re]||(c[re]={}))[t])&&l[0]===mn)p=l[1];else for(;(m=++g&&m&&m[v]||(p=g=0)||h.pop())&&((u?m.nodeName.toLowerCase()!==y:1!==m.nodeType)||!++p||(S&&((m[re]||(m[re]={}))[t]=[mn,p]),m!==c)););return(p-=o)===r||p%r==0&&0<=p/r}}},PSEUDO:function(t,e){var n,r=_t.pseudos[t]||_t.setFilters[t.toLowerCase()]||St.error("unsupported pseudo: "+t);return r[re]?r(e):1<r.length?(n=[t,t,"",e],_t.setFilters.hasOwnProperty(t.toLowerCase())?Je(function(o,i){for(var a,u=r(o,e),c=u.length;c--;)o[a=Sr.call(o,u[c])]=!(i[a]=u[c])}):function(o){return r(o,0,n)}):r}},pseudos:{not:Je(function(t){var e=[],n=[],r=$s(t.replace(va,"$1"));return r[re]?Je(function(o,i,a,u){for(var c,s=r(o,null,u,[]),f=o.length;f--;)(c=s[f])&&(o[f]=!(i[f]=c))}):function(o,i,a){return e[0]=o,r(e,null,a,n),e[0]=null,!n.pop()}}),has:Je(function(t){return function(e){return 0<St(t,e).length}}),contains:Je(function(t){return t=t.replace(Qn,Wn),function(e){return-1<(e.textContent||e.innerText||ma(e)).indexOf(t)}}),lang:Je(function(t){return w1.test(t||"")||St.error("unsupported lang: "+t),t=t.replace(Qn,Wn).toLowerCase(),function(e){var n;do{if(n=dn?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(t){var e=window.location&&window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===pa},focus:function(t){return t===De.activeElement&&(!De.hasFocus||De.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_t.pseudos.empty(t)},header:function(t){return E1.test(t.nodeName)},input:function(t){return S1.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:Nr(function(){return[0]}),last:Nr(function(t,e){return[e-1]}),eq:Nr(function(t,e,n){return[n<0?n+e:n]}),even:Nr(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:Nr(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:Nr(function(t,e,n){for(var r=n<0?n+e:n;0<=--r;)t.push(r);return t}),gt:Nr(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=_t.pseudos.eq,rt(["radio","checkbox","file","password","image"],function(t){var e;_t.pseudos[t]=(e=t,function(n){return"input"===n.nodeName.toLowerCase()&&n.type===e})}),rt(["submit","reset"],function(t){var e;_t.pseudos[t]=(e=t,function(n){var r=n.nodeName.toLowerCase();return("input"===r||"button"===r)&&n.type===e})}),Em.prototype=_t.filters=_t.pseudos,_t.setFilters=new Em,ni=St.tokenize=function(t,e){var n,r,o,i,a,u,c,s=bm[t+" "];if(s)return e?0:s.slice(0);for(a=t,u=[],c=_t.preFilter;a;){for(i in n&&!(r=b1.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=y1.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(va," ")}),a=a.slice(n.length)),_t.filter)_t.filter.hasOwnProperty(i)&&(!(r=ba[i].exec(a))||c[i]&&!(r=c[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length)));if(!n)break}return e?a.length:a?St.error(t):bm(t,u).slice(0)},$s=St.compile=function(t,e){var n,r,o,i,a,u=[],c=[],s=ym[t+" "];if(!s){for(n=(e=e||ni(t)).length;n--;)((s=function l(d){for(var m,p,g,h=d.length,v=_t.relative[d[0].type],b=v||_t.relative[" "],y=v?1:0,S=Js(function(x){return x===m},b,!0),k=Js(function(x){return-1<Sr.call(m,x)},b,!0),C=[function(x,E,A){var B=!v&&(A||E!==ga)||((m=E).nodeType?S:k)(x,E,A);return m=null,B}];y<h;y++)if(p=_t.relative[d[y].type])C=[Js(Qs(C),p)];else{if((p=_t.filter[d[y].type].apply(null,d[y].matches))[re]){for(g=++y;g<h&&!_t.relative[d[g].type];g++);return function x(E,A,B,L,_,T){return L&&!L[re]&&(L=x(L)),_&&!_[re]&&(_=x(_,T)),Je(function(R,O,I,$){var X,F,U,J=[],Q=[],W=O.length,it=R||function(K,Z,tt){for(var yt=0,w=Z.length;yt<w;yt++)St(K,Z[yt],tt);return tt}(A||"*",I.nodeType?[I]:I,[]),V=!E||!R&&A?it:Ca(it,J,E,I,$),G=B?_||(R?E:W||L)?[]:O:V;if(B&&B(V,G,I,$),L)for(X=Ca(G,Q),L(X,[],I,$),F=X.length;F--;)(U=X[F])&&(G[Q[F]]=!(V[Q[F]]=U));if(R){if(_||E){if(_){for(X=[],F=G.length;F--;)(U=G[F])&&X.push(V[F]=U);_(null,G=[],X,$)}for(F=G.length;F--;)(U=G[F])&&-1<(X=_?Sr.call(R,U):J[F])&&(R[X]=!(O[X]=U))}}else G=Ca(G===O?G.splice(W,G.length):G),_?_(null,O,G,$):Jn.apply(O,G)})}(1<y&&Qs(C),1<y&&ya(d.slice(0,y-1).concat({value:" "===d[y-2].type?"*":""})).replace(va,"$1"),p,y<g&&l(d.slice(y,g)),g<h&&l(d=d.slice(g)),g<h&&ya(d))}C.push(p)}return Qs(C)}(e[n]))[re]?u:c).push(s);(s=ym(t,(r=c,i=0<(o=u).length,a=0<r.length,i?Je(f):f))).selector=t}function f(l,d,m,p,g){var h,v,b,y=0,S="0",k=l&&[],C=[],x=ga,E=l||a&&_t.find.TAG("*",g),A=mn+=null==x?1:Math.random()||.1,B=E.length;for(g&&(ga=d!==De&&d);S!==B&&null!=(h=E[S]);S++){if(a&&h){for(v=0;b=r[v++];)if(b(h,d,m)){p.push(h);break}g&&(mn=A)}i&&((h=!b&&h)&&y--,l&&k.push(h))}if(y+=S,i&&S!==y){for(v=0;b=o[v++];)b(k,C,d,m);if(l){if(0<y)for(;S--;)k[S]||C[S]||(C[S]=h1.call(p));C=Ca(C)}Jn.apply(p,C),g&&!l&&0<C.length&&1<y+o.length&&St.uniqueSort(p)}return g&&(mn=A,ga=x),k}return s},hm=St.select=function(t,e,n,r){var o,i,a,u,c,s="function"==typeof t&&t,f=!r&&ni(t=s.selector||t);if(n=n||[],1===f.length){if(2<(i=f[0]=f[0].slice(0)).length&&"ID"===(a=i[0]).type&&Wt.getById&&9===e.nodeType&&dn&&_t.relative[i[1].type]){if(!(e=(_t.find.ID(a.matches[0].replace(Qn,Wn),e)||[])[0]))return n;s&&(e=e.parentNode),t=t.slice(i.shift().value.length)}for(o=ba.needsContext.test(t)?0:i.length;o--&&!_t.relative[u=(a=i[o]).type];)if((c=_t.find[u])&&(r=c(a.matches[0].replace(Qn,Wn),Xs.test(i[0].type)&&Gs(e.parentNode)||e))){if(i.splice(o,1),!(t=r.length&&ya(i)))return Jn.apply(n,r),n;break}}return(s||$s(t,f))(r,e,!dn,n,Xs.test(t)&&Gs(e.parentNode)||e),n},Wt.sortStable=re.split("").sort(Ws).join("")===re,Wt.detectDuplicates=!!lo,Xn(),Wt.sortDetached=!0;var Am=document,tc=Array.prototype.push,_1=Array.prototype.slice,R1=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ii=co.Event,D1=H.makeMap("children,contents,next,prev"),mo=function(t,e,n,r){var o;if(Zs(e))e=Nm(e,rc(t[0]));else if(e.length&&!e.nodeType){if(e=mt.makeArray(e),r)for(o=e.length-1;0<=o;o--)mo(t,e[o],n,r);else for(o=0;o<e.length;o++)mo(t,e[o],n,r);return t}if(e.nodeType)for(o=t.length;o--;)n.call(t[o],e);return t},A1=H.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),T1=H.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),O1={for:"htmlFor",class:"className",readonly:"readOnly"},B1={float:"cssFloat"},ec={},nc={},P1=/^\s*|\s*$/g,rc=function(t){return t?9===t.nodeType?t:t.ownerDocument:Am};function Tm(t,e,n){var r=[],o=t[e];for("string"!=typeof n&&n instanceof mt&&(n=n[0]);o&&9!==o.nodeType&&(void 0===n||!(o===n||"string"==typeof n&&mt(o).is(n)));)1===o.nodeType&&r.push(o),o=o[e];return r}function oc(t,e,n,r){var o=[];for(r instanceof mt&&(r=r[0]);t;t=t[e])if(!n||t.nodeType===n){if(void 0!==r&&(t===r||"string"==typeof r&&mt(t).is(r)))break;o.push(t)}return o}function Om(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType===n)return t;return null}function Bm(t,e){var n=e.attr("style"),r=t.serialize(t.parse(n),e[0].nodeName)||null;e.attr("data-mce-style",r)}function go(t,e){var n,r,o=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)r=t.nodeType,(!e||3!==r||r!==n&&t.nodeValue.length)&&(o++,n=r);return o}Ae.fn=Ae.prototype={constructor:Ae,selector:"",context:null,length:0,init:function(t,e){var n,r,o=this;if(!t)return o;if(t.nodeType)return o.context=o[0]=t,o.length=1,o;if(e&&e.nodeType)o.context=e;else{if(e)return mt(t).attr(e);o.context=e=document}if(Zs(t)){if(!(n="<"===(o.selector=t).charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:R1.exec(t)))return mt(e).find(t);if(n[1])for(r=Nm(t,rc(e)).firstChild;r;)tc.call(o,r),r=r.nextSibling;else{if(!(r=rc(e).getElementById(n[2])))return o;if(r.id!==n[2])return o.find(t);o.length=1,o[0]=r}}else this.add(t,!1);return o},toArray:function(){return H.toArray(this)},add:function(t,e){var n,r;if(Zs(t))return this.add(mt(t));if(!1!==e)for(n=mt.unique(this.toArray().concat(mt.makeArray(t))),this.length=n.length,r=0;r<n.length;r++)this[r]=n[r];else tc.apply(this,mt.makeArray(t));return this},attr:function(t,e){var n,r=this;if("object"==typeof t)Rn(t,function(o,i){r.attr(o,i)});else{if(!oi(e)){if(r[0]&&1===r[0].nodeType){if((n=ec[t])&&n.get)return n.get(r[0],t);if(T1[t])return r.prop(t)?t:void 0;null===(e=r[0].getAttribute(t,2))&&(e=void 0)}return e}this.each(function(){var o;1===this.nodeType&&((o=ec[t])&&o.set?o.set(this,e):null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2))})}return r},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if("object"==typeof(t=O1[t]||t))Rn(t,function(r,o){n.prop(r,o)});else{if(!oi(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each(function(){1===this.nodeType&&(this[t]=e)})}return n},css:function(t,e){function n(u){return u.replace(/-(\D)/g,function(c,s){return s.toUpperCase()})}function r(u){return u.replace(/[A-Z]/g,function(c){return"-"+c})}var o,i,a=this;if("object"==typeof t)Rn(t,function(u,c){a.css(u,c)});else if(oi(e))t=n(t),"number"!=typeof e||A1[t]||(e=e.toString()+"px"),a.each(function(){var u=this.style;if((i=nc[t])&&i.set)i.set(this,e);else{try{this.style[B1[t]||t]=e}catch(c){}null!==e&&""!==e||(u.removeProperty?u.removeProperty(r(t)):u.removeAttribute(t))}});else{if(o=a[0],(i=nc[t])&&i.get)return i.get(o);if(!o.ownerDocument.defaultView)return o.currentStyle?o.currentStyle[n(t)]:"";try{return o.ownerDocument.defaultView.getComputedStyle(o,null).getPropertyValue(r(t))}catch(u){return}}return a},remove:function(){for(var t,e=this.length;e--;)ii.clean(t=this[e]),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this.length;e--;)for(t=this[e];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e;if(oi(t)){e=this.length;try{for(;e--;)this[e].innerHTML=t}catch(n){mt(this[e]).empty().append(t)}return this}return this[0]?this[0].innerHTML:""},text:function(t){var e;if(oi(t)){for(e=this.length;e--;)"innerText"in this[e]?this[e].innerText=t:this[0].textContent=t;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return mo(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)})},prepend:function(){return mo(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?mo(this,arguments,function(t){this.parentNode.insertBefore(t,this)}):this},after:function(){return this[0]&&this[0].parentNode?mo(this,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):this},appendTo:function(t){return mt(t).append(this),this},prependTo:function(t){return mt(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return _m(this,t)},wrapAll:function(t){return _m(this,t,!0)},wrapInner:function(t){return this.each(function(){mt(this).contents().wrapAll(t)}),this},unwrap:function(){return this.parent().each(function(){mt(this).replaceWith(this.childNodes)})},clone:function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),mt(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!=typeof t||(-1!==t.indexOf(" ")?Rn(t.split(" "),function(){n.toggleClass(this,e)}):n.each(function(r,o){var i,a=km(o,t);a!==e&&(i=o.className,a?o.className=Rm((" "+i+" ").replace(" "+t+" "," ")):o.className+=i?" "+t:t)})),n},hasClass:function(t){return km(this[0],t)},each:function(t){return Rn(this,t)},on:function(t,e){return this.each(function(){ii.bind(this,t,e)})},off:function(t,e){return this.each(function(){ii.unbind(this,t,e)})},trigger:function(t){return this.each(function(){"object"==typeof t?ii.fire(this,t.type,t):ii.fire(this,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return mt(_1.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){for(var e=[],n=0,r=this.length;n<r;n++)mt.find(t,this[n],e);return mt(e)},filter:function(t){return mt("function"==typeof t?Dm(this.toArray(),function(e,n){return t(n,e)}):mt.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof mt&&(t=t[0]),this.each(function(n,r){for(;r;){if("string"==typeof t&&mt(r).is(t)){e.push(r);break}if(r===t){e.push(r);break}r=r.parentNode}}),mt(e)},offset:function(t){var e,n,r,o,i=0,a=0;return t?this.css(t):((e=this[0])&&(r=(n=e.ownerDocument).documentElement,e.getBoundingClientRect&&(i=(o=e.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:tc,sort:Array.prototype.sort,splice:Array.prototype.splice},H.extend(Ae,{extend:H.extend,makeArray:function(t){return t&&t===t.window||t.nodeType?[t]:H.toArray(t)},inArray:function(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1},isArray:H.isArray,each:Rn,trim:Rm,grep:Dm,find:St,expr:St.selectors,unique:St.uniqueSort,text:St.getText,contains:St.contains,filter:function(t,e,n){var r=e.length;for(n&&(t=":not("+t+")");r--;)1!==e[r].nodeType&&e.splice(r,1);return 1===e.length?mt.find.matchesSelector(e[0],t)?[e[0]]:[]:mt.find.matches(t,e)}}),Rn({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Tm(t,"parentNode")},next:function(t){return Om(t,"nextSibling",1)},prev:function(t){return Om(t,"previousSibling",1)},children:function(t){return oc(t.firstChild,"nextSibling",1)},contents:function(t){return H.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},function(t,e){Ae.fn[t]=function(n){var r=[];this.each(function(){var i=e.call(r,this,n,r);i&&(mt.isArray(i)?r.push.apply(r,i):r.push(i))}),1<this.length&&(D1[t]||(r=mt.unique(r)),0===t.indexOf("parents")&&(r=r.reverse()));var o=mt(r);return n?o.filter(n):o}}),Rn({parentsUntil:function(t,e){return Tm(t,"parentNode",e)},nextUntil:function(t,e){return oc(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return oc(t,"previousSibling",1,e).slice(1)}},function(t,e){Ae.fn[t]=function(n,r){var o=[];this.each(function(){var a=e.call(o,this,n,o);a&&(mt.isArray(a)?o.push.apply(o,a):o.push(a))}),1<this.length&&(o=mt.unique(o),0!==t.indexOf("parents")&&"prevUntil"!==t||(o=o.reverse()));var i=mt(o);return r?i.filter(r):i}}),Ae.fn.is=function(t){return!!t&&0<this.filter(t).length},Ae.fn.init.prototype=Ae.fn,Ae.overrideDefaults=function(t){var e,n=function(r,o){return e=e||t(),0===arguments.length&&(r=e.element),new n.fn.init(r,o=o||e.context)};return mt.extend(n,this),n},Ae.attrHooks=ec,Ae.cssHooks=nc;var mt=Ae,ai=H.each,L1=H.grep,ic=dt.ie,I1=/^([a-z0-9],?)+$/i,Nt=function(t,e){function n(w){return w&&t&&Ft(w)?t.getElementById(w):w}function r(w){return V("string"==typeof w?n(w):w)}function o(w,D,z){var j,q,Y=r(w);return void 0===(q=Y.length?(j=yt[D])&&j.get?j.get(Y,D):Y.attr(D):q)?z||"":q}function i(w){var D=n(w);return D?D.attributes:[]}function a(w,D,z){""===z&&(z=null);var j,q=r(w),Y=q.attr(D);q.length&&((j=yt[D])&&j.set?j.set(q,z,D):q.attr(D,z),Y!==z&&e.onSetAttrib&&e.onSetAttrib({attrElm:q,attrName:D,attrValue:z}))}function u(){return e.root_element||t.body}function c(w,D){return function(z,j,q){var Y,at=0,lt=0,wt=z.ownerDocument;if(q=q||z,j){if(q===z&&j.getBoundingClientRect&&"static"===_n(P.fromDom(z),"position")){var xt=j.getBoundingClientRect();return{x:at=xt.left+(wt.documentElement.scrollLeft||z.scrollLeft)-wt.documentElement.clientLeft,y:lt=xt.top+(wt.documentElement.scrollTop||z.scrollTop)-wt.documentElement.clientTop}}for(var ut=j;ut&&ut!==q&&ut.nodeType&&!jd(ut,q);)at+=ut.offsetLeft||0,lt+=ut.offsetTop||0,ut=ut.offsetParent;for(ut=j.parentNode;ut&&ut!==q&&ut.nodeType&&!jd(ut,q);)at-=ut.scrollLeft||0,lt-=ut.scrollTop||0,ut=ut.parentNode;lt+=(Y=P.fromDom(j),jy.isFirefox()&&"table"===jt(Y)?Hd(ze(Y)).filter(function(Et){return"caption"===jt(Et)}).bind(function(Et){return Hd(kd(Et)).map(function(Vt){return Vt.dom.offsetTop<=Et.dom.offsetTop?-Et.dom.offsetHeight:0})}).getOr(0):0)}return{x:at,y:lt}}(t.body,n(w),D)}function s(w,D,z){var j=r(w);return z?j.css(D):("float"===(D=D.replace(/-(\D)/g,function(q,Y){return Y.toUpperCase()}))&&(D=dt.browser.isIE()?"styleFloat":"cssFloat"),j[0]&&j[0].style?j[0].style[D]:void 0)}function f(w){var D=s(w=n(w),"width"),z=s(w,"height");return-1===D.indexOf("px")&&(D=0),-1===z.indexOf("px")&&(z=0),{w:parseInt(D,10)||w.offsetWidth||w.clientWidth,h:parseInt(z,10)||w.offsetHeight||w.clientHeight}}function l(w,D){if(!w)return!1;if(!Array.isArray(w)){if("*"===D)return 1===w.nodeType;if(I1.test(D)){for(var z=D.toLowerCase().split(/,/),j=w.nodeName.toLowerCase(),q=z.length-1;0<=q;q--)if(z[q]===j)return!0;return!1}if(w.nodeType&&1!==w.nodeType)return!1}var Y=Array.isArray(w)?w:[w];return 0<St(D,Y[0].ownerDocument||Y[0],null,Y).length}function d(w,D,z,j){var q,Y=[],at=n(w);for(j=void 0===j,z=z||("BODY"!==u().nodeName?u().parentNode:null),H.is(D,"string")&&(D="*"===(q=D)?function(lt){return 1===lt.nodeType}:function(lt){return l(lt,q)});at&&!(at===z||rn(at.nodeType)||ws(at)||Ss(at));){if(!D||"function"==typeof D&&D(at)){if(!j)return[at];Y.push(at)}at=at.parentNode}return j?Y:null}function m(w,D,z){var j=D;if(w)for("string"==typeof D&&(j=function(q){return l(q,D)}),w=w[z];w;w=w[z])if("function"==typeof j&&j(w))return w;return null}function p(w,D,z){var j,q="string"==typeof w?n(w):w;return!!q&&(H.isArray(q)&&(q.length||0===q.length)?(j=[],ai(q,function(Y,at){Y&&j.push(D.call(z,"string"==typeof Y?n(Y):Y,at))}),j):D.call(z||this,q))}function g(w,D){r(w).each(function(z,j){ai(D,function(q,Y){a(j,Y,q)})})}function h(w,D){var z=r(w);ic?z.each(function(j,q){if(!1!==q.canHaveHTML){for(;q.firstChild;)q.removeChild(q.firstChild);try{q.innerHTML="<br>"+D,q.removeChild(q.firstChild)}catch(Y){mt("<div></div>").html("<br>"+D).contents().slice(1).appendTo(q)}return D}}):z.html(D)}function v(w,D,z,j,q){return p(w,function(Y){var at="string"==typeof D?t.createElement(D):D;return g(at,z),j&&("string"!=typeof j&&j.nodeType?at.appendChild(j):"string"==typeof j&&h(at,j)),q?at:Y.appendChild(at)})}function b(w,D,z){return v(t.createElement(w),w,D,z,!0)}function y(w,D){var z=r(w);return(D?z.each(function(){for(var j;j=this.firstChild;)3===j.nodeType&&0===j.data.length?this.removeChild(j):this.parentNode.insertBefore(j,this)}):z).remove(),1<z.length?z.toArray():z[0]}function S(w,D,z){r(w).toggleClass(D,z).each(function(){""===this.className&&mt(this).attr("class",null)})}function k(w,D,z){return p(D,function(j){return H.is(j,"array")&&(w=w.cloneNode(!0)),z&&ai(L1(j.childNodes),function(q){w.appendChild(q)}),j.parentNode.replaceChild(w,j)})}function C(w){if(ct(w)){var D="a"===w.nodeName.toLowerCase()&&!o(w,"href")&&o(w,"id");return o(w,"name")||o(w,"data-mce-bookmark")||D?1:void 0}}function x(){return t.createRange()}function E(w){if(w&&ct(w)){var D=w.getAttribute("data-mce-contenteditable");return D&&"inherit"!==D?D:"inherit"!==w.contentEditable?w.contentEditable:null}return null}void 0===e&&(e={});var A,B,L,_,T,R,O={},I=window,$={},X=0,F=em.forElement(P.fromDom(t),{contentCssCors:e.contentCssCors,referrerPolicy:e.referrerPolicy}),U=[],J=e.schema||Vn({}),Q=Is({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope},e.schema),W=e.ownEvents?new co:co.Event,it=J.getBlockElements(),V=mt.overrideDefaults(function(){return{context:t,element:tt.getRoot()}}),G=$n.encodeAllRaw,K=function(w,D,z,j){if(H.isArray(w)){for(var q=w.length,Y=[];q--;)Y[q]=K(w[q],D,z,j);return Y}return!e.collect||w!==t&&w!==I||U.push([w,D,z,j]),W.bind(w,D,z,j||tt)},Z=function(w,D,z){if(H.isArray(w)){for(var j=w.length,q=[];j--;)q[j]=Z(w[j],D,z);return q}if(0<U.length&&(w===t||w===I))for(j=U.length;j--;){var Y=U[j];w!==Y[0]||D&&D!==Y[1]||z&&z!==Y[2]||W.unbind(Y[0],Y[1],Y[2])}return W.unbind(w,D,z)},tt={doc:t,settings:e,win:I,files:$,stdMode:!0,boxModel:!0,styleSheetLoader:F,boundEvents:U,styles:Q,schema:J,events:W,isBlock:function(w){if("string"==typeof w)return!!it[w];if(w){var D=w.nodeType;if(D)return!(1!==D||!it[w.nodeName])}return!1},$:V,$$:r,root:null,clone:function(w,D){if(!ic||1!==w.nodeType||D)return w.cloneNode(D);var z=t.createElement(w.nodeName);return ai(i(w),function(j){a(z,j.nodeName,o(w,j.nodeName))}),z},getRoot:u,getViewPort:function(w){var D=Ld(w);return{x:D.x,y:D.y,w:D.width,h:D.height}},getRect:function(w){var D=c(w=n(w)),z=f(w);return{x:D.x,y:D.y,w:z.w,h:z.h}},getSize:f,getParent:function(w,D,z){var j=d(w,D,z,!1);return j&&0<j.length?j[0]:null},getParents:d,get:n,getNext:function(w,D){return m(w,D,"nextSibling")},getPrev:function(w,D){return m(w,D,"previousSibling")},select:function(w,D){return St(w,n(D)||e.root_element||t,[])},is:l,add:v,create:b,createHTML:function(w,D,z){var j,q="";for(j in q+="<"+w,D)Yr(D,j)&&(q+=" "+j+'="'+G(D[j])+'"');return void 0!==z?q+">"+z+"</"+w+">":q+" />"},createFragment:function(w){var D,z=t.createElement("div"),j=t.createDocumentFragment();for(j.appendChild(z),w&&(z.innerHTML=w);D=z.firstChild;)j.appendChild(D);return j.removeChild(z),j},remove:y,setStyle:function(w,D,z){var j=Ft(D)?r(w).css(D,z):r(w).css(D);e.update_styles&&Bm(Q,j)},getStyle:s,setStyles:function(w,D){var z=r(w).css(D);e.update_styles&&Bm(Q,z)},removeAllAttribs:function(w){return p(w,function(D){for(var z=D.attributes,j=z.length-1;0<=j;j--)D.removeAttributeNode(z.item(j))})},setAttrib:a,setAttribs:g,getAttrib:o,getPos:c,parseStyle:function(w){return Q.parse(w)},serializeStyle:function(w,D){return Q.serialize(w,D)},addStyle:function(w){var D,z;if(tt!==Nt.DOM&&t===document){if(O[w])return;O[w]=!0}(z=t.getElementById("mceDefaultStyles"))||((z=t.createElement("style")).id="mceDefaultStyles",z.type="text/css",(D=t.getElementsByTagName("head")[0]).firstChild?D.insertBefore(z,D.firstChild):D.appendChild(z)),z.styleSheet?z.styleSheet.cssText+=w:z.appendChild(t.createTextNode(w))},loadCSS:function(w){rt((w=w||"").split(","),function(D){$[D]=!0,F.load(D,pt)})},addClass:function(w,D){r(w).addClass(D)},removeClass:function(w,D){S(w,D,!1)},hasClass:function(w,D){return r(w).hasClass(D)},toggleClass:S,show:function(w){r(w).show()},hide:function(w){r(w).hide()},isHidden:function(w){return"none"===r(w).css("display")},uniqueId:function(w){return(w||"mce_")+X++},setHTML:h,getOuterHTML:function(w){var D="string"==typeof w?n(w):w;return ct(D)?D.outerHTML:mt("<div></div>").append(mt(D).clone()).html()},setOuterHTML:function(w,D){r(w).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=D)}catch(z){}y(mt(this).html(D),!0)})},decode:$n.decode,encode:G,insertAfter:function(w,D){var z=n(D);return p(w,function(j){var q=z.parentNode,Y=z.nextSibling;return Y?q.insertBefore(j,Y):q.appendChild(j),j})},replace:k,rename:function(w,D){var z;return w.nodeName!==D.toUpperCase()&&(z=b(D),ai(i(w),function(j){a(z,j.nodeName,o(w,j.nodeName))}),k(z,w,!0)),z||w},findCommonAncestor:function(w,D){for(var z,j=w;j;){for(z=D;z&&j!==z;)z=z.parentNode;if(j===z)break;j=j.parentNode}return!j&&w.ownerDocument?w.ownerDocument.documentElement:j},toHex:function(w){return Q.toHex(H.trim(w))},run:p,getAttribs:i,isEmpty:function(w,D){var z,j,q=0;if(C(w))return!1;if(w=w.firstChild){var Y=new qt(w,w.parentNode),at=J?J.getWhiteSpaceElements():{};D=D||(J?J.getNonEmptyElements():null);do{if(z=w.nodeType,ct(w)){var lt=w.getAttribute("data-mce-bogus");if(lt){w=Y.next("all"===lt);continue}if(j=w.nodeName.toLowerCase(),D&&D[j]){if("br"!==j)return!1;q++,w=Y.next();continue}if(C(w))return!1}if(8===z||3===z&&!Cr(w.nodeValue)||3===z&&w.parentNode&&at[w.parentNode.nodeName]&&Cr(w.nodeValue))return!1;w=Y.next()}while(w)}return q<=1},createRng:x,nodeIndex:go,split:function(w,D,z){var j,q,Y,at=x();if(w&&D)return at.setStart(w.parentNode,go(w)),at.setEnd(D.parentNode,go(D)),j=at.extractContents(),(at=x()).setStart(D.parentNode,go(D)+1),at.setEnd(w.parentNode,go(w)+1),q=at.extractContents(),(Y=w.parentNode).insertBefore(js(tt,j),w),Y.insertBefore(z||D,w),Y.insertBefore(js(tt,q),w),y(w),z||D},bind:K,unbind:Z,fire:function(w,D,z){return W.fire(w,D,z)},getContentEditable:E,getContentEditableParent:function(w){for(var D=u(),z=null;w&&w!==D&&null===(z=E(w));w=w.parentNode);return z},destroy:function(){if(0<U.length)for(var w=U.length;w--;){var D=U[w];W.unbind(D[0],D[1],D[2])}Bt($,function(z,j){F.unload(j),delete $[j]}),St.setDocument&&St.setDocument()},isChildOf:function(w,D){if(ic){for(;w;){if(D===w)return!0;w=w.parentNode}return!1}return w===D||D.contains(w)},dumpRng:function(w){return"startContainer: "+w.startContainer.nodeName+", startOffset: "+w.startOffset+", endContainer: "+w.endContainer.nodeName+", endOffset: "+w.endOffset}},yt=(A=Q,L=nt(tt),T={set:function(w,D,z){B.url_converter&&null!==D&&(D=B.url_converter.call(B.url_converter_scope||L(),D,z,w[0])),w.attr("data-mce-"+z,D).attr(z,D)},get:function(w,D){return w.attr("data-mce-"+D)||w.attr(D)}},R={style:{set:function(w,D){null===D||"object"!=typeof D?(_&&w.attr("data-mce-style",D),null!==D&&"string"==typeof D?(w.removeAttr("style"),w.css(A.parse(D))):w.attr("style",D)):w.css(D)},get:function(w){var D=w.attr("data-mce-style")||w.attr("style");return A.serialize(A.parse(D),w[0].nodeName)}}},(_=(B=e).keep_values)&&(R.href=R.src=T),R);return tt};Nt.DOM=Nt(document),Nt.nodeIndex=go;var M1=Nt.DOM,ac=H.each,F1=H.grep,Dn=(je.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},je.prototype.loadScript=function(t,e,n){function r(){o.remove(i),a&&(a.onerror=a.onload=a=null)}var o=M1,i=o.uniqueId(),a=document.createElement("script");a.id=i,a.type="text/javascript",a.src=H._addCacheSuffix(t),this.settings.referrerPolicy&&o.setAttrib(a,"referrerpolicy",this.settings.referrerPolicy),a.onload=function(){r(),e()},a.onerror=function(){r(),Ot(n)?n():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+t)},(document.getElementsByTagName("head")[0]||document.body).appendChild(a)},je.prototype.isDone=function(t){return 2===this.states[t]},je.prototype.markDone=function(t){this.states[t]=2},je.prototype.add=function(t,e,n,r){var o=this.states[t];this.queue.push(t),void 0===o&&(this.states[t]=0),e&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:e,failure:r,scope:n||this}))},je.prototype.load=function(t,e,n,r){return this.add(t,e,n,r)},je.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},je.prototype.loadQueue=function(t,e,n){this.loadScripts(this.queue,t,e,n)},je.prototype.loadScripts=function(t,e,n,r){function o(c,s){ac(i.scriptLoadedCallbacks[s],function(f){Ot(f[c])&&f[c].call(f.scope)}),i.scriptLoadedCallbacks[s]=void 0}var i=this,a=[];i.queueLoadedCallbacks.push({success:e,failure:r,scope:n||this});var u=function(){var c,s=F1(t);t.length=0,ac(s,function(f){2!==i.states[f]?3!==i.states[f]?1!==i.states[f]&&(i.states[f]=1,i.loading++,i.loadScript(f,function(){i.states[f]=2,i.loading--,o("success",f),u()},function(){i.states[f]=3,i.loading--,a.push(f),o("failure",f),u()})):o("failure",f):o("success",f)}),i.loading||(c=i.queueLoadedCallbacks.slice(0),i.queueLoadedCallbacks.length=0,ac(c,function(f){0===a.length?Ot(f.success)&&f.success.call(f.scope):Ot(f.failure)&&f.failure.call(f.scope,a)}))};u()},je.ScriptLoader=new je,je);function je(t){void 0===t&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}function ae(t){var e=t;return{get:function(){return e},set:function(n){e=n}}}function Pm(){return Ht(ui,uc.get())}var ui={},uc=ae("en"),Qe={getData:function(){return Qf(ui,function(t){return ft({},t)})},setCode:function(t){t&&uc.set(t)},getCode:function(){return uc.get()},add:function(t,e){var n=ui[t];n||(ui[t]=n={}),Bt(e,function(r,o){n[o.toLowerCase()]=r})},translate:function(t){function e(s){return Ot(s)?Object.prototype.toString.call(s):u(s)?"":""+s}function n(s){var f=e(s);return Ht(a,f.toLowerCase()).map(e).getOr(f)}function r(s){return s.replace(/{context:\w+}$/,"")}var o,i,a=Pm().getOr({}),u=function(s){return""===s||null==s};if(u(t))return"";if(Wr(o=t)&&vt(o,"raw"))return e(t.raw);if(Ie(i=t)&&1<i.length){var c=t.slice(1);return r(n(t[0]).replace(/\{([0-9]+)\}/g,function(s,f){return vt(c,f)?e(c[f]):s}))}return r(n(t))},isRtl:function(){return Pm().bind(function(t){return Ht(t,"_dir")}).exists(function(t){return"rtl"===t})},hasCode:function(t){return vt(ui,t)}},we=function(){function t(s,f){rt(ht(u,function(l){return l.name===s&&l.state===f}),function(l){return l.callback()})}function e(s){return(a[s]?a[s].dependencies:void 0)||[]}function n(s,f){return"object"==typeof f?f:"string"==typeof s?{prefix:"",resource:f,suffix:""}:{prefix:s.prefix,resource:f,suffix:s.suffix}}function r(s,f,l){void 0===l&&(l="added"),vt(a,s)&&"added"===l||vt(i,s)&&"loaded"===l?f():u.push({name:s,state:l,callback:f})}var o=[],i={},a={},u=[],c=function(s,f,l,d,m){var p,g;i[s]||(0!==(p="string"==typeof f?f:f.prefix+f.resource+f.suffix).indexOf("/")&&-1===p.indexOf("://")&&(p=we.baseURL+"/"+p),i[s]=p.substring(0,p.lastIndexOf("/")),g=function(){var h,v,b;t(s,"loaded"),h=f,v=l,b=d,rt(e(s),function(y){var S=n(h,y);c(S.resource,S,void 0,void 0)}),v&&v.call(b||Dn)},a[s]?g():Dn.ScriptLoader.add(p,g,d,m))};return{items:o,urls:i,lookup:a,_listeners:u,get:function(s){if(a[s])return a[s].instance},dependencies:e,requireLangPack:function(s,f){!1!==we.languageLoad&&r(s,function(){var l=Qe.getCode();!l||f&&-1===(","+(f||"")+",").indexOf(","+l+",")||Dn.ScriptLoader.add(i[s]+"/langs/"+l+".js")},"loaded")},add:function(s,f,l){var d=f;return o.push(d),a[s]={instance:d,dependencies:l},t(s,"added"),d},remove:function(s){delete i[s],delete a[s]},createUrl:n,addComponents:function(s,f){var l=i[s];rt(f,function(d){Dn.ScriptLoader.add(l+"/"+d)})},load:c,waitFor:r}};function po(){var t,e,n=(t=pt,e=ae(N.none()),{clear:function(){r(),e.set(N.none())},isSet:function(){return e.get().isSome()},get:function(){return e.get()},set:function(o){r(),e.set(N.some(o))}});function r(){return e.get().each(t)}return ft(ft({},n),{on:function(o){return n.get().each(o)}})}function sc(t,e){var n=null;return{cancel:function(){Ho(n)||(clearTimeout(n),n=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];Ho(n)&&(n=setTimeout(function(){n=null,t.apply(null,r)},e))}}}function Lm(t,e){function n(){Ho(r)||(clearTimeout(r),r=null)}var r=null;return{cancel:n,throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];n(),r=setTimeout(function(){r=null,t.apply(null,o)},e)}}}function cc(t,e){var n=Go(t,e);return void 0===n||""===n?[]:n.split(" ")}function xa(t){return void 0!==t.dom.classList}function wa(t,e){var n,r,o;xa(t)?t.dom.classList.add(e):(r=e,o=cc(n=t,"class").concat([r]),un(n,"class",o.join(" ")))}function Im(t,e){return xa(t)&&t.dom.classList.contains(e)}function be(t,e){return sd(n=void 0===t?document:t.dom)?[]:Tt(n.querySelectorAll(e),P.fromDom);var n}function Mm(t,e){function n(u,c){return(s=u.dom)&&s.hasAttribute&&s.hasAttribute(c)?N.some(Go(u,c)):N.none();var s}var r=t.selection.getRng(),o=P.fromDom(r.startContainer),i=P.fromDom(t.getBody()),a=e.fold(function(){return"."+mc()},function(u){return"["+si()+'="'+u+'"]'});return ks(Wi(o,r.startOffset).getOr(o),a,function(u){return kt(u,i)}).bind(function(u){return n(u,""+Ea()).bind(function(c){return n(u,""+si()).map(function(s){var f=z1(t,c);return{uid:c,name:s,elements:f}})})})}function Fm(t){var e=(new Date).getTime();return t+"_"+Math.floor(1e9*Math.random())+ ++H1+String(e)}function Um(t,e){var n,r,o=Sd(t).dom,i=P.fromDom(o.createDocumentFragment());Ki(i,(n=e,(r=(o||document).createElement("div")).innerHTML=n,ze(P.fromDom(r)))),vs(t),Zt(t,i)}function zm(t,e){return P.fromDom(t.dom.cloneNode(e))}function ho(t){return zm(t,!1)}function Hm(t){return zm(t,!0)}function jm(t,e,n){function r(i){for(var a;(a=o[i]())&&!ot(a)&&!n(a););return N.from(a).filter(ot)}void 0===n&&(n=Dt);var o=new qt(t,e);return{current:function(){return N.from(o.current()).filter(ot)},next:function(){return r("next")},prev:function(){return r("prev")},prev2:function(){return r("prev2")}}}function Vm(t,e){var n=e||function(o){return t.isBlock(o)||It(o)||At(o)},r=function(o,i,a,u){if(ot(o)){var c=u(o,i,o.data);if(-1!==c)return N.some({container:o,offset:c})}return a().bind(function(s){return r(s.container,s.offset,a,u)})};return{backwards:function(o,i,a,u){var c=jm(o,u,n);return r(o,i,function(){return c.prev().map(function(s){return{container:s,offset:s.length}})},a).getOrNull()},forwards:function(o,i,a,u){var c=jm(o,u,n);return r(o,i,function(){return c.next().map(function(s){return{container:s,offset:0}})},a).getOrNull()}}}function kr(t){return t?{left:yo(t.left),top:yo(t.top),bottom:yo(t.bottom),right:yo(t.right),width:yo(t.width),height:yo(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function qm(t,e){return t=kr(t),e||(t.left=t.left+t.width),t.right=t.left,t.width=0,t}function $m(t,e,n){return 0<=t&&t<=Math.min(e.height,n.height)/2}function vo(t,e){var n=Math.min(e.height/2,t.height/2);return t.bottom-n<e.top||!(t.top>e.bottom)&&$m(e.top-t.bottom,t,e)}function bo(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&$m(e.bottom-t.top,t,e)}function Wm(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom}function Sa(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null}function Zn(t,e){if(ct(t)&&t.hasChildNodes()){var n=t.childNodes;return n[(r=n.length-1,Math.min(Math.max(e,0),r))]}return t;var r}function Km(t){return"string"==typeof t&&768<=t.charCodeAt(0)&&j1.test(t)}function lc(t){return"createRange"in t?t.createRange():Nt.DOM.createRng()}function fc(t){return t&&/[\r\n\t ]/.test(t)}function Xm(t){return t.setStart&&t.setEnd}function dc(t){var e=t.startContainer,n=t.startOffset;if(fc(t.toString())&&$1(e.parentNode)&&ot(e)){var r=e.data;return fc(r[n-1])||fc(r[n+1])?1:void 0}}function Ym(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom}function _r(t,e){var n=qm(t,e);return n.width=1,n.right=n.left+1,n}we.languageLoad=!0,we.baseURL="",we.PluginManager=we(),we.ThemeManager=we();var Gm=function(t,e){var n=[];return rt(ze(t),function(r){n=(n=e(r)?n.concat([r]):n).concat(Gm(r,e))}),n},mc=nt("mce-annotation"),si=nt("data-mce-annotation"),Ea=nt("data-mce-annotation-uid"),z1=function(t,e){return be(P.fromDom(t.getBody()),"["+Ea()+'="'+e+'"]')},H1=0,yo=Math.round,j1=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),Jm=ct,V1=cn,Qm=Gi("display","block table"),q1=Gi("float","left right"),ci=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){for(var r=0;r<t.length;r++)if(!t[r](n))return!1;return!0}}(Jm,V1,es(q1)),$1=es(Gi("white-space","pre pre-line pre-wrap")),li=ot,gc=It,Zm=Nt.nodeIndex,Na=function(t,e){if(!(e<0&&ct(t)&&t.hasChildNodes()))return Zn(t,e)},tr=function(t){var e=t.getClientRects(),n=kr(0<e.length?e[0]:t.getBoundingClientRect());return!Xm(t)&&gc(t)&&Ym(n)?function(r){var o=r.ownerDocument,i=lc(o),a=o.createTextNode(xe),u=r.parentNode;u.insertBefore(a,r),i.setStart(a,0),i.setEnd(a,1);var c=kr(i.getBoundingClientRect());return u.removeChild(a),c}(t):Ym(n)&&Xm(t)?function(r){var i=r.endContainer,a=r.startOffset,u=r.endOffset;if(r.startContainer===i&&ot(i)&&0===a&&1===u){var c=r.cloneRange();return c.setEndAfter(i),tr(c)}return null}(t):n},M=function(t,e,n){function r(){return n=n||function(o){function i(d){var m;0!==d.height&&(0<u.length&&d.left===(m=u[u.length-1]).left&&d.top===m.top&&d.bottom===m.bottom&&d.right===m.right||u.push(d))}function a(d,m){var p=lc(d.ownerDocument);if(m<d.data.length){if(Km(d.data[m]))return u;if(Km(d.data[m-1])&&(p.setStart(d,m),p.setEnd(d,m+1),!dc(p)))return i(_r(tr(p),!1)),u}0<m&&(p.setStart(d,m-1),p.setEnd(d,m),dc(p)||i(_r(tr(p),!1))),m<d.data.length&&(p.setStart(d,m),p.setEnd(d,m+1),dc(p)||i(_r(tr(p),!0)))}var u=[],c=o.container(),s=o.offset();if(li(c))return a(c,s),u;if(Jm(c))if(o.isAtEnd()){var f=Na(c,s);li(f)&&a(f,f.data.length),ci(f)&&!gc(f)&&i(_r(tr(f),!1))}else{if(f=Na(c,s),li(f)&&a(f,0),ci(f)&&o.isAtEnd())return i(_r(tr(f),!1)),u;var l=Na(o.container(),o.offset()-1);ci(l)&&!gc(l)&&(!Qm(l)&&!Qm(f)&&ci(f)||i(_r(tr(l),!1))),ci(f)&&i(_r(tr(f),!0))}return u}(M(t,e))}return{container:nt(t),offset:nt(e),toRange:function(){var o=lc(t.ownerDocument);return o.setStart(t,e),o.setEnd(t,e),o},getClientRects:r,isVisible:function(){return 0<r().length},isAtStart:function(){return li(t),0===e},isAtEnd:function(){return li(t)?e>=t.data.length:e>=t.childNodes.length},isEqual:function(o){return o&&t===o.container()&&e===o.offset()},getNode:function(o){return Na(t,o?e-1:e)}}};function ka(t,e){ot(e)&&0===e.data.length&&t.remove(e)}function pc(t,e,n){var r,o,i,a,u,c,s;Ss(n)?(i=t,a=e,c=N.from((u=n).firstChild),s=N.from(u.lastChild),a.insertNode(u),c.each(function(f){return ka(i,f.previousSibling)}),s.each(function(f){return ka(i,f.nextSibling)})):(r=t,e.insertNode(o=n),ka(r,o.previousSibling),ka(r,o.nextSibling))}function tg(t){return function(e){return t===e}}function eg(t){var e,n,r,o;return(Ze(t)?"text()":t.nodeName.toLowerCase())+"["+(r=ed(n=xc(Og(e=t)),tg(e),e),o=Vi(n=n.slice(0,r+1),function(i,a,u){return Ze(a)&&Ze(n[u-1])&&i++,i},0),ed(n=Gr(n,Fe([e.nodeName])),tg(e),e)-o+"]")}function ng(t,e){var n,r,o,i=[],a=e.container(),u=e.offset();return Ze(a)?n=function(c,s){for(;(c=c.previousSibling)&&Ze(c);)s+=c.data.length;return s}(a,u):(u>=(r=a.childNodes).length?(n="after",u=r.length-1):n="before",a=r[u]),i.push(eg(a)),o=Gr(function(c,s){var f=[];for(s=s.parentNode;s!==c;s=s.parentNode)f.push(s);return f}(t,a),es(vr)),(i=i.concat(as(o,eg))).reverse().join("/")+","+n}function rg(t,e){if(!e)return null;var n=e.split(","),r=n[0].split("/"),o=1<n.length?n[1]:"before",i=Vi(r,function(a,u){var c,s,f,l,d=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(u);return d?("text()"===d[1]&&(d[1]="#text"),c=a,s=d[1],f=parseInt(d[2],10),l=Gr(l=xc(c),function(m,p){return!Ze(m)||!Ze(l[p-1])}),(l=Gr(l,Fe([s])))[f]):null},t);return i?Ze(i)?function(a,u){for(var c,s=a,f=0;Ze(s);){if(c=s.data.length,f<=u&&u<=f+c){a=s,u-=f;break}if(!Ze(s.nextSibling)){a=s,u=c;break}f+=c,s=s.nextSibling}return Ze(a)&&u>a.data.length&&(u=a.data.length),M(a,u)}(i,parseInt(o,10)):(o="after"===o?Tg(i)+1:Tg(i),M(i.parentNode,o)):null}function og(t,e,n,r,o){var i,a=r[o?"startContainer":"endContainer"],u=r[o?"startOffset":"endOffset"],c=[],s=0,f=t.getRoot();for(ot(a)?c.push(n?function(l,d,m){for(var p=l(d.data.slice(0,m)).length,g=d.previousSibling;g&&ot(g);g=g.previousSibling)p+=l(g.data).length;return p}(e,a,u):u):(u>=(i=a.childNodes).length&&i.length&&(s=1,u=Math.max(0,i.length-1)),c.push(t.nodeIndex(i[u],n)+s));a&&a!==f;a=a.parentNode)c.push(t.nodeIndex(a,n));return c}function hc(t,e,n){var r=0;return H.each(t.select(e),function(o){if("all"!==o.getAttribute("data-mce-bogus"))return o!==n&&void r++}),r}function ig(t,e){var n,r=e?"start":"end",o=t[r+"Container"],i=t[r+"Offset"];ct(o)&&"TR"===o.nodeName&&(o=(n=o.childNodes)[Math.min(e?i:i-1,n.length-1)])&&t["set"+(e?"Start":"End")](o,i=e?0:o.childNodes.length)}function ag(t){return ig(t,!0),ig(t,!1),t}function ug(t,e){var n;return ct(t)&&(t=Zn(t,e),Ta(t))?t:Re(t)?(n=(t=ot(t)&&oo(t)?t.parentNode:t).previousSibling,Ta(n)||Ta(n=t.nextSibling)?n:void 0):void 0}function sg(t,e,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(Ta(r)||"IMG"===o)return{name:o,index:hc(n.dom,o,r)};var a,u,c,s,f,l,d,m=ug((a=i).startContainer,a.startOffset)||ug(a.endContainer,a.endOffset);return m?{name:o=m.tagName,index:hc(n.dom,o,m)}:(l=(c=n).dom,(d={}).start=og(l,u=t,s=e,f=i,!0),c.isCollapsed()||(d.end=og(l,u,s,f,!1)),rm(f)&&(d.isFakeCaret=!0),d)}function cg(t,e,n){var r={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",r,"&#xFEFF;"):t.create("span",r)}function lg(t,e){var n=t.dom,r=t.getRng(),o=n.uniqueId(),i=t.isCollapsed(),a=t.getNode(),u=a.nodeName;if("IMG"===u)return{name:u,index:hc(n,u,a)};var c=ag(r.cloneRange());return i||(c.collapse(!1),pc(n,c,cg(n,o+"_end",e))),(r=ag(r)).collapse(!0),pc(n,r,cg(n,o+"_start",e)),t.moveToBookmark({id:o,keep:!0}),{id:o}}function fg(t,e,n){var r=t.getParam(e,n);return-1===r.indexOf("=")?r:Ht(t.getParam(e,"","hash"),t.id).getOr(n)}function dg(t){return t.getParam("content_security_policy","")}function oe(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e}function fi(t){return t.getParam("forced_root_block_attrs",{})}function mg(t){return t.getParam("automatic_uploads",!0,"boolean")}function gg(t){return t.getParam("icons","","string")}function pg(t){return t.getParam("referrer_policy","","string")}function hg(t){return t.getParam("language","en","string")}function vg(t){return t.getParam("indent_use_margin",!1)}function bg(t){var e=t.getParam("font_css",[]);return Ie(e)?e:Tt(e.split(","),ds)}function yg(t){var e=t.getParam("object_resizing");return!1!==e&&!dt.iOS&&(Ft(e)?e:"table,img,figure.image,div,video,iframe")}function Cg(t){return t.getParam("event_root")}function di(t){return t.getParam("theme")}function mi(t){return!1!==t.getParam("inline_boundaries")}function vc(t){return t.getParam("plugins","","string")}function xg(t){var e=t.parentNode;e&&e.removeChild(t)}function wg(t){var e=qn(t);return{count:t.length-e.length,text:e}}function Sg(t){for(var e;-1!==(e=t.data.lastIndexOf(ne));)t.deleteData(e,1)}function Eg(t,e){return Dr(t),e}function W1(t,e){var n,r=e.container(),o=(-1===(n=$f(on(r.childNodes),t))?N.none():N.some(n)).map(function(i){return i<e.offset()?M(r,e.offset()-1):e}).getOr(e);return Dr(t),o}function K1(t,e){return M.isTextPosition(e)?(r=e,Pg(n=t)&&r.container()===n?(a=wg((o=n).data.substr(0,(i=r).offset())),u=wg(o.data.substr(i.offset())),0<(a.text+u.text).length?(Sg(o),M(o,i.offset()-a.count)):i):Eg(n,r)):(c=t,((s=e).container()===c.parentNode?W1:Eg)(c,s));var n,r,o,i,a,u,c,s}function Ng(t,e,n){var r,o,i,a=qm(e.getBoundingClientRect(),n),u="BODY"===t.tagName?(r=t.ownerDocument.documentElement,o=t.scrollLeft||r.scrollLeft,t.scrollTop||r.scrollTop):(i=t.getBoundingClientRect(),o=t.scrollLeft-i.left,t.scrollTop-i.top);a.left+=o,a.right+=o,a.top+=u,a.bottom+=u,a.width=1;var c=e.offsetWidth-e.clientWidth;return 0<c&&(n&&(c*=-1),a.left+=c,a.right+=c),a}function kg(){return wc.isIE()||wc.isEdge()||wc.isFirefox()}function Rr(t){return pi(t)||to(t)&&kg()}function _a(t,e){for(var n;n=t(e);)if(!Ig(n))return n;return null}function Co(t,e,n,r,o){var i=new qt(t,r),a=Sc(t)||Ig(t);if(e<0){if(a&&n(t=_a(i.prev.bind(i),!0)))return t;for(;t=_a(i.prev.bind(i),o);)if(n(t))return t}if(0<e){if(a&&n(t=_a(i.next.bind(i),!0)))return t;for(;t=_a(i.next.bind(i),o);)if(n(t))return t}return null}function er(t,e){for(;t&&t!==e;){if(eC(t))return t;t=t.parentNode}return null}function gn(t,e,n){return er(t.container(),n)===er(e.container(),n)}function bc(t,e){if(!e)return null;var n=e.container(),r=e.offset();return Mg(n)?n.childNodes[r+t]:null}function _g(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n}function Rg(t,e,n){for(var r,o,i=t?"previousSibling":"nextSibling";n&&n!==e;){var a=n[i];if(Lg(a)&&(a=a[i]),Sc(a)||tC(a)){if(o=n,er(a,r=e)===er(o,r))return a;break}if(nC(a))break;n=n.parentNode}return null}function yc(t,e,n){var r,o=et(Rg,!0,e),i=et(Rg,!1,e),a=n.startContainer,u=n.startOffset;if(oo(a)){var c=(a=Mg(a)?a:a.parentNode).getAttribute("data-mce-caret");if("before"===c&&Rr(r=a.nextSibling))return hi(r);if("after"===c&&Rr(r=a.previousSibling))return vi(r)}if(!n.collapsed)return n;if(ot(a)){if(Lg(a)){if(1===t){if(r=i(a))return hi(r);if(r=o(a))return vi(r)}if(-1===t){if(r=o(a))return vi(r);if(r=i(a))return hi(r)}return n}if(la(a)&&u>=a.data.length-1)return 1===t&&(r=i(a))?hi(r):n;if(ca(a)&&u<=1)return-1===t&&(r=o(a))?vi(r):n;if(u===a.data.length)return(r=i(a))?hi(r):n;if(0===u)return(r=o(a))?vi(r):n}return n}function Dg(t,e){return N.from(bc(t?0:-1,e)).filter(Sc)}function gi(t,e,n){var r=yc(t,e,n);return-1===t?M.fromRangeStart(r):M.fromRangeEnd(r)}function Ra(t){return N.from(t.getNode()).map(P.fromDom)}function Cc(t,e){for(;e=t(e);)if(e.isVisible())return e;return e}function Da(t,e){var n=gn(t,e);return!(n||!It(t.getNode()))||n}M.fromRangeStart=function(t){return M(t.startContainer,t.startOffset)},M.fromRangeEnd=function(t){return M(t.endContainer,t.endOffset)},M.after=function(t){return M(t.parentNode,Zm(t)+1)},M.before=function(t){return M(t.parentNode,Zm(t))},M.isAbove=function(t,e){return ve(ke(e.getClientRects()),mr(t.getClientRects()),vo).getOr(!1)},M.isBelow=function(t,e){return ve(mr(e.getClientRects()),ke(t.getClientRects()),bo).getOr(!1)},M.isAtStart=function(t){return!!t&&t.isAtStart()},M.isAtEnd=function(t){return!!t&&t.isAtEnd()},M.isTextPosition=function(t){return!!t&&ot(t.container())},M.isElementPosition=function(t){return!1===M.isTextPosition(t)};var Kt,Aa,Ze=ot,Ag=vr,Tg=Nt.nodeIndex,Og=function(t){var e=t.parentNode;return Ag(e)?Og(e):e},xc=function(t){return t?Vi(t.childNodes,function(e,n){return Ag(n)&&"BR"!==n.nodeName?e=e.concat(xc(n)):e.push(n),e},[]):[]},Ta=At,Bg=et(sg,pe,!0),Y1=Nt.DOM,G1=ct,Pg=ot,Dr=function(t){G1(t)&&Re(t)&&(nm(t)?t.removeAttribute("data-mce-caret"):xg(t)),Pg(t)&&(Sg(t),0===t.data.length&&xg(t))},wc=Me().browser,J1=At,Q1=He,Z1=Zi,pi=function(t){return J1(t)||Q1(t)},Sc=At,tC=He,eC=Gi("display","block table table-cell table-caption list-item"),Lg=Re,Ig=oo,Mg=ct,nC=cn,hi=et(_g,!0),vi=et(_g,!1);function Fg(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null}function Ug(t,e){if(0<t){if(ko(e.previousSibling)&&!vn(e.previousSibling))return M.before(e);if(vn(e))return M(e,0)}if(t<0){if(ko(e.nextSibling)&&!vn(e.nextSibling))return M.after(e);if(vn(e))return M(e,e.data.length)}return t<0&&!Mc(e)?M.after(e):M.before(e)}function tn(t){return{next:function(e){return Fc(Kt.Forwards,e,t)},prev:function(e){return Fc(Kt.Backwards,e,t)}}}function zg(t){return M.isTextPosition(t)?0===t.offset():cn(t.getNode())}function Hg(t){if(M.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}return cn(t.getNode(!0))}function jg(t,e){return!M.isTextPosition(t)&&!M.isTextPosition(e)&&t.getNode()===e.getNode(!0)}function Oa(t,e,n){return Oe(t,e,n).bind(function(r){return gn(n,r,e)&&(o=n,i=r,t?!jg(o,i)&&(M.isTextPosition(a=o)||!It(a.getNode()))&&Hg(o)&&zg(i):!jg(i,o)&&zg(o)&&Hg(i))?Oe(t,e,r):N.some(r);var o,i,a})}function xo(t,e){var n,r,o,i,a,u=t?e.firstChild:e.lastChild;return ot(u)?N.some(M(u,t?0:u.data.length)):u?cn(u)?N.some(t?M.before(u):It(a=u)?M.before(a):M.after(a)):(r=e,o=u,i=(n=t)?M.before(o):M.after(o),Oe(n,r,i)):N.none()}function pn(t){return ct(t)&&t.id===lp}function Ar(t,e){for(;e&&e!==t;){if(e.id===lp)return e;e=e.parentNode}return null}function Vg(t){return H.isArray(t.start)}function qg(t,e){return ct(e)&&t.isBlock(e)&&!e.innerHTML&&!dt.ie&&(e.innerHTML='<br data-mce-bogus="1" />'),e}function $g(t,e,n){return!1===e.hasChildNodes()&&Ar(t,e)&&(o=n,i=(r=e).ownerDocument.createTextNode(ne),r.appendChild(i),o.setStart(i,0),o.setEnd(i,0),1);var r,o,i}function Wg(t,e,n,r){var o,i,a,u,c=n[e?"start":"end"],s=t.getRoot();if(c){for(a=c[0],i=s,o=c.length-1;1<=o;o--){if(u=i.childNodes,$g(s,i,r))return 1;if(c[o]>u.length-1)return $g(s,i,r)||function(f){return yn(i).fold(Dt,function(l){return f.setStart(l.container(),l.offset()),f.setEnd(l.container(),l.offset()),!0})}(r);i=u[c[o]]}3===i.nodeType&&(a=Math.min(c[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(c[0],i.childNodes.length)),e?r.setStart(i,a):r.setEnd(i,a)}return 1}function Ec(t){return ot(t)&&0<t.data.length}function Kg(t,e,n){var r,o,i,a,u,c,s=t.get(n.id+"_"+e),f=n.keep;if(s){if(r=s.parentNode,o="start"===e?f?s.hasChildNodes()?(r=s.firstChild,1):Ec(s.nextSibling)?(r=s.nextSibling,0):Ec(s.previousSibling)?(r=s.previousSibling,s.previousSibling.data.length):(r=s.parentNode,t.nodeIndex(s)+1):t.nodeIndex(s):f?s.hasChildNodes()?(r=s.firstChild,1):Ec(s.previousSibling)?(r=s.previousSibling,s.previousSibling.data.length):(r=s.parentNode,t.nodeIndex(s)):t.nodeIndex(s),u=r,c=o,!f){for(a=s.previousSibling,i=s.nextSibling,H.each(H.grep(s.childNodes),function(l){ot(l)&&(l.nodeValue=l.nodeValue.replace(/\uFEFF/g,""))});s=t.get(n.id+"_"+e);)t.remove(s,!0);a&&i&&a.nodeType===i.nodeType&&ot(a)&&!dt.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),t.remove(i),u=a,c=o)}return N.some(M(u,c))}return N.none()}function rC(t,e){(function(n,r){var o,i,a,u,c,s,f,l,d,m,p,g,h=n.dom;if(r){if(Vg(r))return p=r,g=(m=h).createRng(),Wg(m,!0,p,g)&&Wg(m,!1,p,g)?N.some(g):N.none();if(Ft(r.start))return N.some((f=r,l=(s=h).createRng(),d=rg(s.getRoot(),f.start),l.setStart(d.container(),d.offset()),d=rg(s.getRoot(),f.end),l.setEnd(d.container(),d.offset()),l));if(vt(r,"id"))return ve(c=Kg(a=h,"start",u=r),Kg(a,"end",u).or(c),function(v,b){var y=a.createRng();return y.setStart(qg(a,v.container()),v.offset()),y.setEnd(qg(a,b.container()),b.offset()),y});if(vt(r,"name"))return N.from((o=h).select((i=r).name)[i.index]).map(function(v){var b=o.createRng();return b.selectNode(v),b});if(vt(r,"rng"))return N.some(r.rng)}return N.none()})(t,e).each(function(n){t.setRng(n)})}function Te(t){return ct(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")}function wo(t){return""!==t&&-1!==" \f\n\r\t\v".indexOf(t)}function Nc(t){return!wo(t)&&!xi(t)}function Ba(t){return t.nodeType}function Xg(t,e,n){var r,o=n.startOffset,i=n.startContainer;if((i!==n.endContainer||!(r=i.childNodes[o])||!/^(IMG)$/.test(r.nodeName))&&ct(i)){var a=i.childNodes,u=void 0;o<a.length?u=new qt(i=a[o],t.getParent(i,t.isBlock)):(u=new qt(i=a[a.length-1],t.getParent(i,t.isBlock))).next(!0);for(var c=u.current();c;c=u.next())if(ot(c)&&!Uc(c))return n.setStart(c,0),e.setRng(n),0}}function kc(t,e,n){if(t){var r=e?"nextSibling":"previousSibling";for(t=n?t:t[r];t;t=t[r])if(ct(t)||!Uc(t))return t}}function _c(t,e){return Ba(e)&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]}function So(t,e,n){return t.schema.isValidChild(e,n)}function An(t,e){return Ot(t)?t=t(e):Rt(e)&&(t=t.replace(/%(\w+)/g,function(n,r){return e[r]||n})),t}function Rc(t,e){return t=""+((t=t||"").nodeName||t),e=""+((e=e||"").nodeName||e),t.toLowerCase()===e.toLowerCase()}function Dc(t,e,n){return"color"!==n&&"backgroundColor"!==n||(e=t.toHex(e)),"fontWeight"===n&&700===e&&(e="bold"),""+("fontFamily"===n?e.replace(/[\'\"]/g,"").replace(/,\s+/g,","):e)}function Pa(t,e,n){return Dc(t,t.getStyle(e,n),n)}function Yg(t,e){var n;return t.getParent(e,function(r){return(n=t.getStyle(r,"text-decoration"))&&"none"!==n}),n}function La(t,e,n){return t.getParents(e,n,t.getRoot())}function hn(t){return Yr(t,"block")}function Se(t){return Yr(t,"selector")}function Xt(t){return Yr(t,"inline")}function Ac(t){return Se(t)&&!1!==t.expand&&!Xt(t)}function Gg(t,e){for(var n=e;n;){if(ct(n)&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e}function Jg(t,e,n,r){for(var o=e.data,i=n;t?0<=i:i<o.length;t?i--:i++)if(r(o.charAt(i)))return t?i+1:i;return-1}function iC(t,e,n){return Jg(t,e,n,function(r){return xi(r)||wo(r)})}function aC(t,e,n){return Jg(t,e,n,Nc)}function Qg(t,e,n,r,o,i){function a(s,f,l){var d=Vm(t);return N.from((o?d.backwards:d.forwards)(s,f,function(p,g){return _o(p.parentNode)?-1:l(o,u=p,g)},c))}var u,c=t.getParent(n,t.isBlock)||e;return a(n,r,iC).bind(function(s){return i?a(s.container,s.offset+(o?-1:0),aC):N.some(s)}).orThunk(function(){return u?N.some({container:u,offset:o?0:u.length}):N.none()})}function Zg(t,e,n,r,o){ot(r)&&od(r.data)&&r[o]&&(r=r[o]);for(var i=fp(t,r),a=0;a<i.length;a++)for(var u=0;u<e.length;u++){var c=e[u];if((!Rt(c.collapsed)||c.collapsed===n.collapsed)&&Se(c)&&t.is(i[a],c.selector))return i[a]}return r}function tp(t,e,n,r){var o,i=n,a=t.dom,u=a.getRoot(),c=e[0];if((i=hn(c)?c.wrapper?null:a.getParent(n,c.block,u):i)||(o=a.getParent(n,"LI,TD,TH"),i=a.getParent(ot(n)?n.parentNode:n,function(s){return s!==u&&lC(t,s)},o)),!(i=i&&hn(c)&&c.wrapper&&fp(a,i,"ul,ol").reverse()[0]||i))for(i=n;i[r]&&!a.isBlock(i[r])&&!Rc(i=i[r],"br"););return i||n}function Ia(t,e,n,r,o){var i,a=n,u=o?"previousSibling":"nextSibling",c=t.getRoot();if(ot(n)&&!dp(n)&&(o?0<r:r<n.data.length))return n;for(;;){if(!e[0].block_expand&&t.isBlock(a))return a;for(var s=a[u];s;s=s[u]){var f=ot(s)&&!mp(t,c,s,u);if(!_o(s)&&(!It(i=s)||!i.getAttribute("data-mce-bogus")||i.nextSibling)&&!dp(s,f))return a}if(a===c||a.parentNode===c){n=a;break}a=a.parentNode}return n}function ep(t){return _o(t.parentNode)||_o(t)}function Eo(t,e,n,r){void 0===r&&(r=!1);var o=e.startContainer,i=e.startOffset,a=e.endContainer,u=e.endOffset,c=t.dom,s=n[0];return ct(o)&&o.hasChildNodes()&&(o=Zn(o,i),ot(o)&&(i=0)),ct(a)&&a.hasChildNodes()&&(a=Zn(a,e.collapsed?u:u-1),ot(a)&&(u=a.nodeValue.length)),o=Gg(c,o),a=Gg(c,a),ep(o)&&(o=_o(o)?o:o.parentNode,ot(o=e.collapsed?o.previousSibling||o:o.nextSibling||o)&&(i=e.collapsed?o.length:0)),ep(a)&&(a=_o(a)?a:a.parentNode,ot(a=e.collapsed?a.nextSibling||a:a.previousSibling||a)&&(u=e.collapsed?0:a.length)),e.collapsed&&(Qg(c,t.getBody(),o,i,!0,r).each(function(f){o=f.container,i=f.offset}),Qg(c,t.getBody(),a,u,!1,r).each(function(f){a=f.container,u=f.offset})),(Xt(s)||s.block_expand)&&(Xt(s)&&ot(o)&&0!==i||(o=Ia(c,n,o,i,!0)),Xt(s)&&ot(a)&&u!==a.nodeValue.length||(a=Ia(c,n,a,u,!1))),Ac(s)&&(o=Zg(c,n,e,o,"previousSibling"),a=Zg(c,n,e,a,"nextSibling")),(hn(s)||Se(s))&&(o=tp(t,n,o,"previousSibling"),a=tp(t,n,a,"nextSibling"),hn(s)&&(c.isBlock(o)||(o=Ia(c,n,o,i,!0)),c.isBlock(a)||(a=Ia(c,n,a,u,!1)))),ct(o)&&(i=c.nodeIndex(o),o=o.parentNode),ct(a)&&(u=c.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:u}}function bi(t,e,n){function r(g){var h=g[0];ot(h)&&h===c&&u>=h.data.length&&g.splice(0,1);var v=g[g.length-1];return 0===s&&0<g.length&&v===f&&ot(v)&&g.splice(g.length-1,1),g}function o(g,h,v){for(var b=[];g&&g!==v;g=g[h])b.push(g);return b}function i(g,h){return t.getParent(g,function(v){return v.parentNode===h},h)}function a(g,h,v){for(var b=v?"nextSibling":"previousSibling",y=g;y&&y!==h;y=S){var S=y.parentNode,k=o(y===g?y:y[b],b);k.length&&(v||k.reverse(),n(r(k)))}}var u=e.startOffset,c=Zn(e.startContainer,u),s=e.endOffset,f=Zn(e.endContainer,s-1);if(c===f)return n(r([c]));var l=t.findCommonAncestor(c,f);if(t.isChildOf(c,f))return a(c,l,!0);if(t.isChildOf(f,c))return a(f,l);var d=i(c,l)||c,m=i(f,l)||f;a(c,d,!0);var p=o(d===c?d:d.nextSibling,"nextSibling",m===f?m.nextSibling:m);p.length&&n(r(p)),a(f,m)}function Tc(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e}function np(t,e){var n=be(e,"td[data-mce-selected],th[data-mce-selected]");return 0<n.length?n:ht(Xr(t,function(r){var o=Sa(r);return o?[P.fromDom(o)]:[]}),aa)}function No(t){return np(Tc(t.selection.getSel()),P.fromDom(t.getBody()))}function yi(t,e){return ea(t,"table",e)}function Oc(t,e){return ve((o=e.startContainer,i=e.startOffset,ot(o)?0===i?N.some(P.fromDom(o)):N.none():N.from(o.childNodes[i]).map(P.fromDom)),(n=e.endContainer,r=e.endOffset,ot(n)?r===n.data.length?N.some(P.fromDom(n)):N.none():N.from(n.childNodes[r-1]).map(P.fromDom)),function(a,u){var c=Gt(gp(t),et(kt,a)),s=Gt(zc(t),et(kt,u));return c.isSome()&&s.isSome()}).getOr(!1);var n,r,o,i}function Bc(t,e,n,r){var o=n,i=new qt(n,o),a=Vo(t.schema.getMoveCaretBeforeOnEnterElements(),function(u,c){return!Yt(["td","th","table"],c.toLowerCase())});do{if(ot(n)&&0!==H.trim(n.nodeValue).length)return r?e.setStart(n,0):e.setEnd(n,n.nodeValue.length),0;if(a[n.nodeName])return r?e.setStartBefore(n):"BR"===n.nodeName?e.setEndBefore(n):e.setEndAfter(n),0}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?e.setStart(o,0):e.setEnd(o,o.childNodes.length))}function Ma(t){var e=t.selection.getSel();return e&&0<e.rangeCount}function Pc(t,e){var n=No(t);0<n.length?rt(n,function(r){var o=r.dom,i=t.dom.createRng();i.setStartBefore(o),i.setEndAfter(o),e(i,!0)}):e(t.selection.getRng(),!1)}function Lc(t,e,n){var r=lg(t,e);n(r),t.moveToBookmark(r)}function Ic(t){return fC.get(t)}function rp(t,e,n,r){var o=e.uid,i=void 0===o?Fm("mce-annotation"):o,a=function(m,p){var g={};for(v in m)Object.prototype.hasOwnProperty.call(m,v)&&p.indexOf(v)<0&&(g[v]=m[v]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols)for(var h=0,v=Object.getOwnPropertySymbols(m);h<v.length;h++)p.indexOf(v[h])<0&&Object.prototype.propertyIsEnumerable.call(m,v[h])&&(g[v[h]]=m[v[h]]);return g}(e,["uid"]),u=P.fromTag("span",t);wa(u,mc()),un(u,""+Ea(),i),un(u,""+si(),n);var c,s=r(i,a),f=s.attributes,l=s.classes,d=void 0===l?[]:l;return Un(u,void 0===f?{}:f),c=u,rt(d,function(m){wa(c,m)}),u}function op(t){var e,n,r,o=(e={},{register:function(a,u){e[a]={name:a,settings:u}},lookup:function(a){return Ht(e,a).map(function(u){return u.settings})}});r=o,(n=t).on("init",function(){n.serializer.addNodeFilter("span",function(a){rt(a,function(u){N.from(u.attr(si())).bind(r.lookup).each(function(c){!1===c.persistent&&u.unwrap()})})})});var i=function(t){function e(){return{listeners:[],previous:po()}}function n(a,u){r(a,function(c){return u(c),c})}function r(a,u){var c=o.get(),s=u(Ht(c,a).getOrThunk(e));c[a]=s,o.set(c)}var o=ae({}),i=Lm(function(){var a=o.get();rt(rs(Jr(a)),function(u){r(u,function(c){var s=c.previous.get();return Mm(t,N.some(u)).fold(function(){var f;s.isSome()&&(n(f=u,function(l){rt(l.listeners,function(d){return d(!1,f)})}),c.previous.clear())},function(f){var l,d,m,p=f.uid,g=f.name,h=f.elements;Ji(s,p)||(d=p,m=h,n(l=g,function(v){rt(v.listeners,function(b){return b(!0,l,{uid:d,nodes:Tt(m,function(y){return y.dom})})})}),c.previous.set(p))}),{previous:c.previous,listeners:c.listeners}})})},30);return t.on("remove",function(){i.cancel()}),t.on("NodeChange",function(){i.throttle()}),{addListener:function(a,u){r(a,function(c){return{previous:c.previous,listeners:c.listeners.concat([u])}})}}}(t);return{register:function(a,u){o.register(a,u)},annotate:function(a,u){o.lookup(a).each(function(c){var s,f,l,d;f=a,l=c,d=u,(s=t).undoManager.transact(function(){var m,p,g,h,v=s.selection,b=v.getRng(),y=0<No(s).length;b.collapsed&&!y&&(g=Eo(m=s,p=b,[{inline:"span"}]),p.setStart(g.startContainer,g.startOffset),p.setEnd(g.endContainer,g.endOffset),m.selection.setRng(p)),v.getRng().collapsed&&!y?(Um(h=rp(s.getDoc(),d,f,l.decorate),xe),v.getRng().insertNode(h.dom),v.select(h.dom)):Lc(v,!1,function(){Pc(s,function(S){!function(t,e,n,r,o){function i(){s.clear()}function a(l){rt(l,f)}var u=[],c=rp(t.getDoc(),o,n,r),s=po(),f=function(l){var d,m,p,g,h,v;switch(p=t,h="span",v=jt(g=l),Ke(g).fold(function(){return"skipping"},function(b){return"br"===v||Ue(S=g)&&Ic(S)===ne?"valid":Ye(y=g)&&Im(y,mc())?"existing":pn(g.dom)?"caret":So(p,h,v)&&So(p,jt(b),h)?"valid":"invalid-child";var y,S})){case"invalid-child":i(),a(ze(l)),i();break;case"valid":Xe(d=l,m=s.get().getOrThunk(function(){var b=ho(c);return u.push(b),s.set(b),b})),Zt(m,d)}};bi(t.dom,e,function(l){i(),a(Tt(l,P.fromDom))})}(s,S,f,l.decorate,d)})})})})},annotationChanged:function(a,u){i.addListener(a,u)},remove:function(a){Mm(t,N.some(a)).each(function(u){rt(u.elements,Td)})},getAll:function(a){var u,c,s;return Qf((u=a,c=be(P.fromDom(t.getBody()),"["+si()+'="'+u+'"]'),s={},rt(c,function(f){var l=Go(f,Ea()),d=Ht(s,l).getOr([]);s[l]=d.concat([f])}),s),function(f){return Tt(f,function(l){return l.dom})})}}}function Ci(t){return{getBookmark:et(cC,t),moveToBookmark:et(rC,t)}}function ip(t){return mm(t)||!!Hs(e=t)&&!0!==We(on(e.getElementsByTagName("*")),function(n,r){return n||dm(r)},!1);var e}(Aa=Kt=Kt||{})[Aa.Backwards=-1]="Backwards",Aa[Aa.Forwards=1]="Forwards";var Fa,up,sC=At,vn=ot,sp=ct,Mc=It,ko=cn,Ua=ra,Fc=function(t,e,n){var r,o,i;if(!sp(n)||!e)return null;if(e.isEqual(M.after(n))&&n.lastChild){if(i=M.after(n.lastChild),t<0&&ko(n.lastChild)&&sp(n.lastChild))return Mc(n.lastChild)?M.before(n.lastChild):i}else i=e;var a,u,c,s=i.container(),f=i.offset();if(vn(s)){if(t<0&&0<f)return M(s,--f);if(0<t&&f<s.length)return M(s,++f);r=s}else{if(t<0&&0<f&&(l=Fg(s,f-1),ko(l)))return!ip(l)&&(o=Co(l,t,Ua,l))?vn(o)?M(o,o.data.length):M.after(o):vn(l)?M(l,l.data.length):M.before(l);if(0<t&&f<s.childNodes.length&&(l=Fg(s,f),ko(l)))return Mc(l)?(a=n,(c=(u=l).nextSibling)&&ko(c)?vn(c)?M(c,0):M.before(c):Fc(Kt.Forwards,M.after(u),a)):!ip(l)&&(o=Co(l,t,Ua,l))?vn(o)?M(o,0):M.before(o):vn(l)?M(l,0):M.after(l);r=l||i.getNode()}if((0<t&&i.isAtEnd()||t<0&&i.isAtStart())&&(r=Co(r,t,zt,n,!0),Ua(r,n)))return Ug(t,r);var l=Co(r,t,Ua,n),d=gr(ht(function(m,p){for(var g=[];m&&m!==p;)g.push(m),m=m.parentNode;return g}(s,n),sC));return!d||l&&d.contains(l)?l?Ug(t,l):null:0<t?M.after(d):M.before(d)},Oe=function(t,e,n){var r=tn(e);return N.from(t?r.next(n):r.prev(n))},cp=function(t,e,n,r){return Oa(t,e,n).bind(function(o){return r(o)?cp(t,e,o,r):N.some(o)})},en=et(Oe,!0),bn=et(Oe,!1),de=et(xo,!0),yn=et(xo,!1),lp="_mce_caret",cC=function(t,e,n){return 2===e?sg(qn,n,t):3===e?(o=(r=t).getRng(),{start:ng(r.dom.getRoot(),M.fromRangeStart(o)),end:ng(r.dom.getRoot(),M.fromRangeEnd(o))}):e?{rng:t.getRng()}:lg(t,!1);var r,o},xi=function(t){return"\xa0"===t},Uc=function(t,e){return void 0===e&&(e=!1),!(!Rt(t)||!ot(t))&&Cr(e?t.data.replace(/ /g,"\xa0"):t.data)},_o=Te,fp=La,dp=Uc,lC=_c,mp=function(t,e,n,r){var o=n.parentNode;return!Rt(n[r])&&(!(o!==e&&!rn(o)&&!t.isBlock(o))||mp(t,e,o,r))},gp=function(t){return _d(t).fold(nt([t]),function(e){return[t].concat(gp(e))})},zc=function(t){return ps(t).fold(nt([t]),function(e){return"br"===jt(e)?hr(e).map(function(n){return[t].concat(zc(n))}).getOr([]):[t].concat(zc(e))})},fC=(Fa=Ue,{get:function(t){if(!Fa(t))throw new Error("Can only get text value of a text node");return up(t).getOr("")},getOption:up=function(t){return Fa(t)?N.from(t.dom.nodeValue):N.none()},set:function(t,e){if(!Fa(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=e}});function Ro(t,e){for(;e&&e!==t;){if(sn(e)||At(e))return e;e=e.parentNode}return null}function Hc(t,e,n){if(!n.collapsed){if(dt.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(ct(r))return he(r.getClientRects(),function(o){return Wm(o,t,e)})}return he(n.getClientRects(),function(o){return Wm(o,t,e)})}}function pp(t,e,n){return t.fire(e,n)}function hp(t,e,n,r){return t.fire("FormatApply",{format:e,node:n,vars:r})}function jc(t,e,n,r){return t.fire("FormatRemove",{format:e,node:n,vars:r})}function vp(t,e){function n(V){return V&&("IMG"===V.nodeName||e.dom.is(V,"figure.image"))}function r(V){return He(V)||T.hasClass(V,"mce-preview-object")}function o(V){var G=V.target;!function(K,Z){if("longpress"!==K.type&&0!==K.type.indexOf("touch"))return n(K.target)&&!Hc(K.clientX,K.clientY,Z);var tt=K.touches[0];return n(K.target)&&!Hc(tt.clientX,tt.clientY,Z)}(V,e.selection.getRng())||V.isDefaultPrevented()||e.selection.select(G)}function i(V){return T.is(V,"figure.image")?[V.querySelector("img")]:T.hasClass(V,"mce-preview-object")&&Rt(V.firstElementChild)?[V,V.firstElementChild]:[V]}function a(V){var G=yg(e);return!!G&&"false"!==V.getAttribute("data-mce-resize")&&V!==e.getBody()&&(T.hasClass(V,"mce-preview-object")?Qr(P.fromDom(V.firstElementChild),G):Qr(P.fromDom(V),G))}function u(V,G,K){Rt(K)&&rt(i(V),function(Z){Z.style[G]||!e.schema.isValid(Z.nodeName.toLowerCase(),G)?T.setStyle(Z,G,K):T.setAttrib(Z,G,""+K)})}function c(V,G,K){u(V,"width",G),u(V,"height",K)}function s(V){var G,K,D=V.screenX-b,z=V.screenY-y;E=(E=D*h[2]+S)<5?5:E,A=(A=z*h[3]+k)<5?5:A,((n(m)||r(m))&&!1!==e.getParam("resize_img_proportional",!0,"boolean")?!st.modifierPressed(V):st.modifierPressed(V))&&($(D)>$(z)?(A=X(E*C),E=X(A/C)):(E=X(A/C),A=X(E*C))),c(p,E,A),T.setStyles(g,{left:G=0<(G=h.startPos.x+D)?G:0,top:K=0<(K=h.startPos.y+z)?K:0,display:"block"}),g.innerHTML=E+" &times; "+A,h[2]<0&&p.clientWidth<=E&&T.setStyle(p,"left",void 0+(S-E)),h[3]<0&&p.clientHeight<=A&&T.setStyle(p,"top",void 0+(k-A)),(D=F.scrollWidth-B)+(z=F.scrollHeight-L)!=0&&T.setStyles(g,{left:G-D,top:K-z}),x||(e.fire("ObjectResizeStart",{target:m,width:S,height:k,origin:"corner-"+h.name}),x=!0)}function f(V){function G(Z,tt){if(Z)do{if(Z===tt)return 1}while(Z=Z.parentNode)}var K;x||e.removed||(R(T.select("img[data-mce-selected],hr[data-mce-selected]"),function(Z){Z.removeAttribute(_)}),K="mousedown"===V.type?V.target:t.getNode(),G(K=T.$(K).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],F)&&(d(),G(t.getStart(!0),K)&&G(t.getEnd(!0),K))?Q(K):W())}function l(V){return mC(Ro(e.getBody(),V))}function d(){try{e.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(V){}}var m,p,g,h,v,b,y,S,k,C,x,E,A,B,L,_="data-mce-selected",T=e.dom,R=H.each,O=e.getDoc(),I=document,$=Math.abs,X=Math.round,F=e.getBody(),U={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},J=function(){var tt=x;x=!1,tt&&(u(m,"width",E),u(m,"height",A)),T.unbind(O,"mousemove",s),T.unbind(O,"mouseup",J),I!==O&&(T.unbind(I,"mousemove",s),T.unbind(I,"mouseup",J)),T.remove(p),T.remove(g),T.remove(v),Q(m),tt&&(e.fire("ObjectResized",{target:m,width:E,height:A,origin:"corner-"+h.name}),T.setAttrib(m,"style",T.getAttrib(m,"style"))),e.nodeChanged()},Q=function(V){it();var G=T.getPos(V,F),K=G.x,Z=G.y,tt=V.getBoundingClientRect(),yt=tt.width||tt.right-tt.left,w=tt.height||tt.bottom-tt.top;m!==V&&(W(),m=V,E=A=0);var D=e.fire("ObjectSelected",{target:V}),z=T.getAttrib(m,_,"1");a(V)&&!D.isDefaultPrevented()?R(U,function(j,q){var Y=T.get("mceResizeHandle"+q);Y&&T.remove(Y),Y=T.add(F,"div",{id:"mceResizeHandle"+q,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+q+"-resize; margin:0; padding:0"}),11===dt.ie&&(Y.contentEditable=!1),T.bind(Y,"mousedown",function(at){var lt,wt,xt;at.stopImmediatePropagation(),at.preventDefault(),lt=at,xt=i(m)[0],b=lt.screenX,y=lt.screenY,C=(k=xt.clientHeight)/(S=xt.clientWidth),(h=j).name=q,h.startPos={x:yt*j[0]+K,y:w*j[1]+Z},B=F.scrollWidth,L=F.scrollHeight,v=T.add(F,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),T.setStyles(v,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),p=r(wt=m)?T.create("img",{src:dt.transparentSrc}):wt.cloneNode(!0),T.addClass(p,"mce-clonedresizable"),T.setAttrib(p,"data-mce-bogus","all"),p.contentEditable="false",T.setStyles(p,{left:K,top:Z,margin:0}),c(p,yt,w),p.removeAttribute(_),F.appendChild(p),T.bind(O,"mousemove",s),T.bind(O,"mouseup",J),I!==O&&(T.bind(I,"mousemove",s),T.bind(I,"mouseup",J)),g=T.add(F,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},S+" &times; "+k)}),j.elm=Y,T.setStyles(Y,{left:yt*j[0]+K-Y.offsetWidth/2,top:w*j[1]+Z-Y.offsetHeight/2})}):W(),T.getAttrib(m,_)||m.setAttribute(_,z)},W=function(){it(),m&&m.removeAttribute(_),Bt(U,function(V,G){var K=T.get("mceResizeHandle"+G);K&&(T.unbind(K),T.remove(K))})},it=function(){Bt(U,function(V){V.elm&&(T.unbind(V.elm),delete V.elm)})};return e.on("init",function(){var V;d(),(dt.browser.isIE()||dt.browser.isEdge())&&(e.on("mousedown click",function(K){var Z=K.target,tt=Z.nodeName;x||!/^(TABLE|IMG|HR)$/.test(tt)||l(Z)||(2!==K.button&&e.selection.select(Z,"TABLE"===tt),"mousedown"===K.type&&e.nodeChanged())}),T.bind(F,"mscontrolselect",V=function(K){function Z(tt){ee.setEditorTimeout(e,function(){return e.selection.select(tt)})}if(l(K.target)||He(K.target))return K.preventDefault(),void Z(K.target);/^(TABLE|IMG|HR)$/.test(K.target.nodeName)&&(K.preventDefault(),"IMG"===K.target.tagName&&Z(K.target))}),e.on("remove",function(){return T.unbind(F,"mscontrolselect",V)}));var G=ee.throttle(function(K){e.composing||f(K)});e.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",G),e.on("keyup compositionend",function(K){m&&"TABLE"===m.nodeName&&G(K)}),e.on("hide blur",W),e.on("contextmenu longpress",o,!0)}),e.on("remove",it),{isResizable:a,showResizeRect:Q,hideResizeRect:W,updateResizeRect:f,destroy:function(){m=p=v=null}}}function dC(t){return sn(t)||At(t)}function Vc(t,e,n){var r,o,i,a,u,c=n;if(c.caretPositionFromPoint)(o=c.caretPositionFromPoint(t,e))&&((r=n.createRange()).setStart(o.offsetNode,o.offset),r.collapse(!0));else if(c.caretRangeFromPoint)r=c.caretRangeFromPoint(t,e);else if(c.body.createTextRange){r=c.body.createTextRange();try{r.moveToPoint(t,e),r.collapse(!0)}catch(s){r=function(f,l,d){var m,p=d.elementFromPoint(f,l),g=d.body.createTextRange();if(p&&"HTML"!==p.tagName||(p=d.body),g.moveToElementText(p),0<(m=(m=H.toArray(g.getClientRects())).sort(function(h,v){return(h=Math.abs(Math.max(h.top-l,h.bottom-l)))-Math.abs(Math.max(v.top-l,v.bottom-l))})).length){l=(m[0].bottom+m[0].top)/2;try{return g.moveToPoint(f,l),g.collapse(!0),g}catch(h){}}return null}(t,e,n)}return a=n.body,u=(i=r)&&i.parentElement?i.parentElement():null,At(function(s,f,l){for(;s&&s!==f;){if(l(s))return s;s=s.parentNode}return null}(u,a,dC))?null:i}return r}function qc(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}function bp(t,e,n){return null!==function(r,o,i){for(;r&&r!==o;){if(i(r))return r;r=r.parentNode}return null}(t,e,n)}function $c(t){return t&&"TABLE"===t.nodeName}function yp(t,e,n){for(var r=new qt(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());e=r[n?"prev":"next"]();)if(It(e))return 1}function Wc(t,e,n,r,o){var i,a,u=t.getRoot(),c=t.schema.getNonEmptyElements(),s=t.getParent(o.parentNode,t.isBlock)||u;if(r&&It(o)&&e&&t.isEmpty(s))return N.some(M(o.parentNode,t.nodeIndex(o)));for(var f,l,d=new qt(o,s);a=d[r?"prev":"next"]();){if("false"===t.getContentEditableParent(a)||(l=u,Re(f=a)&&!1===bp(f,l,pn)))return N.none();if(ot(a)&&0<a.nodeValue.length)return!1===bp(a,u,function(m){return"A"===m.nodeName})?N.some(M(a,r?a.nodeValue.length:0)):N.none();if(t.isBlock(a)||c[a.nodeName.toLowerCase()])return N.none();i=a}return n&&i?N.some(M(i,0)):N.none()}function Cp(t,e,n,r){var o,i=t.getRoot(),a=!1,u=r[(n?"start":"end")+"Container"],c=r[(n?"start":"end")+"Offset"],s=ct(u)&&c===u.childNodes.length,f=t.schema.getNonEmptyElements(),l=n;if(Re(u))return N.none();if(ct(u)&&c>u.childNodes.length-1&&(l=!1),ws(u)&&(u=i,c=0),u===i){if(l&&(d=u.childNodes[0<c?c-1:0])&&(Re(d)||f[d.nodeName]||$c(d)))return N.none();if(u.hasChildNodes()){if(c=Math.min(!l&&0<c?c-1:c,u.childNodes.length-1),c=ot(u=u.childNodes[c])&&s?u.data.length:0,!e&&u===i.lastChild&&$c(u)||function(p,g){for(;g&&g!==p;){if(At(g))return 1;g=g.parentNode}}(i,u)||Re(u))return N.none();if(u.hasChildNodes()&&!1===$c(u)){var d=u,m=new qt(u,i);do{if(At(d)||Re(d)){a=!1;break}if(ot(d)&&0<d.nodeValue.length){c=l?0:d.nodeValue.length,u=d,a=!0;break}if(f[d.nodeName.toLowerCase()]&&(!(o=d)||!/^(TD|TH|CAPTION)$/.test(o.nodeName))){c=t.nodeIndex(d),u=d.parentNode,l||c++,a=!0;break}}while(d=l?m.next():m.prev())}}}return e&&(ot(u)&&0===c&&Wc(t,s,e,!0,u).each(function(p){u=p.container(),c=p.offset(),a=!0}),ct(u)&&(!(d=(d=u.childNodes[c])||u.childNodes[c-1])||!It(d)||d.previousSibling&&"A"===d.previousSibling.nodeName||yp(t,d,!1)||yp(t,d,!0)||Wc(t,s,e,!0,d).each(function(p){u=p.container(),c=p.offset(),a=!0}))),l&&!e&&ot(u)&&c===u.nodeValue.length&&Wc(t,s,e,!1,u).each(function(p){u=p.container(),c=p.offset(),a=!0}),a?N.some(M(u,c)):N.none()}function za(t,e){var n=e.collapsed,r=e.cloneRange(),o=M.fromRangeStart(e);return Cp(t,n,!0,r).each(function(i){n&&M.isAbove(o,i)||r.setStart(i.container(),i.offset())}),n||Cp(t,n,!1,r).each(function(i){r.setEnd(i.container(),i.offset())}),n&&r.collapse(!0),qc(e,r)?N.none():N.some(r)}function Ha(t,e){return t.splitText(e)}function ja(t){var e=t.startContainer,n=t.startOffset,r=t.endContainer,o=t.endOffset;return e===r&&ot(e)?0<n&&n<e.nodeValue.length&&(e=(r=Ha(e,n)).previousSibling,n<o?(e=r=Ha(r,o-=n).previousSibling,o=r.nodeValue.length,n=0):o=0):(ot(e)&&0<n&&n<e.nodeValue.length&&(e=Ha(e,n),n=0),ot(r)&&0<o&&o<r.nodeValue.length&&(o=(r=Ha(r,o).previousSibling).nodeValue.length)),{startContainer:e,startOffset:n,endContainer:r,endOffset:o}}function wi(t){return{walk:function(e,n){return bi(t,e,n)},split:ja,normalize:function(e){return za(t,e).fold(Dt,function(n){return e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset),!0})}}}Ci.isBookmarkNode=Te;var st={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||st.metaKeyPressed(t)},metaKeyPressed:function(t){return dt.mac?t.metaKey:t.ctrlKey&&!t.altKey}},mC=At;wi.compareRanges=qc,wi.getCaretRangeFromPoint=Vc,wi.getSelectedNode=Sa,wi.getNode=Zn;var Va,xp,gC=(Va="height",xp=function(t){var e=t.dom;return Jo(t)?e.getBoundingClientRect().height:e.offsetHeight},{set:function(t,e){if(!Kr(e)&&!e.match(/^[0-9]+$/))throw new Error(Va+".set accepts only positive integer values. Value was "+e);var n=t.dom;Qi(n)&&(n.style[Va]=e+"px")},get:wp,getOuter:wp,aggregate:Sp,max:function(t,e,n){var r=Sp(t,n);return r<e?e-r:0}});function wp(t){var e=xp(t);if(e<=0||null===e){var n=_n(t,Va);return parseFloat(n)||0}return e}function Sp(t,e){return We(e,function(n,r){var o=_n(t,r),i=void 0===o?0:parseInt(o,10);return isNaN(i)?n:n+i},0)}function Kc(t){return"textarea"===jt(t)}function Ep(t,e){var n=function(o){var i=o.dom.ownerDocument,a=i.body,u=i.defaultView,c=i.documentElement;if(a===o.dom)return eo(a.offsetLeft,a.offsetTop);var s=Xi(null==u?void 0:u.pageYOffset,c.scrollTop),f=Xi(null==u?void 0:u.pageXOffset,c.scrollLeft),l=Xi(c.clientTop,a.clientTop),d=Xi(c.clientLeft,a.clientLeft);return Cs(o).translate(f-d,s-l)}(t),r=gC.get(t);return{element:t,bottom:n.top+r,height:r,pos:n,cleanup:e}}function Np(t,e,n,r){kC(t,function(o,i){return NC(t,e,n,r)},n)}function kp(t,e,n,r,o){var i={elm:r.element.dom,alignToTop:o};t.fire("ScrollIntoView",i).isDefaultPrevented()||(n(e,bs(e).top,r,o),t.fire("AfterScrollIntoView",i))}function _p(t,e,n,r){var o=P.fromDom(t.getDoc());kp(t,o,n,Ep(P.fromDom(e),pt),r)}function Xc(t,e,n,r){var i=t.pos;Od(i.left,n?i.top:i.top-e+t.height,r)}function Rp(t,e,n,r,o){var i=n+e,a=r.pos.top,u=r.bottom,c=n<=u-a;a<e?Xc(r,n,!1!==o,t):i<a?Xc(r,n,c?!1!==o:!0===o,t):i<u&&!c&&Xc(r,n,!0===o,t)}function Dp(t,e,n,r){Rp(t,e,t.dom.defaultView.innerHeight,n,r)}function Ap(t,e,n,r){Rp(t,e,t.dom.defaultView.innerHeight,n,r);var o,i,a,u,c,s,f,l=(o=n.element,u=bs(P.fromDom(document)),a=(i=EC).owner(o),c=jp(i,a),s=Cs(o),f=Xf(c,function(m,p){var g=Cs(p);return{left:m.left+g.left,top:m.top+g.top}},{left:0,top:0}),eo(f.left+s.left+u.left,f.top+s.top+u.top)),d=Ld(window);l.top<d.y?Bd(n.element,!1!==r):l.top>d.bottom&&Bd(n.element,!0===r)}function pC(t,e,n){return Np(t,Dp,e,n)}function hC(t,e,n){return _p(t,e,Dp,n)}function vC(t,e,n){return Np(t,Ap,e,n)}function bC(t,e,n){return _p(t,e,Ap,n)}function Si(t,e,n){(t.inline?pC:vC)(t,e,n)}function Tp(t){var e=br(t).dom;return t.dom===e.activeElement}function Yc(t){return void 0===t&&(t=P.fromDom(document)),N.from(t.dom.activeElement).map(P.fromDom)}function Op(t,e){var n=Ue(e)?Ic(e).length:ze(e).length+1;return n<t?n:t<0?0:t}function yC(t){return Vp.range(t.start,Op(t.soffset,t.start),t.finish,Op(t.foffset,t.finish))}function Bp(t,e){return!Yi(e.dom)&&(Fn(t,e)||kt(t,e))}function Gc(t){return function(e){return Bp(t,e.start)&&Bp(t,e.finish)}}function Pp(t){return!0===t.inline||RC.isIE()}function Lp(t){return Vp.range(P.fromDom(t.startContainer),t.startOffset,P.fromDom(t.endContainer),t.endOffset)}function CC(t){var e=document.createRange();try{return e.setStart(t.start.dom,t.soffset),e.setEnd(t.finish.dom,t.foffset),N.some(e)}catch(n){return N.none()}}function qa(t){var e,n,r=Pp(t)?((n=Ed(e=P.fromDom(t.getBody())).dom.getSelection())&&0!==n.rangeCount?N.from(n.getRangeAt(0)):N.none()).map(Lp).filter(Gc(e)):N.none();t.bookmark=r.isSome()?r:t.bookmark}function Jc(t){return(t.bookmark||N.none()).bind(function(e){return n=P.fromDom(t.getBody()),N.from(e).filter(Gc(n)).map(yC);var n}).bind(CC)}function $a(t,e){var n=t.getParam("custom_ui_selector","","string");return null!==el.getParent(e,function(r){return qp.isEditorUIElement(r)||!!n&&t.dom.is(r,n)})}function wC(t,e){var n=e.editor;(function(t){var e=sc(function(){qa(t)},0);t.on("init",function(){function n(){o.throttle()}var r,o,i,a,u,c;t.inline&&(r=t,o=e,Nt.DOM.bind(document,"mouseup",n),r.on("remove",function(){Nt.DOM.unbind(document,"mouseup",n)})),i=t,a=e,Me().browser.isIE()?(c=i).on("focusout",function(){qa(c)}):(u=a,i.on("mouseup touchend",function(s){u.throttle()})),i.on("keyup NodeChange",function(s){"nodechange"===s.type&&s.selectionChange||qa(i)})}),t.on("remove",function(){e.cancel()})})(n),n.on("focusin",function(){var r=t.focusedEditor;r!==n&&(r&&r.fire("blur",{focusedEditor:n}),t.setActive(n),(t.focusedEditor=n).fire("focus",{blurredEditor:r}),n.focus(!0))}),n.on("focusout",function(){ee.setEditorTimeout(n,function(){var r=t.focusedEditor;$a(n,function(o){try{return Yc(br(P.fromDom(o.getElement()))).fold(function(){return document.body},function(i){return i.dom})}catch(i){return document.body}}(n))||r!==n||(n.fire("blur",{focusedEditor:null}),t.focusedEditor=null)})}),Ei||(Ei=function(r){var o=t.activeEditor;o&&function(i){if(Uy()&&Rt(i.target)){var a=P.fromDom(i.target);if(Ye(a)&&Rt(a.dom.shadowRoot)&&i.composed&&i.composedPath){var u=i.composedPath();if(u)return ke(u)}}return N.from(i.target)}(r).each(function(i){i.ownerDocument===document&&(i===document.body||$a(o,i)||t.focusedEditor!==o||(o.fire("blur",{focusedEditor:null}),t.focusedEditor=null))})},el.bind(document,"focusin",Ei))}function SC(t,e){t.focusedEditor===e.editor&&(t.focusedEditor=null),t.activeEditor||(el.unbind(document,"focusin",Ei),Ei=null)}function Ip(t,e){var n,r;n=P.fromDom(t.getBody()),((r=e).collapsed?N.from(Zn(r.startContainer,r.startOffset)).map(P.fromDom):N.none()).bind(function(o){return Ky(o)?N.some(o):!1===Fn(n,o)?N.some(n):N.none()}).bind(function(o){return de(o.dom)}).fold(function(){t.selection.normalize()},function(o){return t.selection.setRng(o.toRange())})}function Qc(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()}function Tr(t){return t.inline?(r=t.getBody())&&(Tp(e=P.fromDom(r))||Yc(br(n=e)).filter(function(o){return n.dom.contains(o.dom)}).isSome()):t.iframeElement&&Tp(P.fromDom(t.iframeElement));var e,n,r}function Mp(t,e,n,r,o){var a=n?e.startOffset:e.endOffset;return N.from(n?e.startContainer:e.endContainer).map(P.fromDom).map(function(u){return r&&e.collapsed?u:Wi(u,o(u,a)).getOr(u)}).bind(function(u){return Ye(u)?N.some(u):Ke(u).filter(Ye)}).map(function(u){return u.dom}).getOr(t)}function Fp(t,e,n){return Mp(t,e,!0,n,function(r,o){return Math.min(Rd(r),o)})}function Up(t,e,n){return Mp(t,e,!1,n,function(r,o){return 0<o?o-1:o})}function zp(t,e){for(var n=t;t&&ot(t)&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n}function Zc(t,e){return Tt(e,function(n){var r=t.fire("GetSelectionRange",{range:n});return r.range!==n?r.range:n})}function Wa(t,e,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(t[r])return t[r];if(t!==e){var i=t[o];if(i)return i;for(var a=t.parent;a&&a!==e;a=a.parent)if(i=a[o])return i}}function Hp(t){var e="a"===t.name&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||e}var Ei,jp=function(t,e){return t.view(e).fold(nt([]),function(n){var r=t.owner(n),o=jp(t,r);return[n].concat(o)})},EC=Object.freeze({__proto__:null,view:function(t){var e;return(t.dom===document?N.none():N.from(null===(e=t.dom.defaultView)||void 0===e?void 0:e.frameElement)).map(P.fromDom)},owner:Zr}),NC=function(t,e,n,r){P.fromDom(t.getBody());var c,s,i=P.fromDom(t.getDoc()),f=(c=function(l,d){var m=ze(l);if(0===m.length||Kc(l))return{element:l,offset:d};if(d<m.length&&!Kc(m[d]))return{element:m[d],offset:0};var p=m[m.length-1];return Kc(p)?{element:l,offset:d}:"img"===jt(p)?{element:p,offset:1}:Ue(p)?{element:p,offset:Ic(p).length}:{element:p,offset:ze(p).length}}(P.fromDom(n.startContainer),n.startOffset),s=P.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>'),Xe(c.element,s),Ep(s,function(){return Jt(s)}));kp(t,i,e,f,r),f.cleanup()},kC=function(t,e,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;e(P.fromDom(r),P.fromDom(i));var u=t.dom.createRng();u.setStart(r,o),u.setEnd(i,a),t.selection.setRng(n)},_C=(Hn([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),function(t){return t.fold(pe,pe,pe)}),Ka=Hn([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Vp={domRange:Ka.domRange,relative:Ka.relative,exact:Ka.exact,exactFromRange:function(t){return Ka.exact(t.start,t.soffset,t.finish,t.foffset)},getWin:function(t){return Ed(t.match({domRange:function(e){return P.fromDom(e.startContainer)},relative:function(e,n){return _C(e)},exact:function(e,n,r,o){return e}}))},range:function(t,e,n,r){return{start:t,soffset:e,finish:n,foffset:r}}},RC=Me().browser,qp={isEditorUIElement:function(t){var e=t.className.toString();return-1!==e.indexOf("tox-")||-1!==e.indexOf("mce-")}},el=Nt.DOM,nl=function(t){return t.editorManager.setActive(t)},DC={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Ve=(ue.create=function(t,e){var n=new ue(t,DC[t]||1);return e&&Bt(e,function(r,o){n.attr(o,r)}),n},ue.prototype.replace=function(t){return t.parent&&t.remove(),this.insert(t,this),this.remove(),this},ue.prototype.attr=function(t,e){var n,r=this;if("string"!=typeof t)return null!=t&&Bt(t,function(i,a){r.attr(a,i)}),r;if(n=r.attributes){if(void 0===e)return n.map[t];if(null===e){if(t in n.map){delete n.map[t];for(var o=n.length;o--;)if(n[o].name===t)return n.splice(o,1),r}return r}if(t in n.map){for(o=n.length;o--;)if(n[o].name===t){n[o].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,r}},ue.prototype.clone=function(){var t,e=new ue(this.name,this.type);if(t=this.attributes){var n=[];n.map={};for(var r=0,o=t.length;r<o;r++){var i=t[r];"id"!==i.name&&(n[n.length]={name:i.name,value:i.value},n.map[i.name]=i.value)}e.attributes=n}return e.value=this.value,e.shortEnded=this.shortEnded,e},ue.prototype.wrap=function(t){return this.parent.insert(t,this),t.append(this),this},ue.prototype.unwrap=function(){for(var t=this.firstChild;t;){var e=t.next;this.insert(t,this,!0),t=e}this.remove()},ue.prototype.remove=function(){var t=this.parent,e=this.next,n=this.prev;return t&&(t.firstChild===this?(t.firstChild=e)&&(e.prev=null):n.next=e,t.lastChild===this?(t.lastChild=n)&&(n.next=null):e.prev=n,this.parent=this.next=this.prev=null),this},ue.prototype.append=function(t){t.parent&&t.remove();var e=this.lastChild;return e?((e.next=t).prev=e,this.lastChild=t):this.lastChild=this.firstChild=t,t.parent=this,t},ue.prototype.insert=function(t,e,n){t.parent&&t.remove();var r=e.parent||this;return n?(e===r.firstChild?r.firstChild=t:e.prev.next=t,t.prev=e.prev,(t.next=e).prev=t):(e===r.lastChild?r.lastChild=t:e.next.prev=t,t.next=e.next,(t.prev=e).next=t),t.parent=r,t},ue.prototype.getAll=function(t){for(var e=[],n=this.firstChild;n;n=Wa(n,this))n.name===t&&e.push(n);return e},ue.prototype.children=function(){for(var t=[],e=this.firstChild;e;e=e.next)t.push(e);return t},ue.prototype.empty=function(){if(this.firstChild){for(var t=[],e=this.firstChild;e;e=Wa(e,this))t.push(e);for(var n=t.length;n--;)(e=t[n]).parent=e.firstChild=e.lastChild=e.next=e.prev=null}return this.firstChild=this.lastChild=null,this},ue.prototype.isEmpty=function(t,e,n){void 0===e&&(e={});var r=this.firstChild;if(Hp(this))return!1;if(r)do{if(1===r.type){if(r.attr("data-mce-bogus"))continue;if(t[r.name]||Hp(r))return!1}if(8===r.type||3===r.type&&!function(o){if(Cr(o.value)){var i=o.parent;return!i||"span"===i.name&&!i.attr("style")||!/^[ ]+$/.test(o.value)}}(r)||3===r.type&&r.parent&&e[r.parent.name]&&Cr(r.value)||n&&n(r))return!1}while(r=Wa(r,this));return!0},ue.prototype.walk=function(t){return Wa(this,null,t)},ue);function ue(t,e){this.name=t,1===(this.type=e)&&(this.attributes=[],this.attributes.map={})}function rl(t,e){return t.replace(e.re,function(n){return Ht(e.uris,n).getOr(n)})}var $p=H.each,AC=H.trim,TC="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),OC={ftp:21,http:80,https:443,mailto:25},BC=["img","video"],nr=(Ee.parseDataUri=function(t){var e,n=decodeURIComponent(t).split(","),r=/data:([^;]+)/.exec(n[0]);return{type:e=r?r[1]:e,data:n[1]}},Ee.isDomSafe=function(t,e,n){if((n=void 0===n?{}:n).allow_script_urls)return!0;var r,o,i,a,u=$n.decode(t).replace(/[\s\u0000-\u001F]+/g,"");try{u=decodeURIComponent(u)}catch(c){u=unescape(u)}return!(/((java|vb)script|mhtml):/i.test(u)||(o=u,i=e,!(r=n).allow_html_data_urls&&(/^data:image\//i.test(o)?(Rt(a=r.allow_svg_data_urls)?!a:!Rt(i)||!Yt(BC,i))&&/^data:image\/svg\+xml/i.test(o):/^data:/i.test(o))))},Ee.getDocumentBaseUrl=function(t){var e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname;return/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},Ee.prototype.setPath=function(t){var e=/^(.*?)\/?(\w+)?$/.exec(t);this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},Ee.prototype.toRelative=function(t){var e;if("./"===t)return t;var n=new Ee(t,{base_uri:this});if("mce_host"!==n.host&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&""!==n.protocol)return n.getURI();var r=this.getURI(),o=n.getURI();return r===o||"/"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===o?r:(e=this.toRelPath(this.path,n.path),n.query&&(e+="?"+n.query),n.anchor&&(e+="#"+n.anchor),e)},Ee.prototype.toAbsolute=function(t,e){var n=new Ee(t,{base_uri:this});return n.getURI(e&&this.isSameOrigin(n))},Ee.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=OC[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},Ee.prototype.toRelPath=function(t,e){var n,r,o=0,i="",a=t.substring(0,t.lastIndexOf("/")).split("/"),u=e.split("/");if(a.length>=u.length)for(n=0,r=a.length;n<r;n++)if(n>=u.length||a[n]!==u[n]){o=n+1;break}if(a.length<u.length)for(n=0,r=u.length;n<r;n++)if(n>=a.length||a[n]!==u[n]){o=n+1;break}if(1===o)return e;for(n=0,r=a.length-(o-1);n<r;n++)i+="../";for(n=o-1,r=u.length;n<r;n++)i+=n!==o-1?"/"+u[n]:u[n];return i},Ee.prototype.toAbsPath=function(t,e){var n,r,o=0,i=[],a=/\/$/.test(e)?"/":"",u=t.split("/"),c=e.split("/");for($p(u,function(s){s&&i.push(s)}),u=i,n=c.length-1,i=[];0<=n;n--)0!==c[n].length&&"."!==c[n]&&(".."!==c[n]?0<o?o--:i.push(c[n]):o++);return 0!==(r=(n=u.length-o)<=0?ji(i).join("/"):u.slice(0,n).join("/")+"/"+ji(i).join("/")).indexOf("/")&&(r="/"+r),a&&r.lastIndexOf("/")!==r.length-1&&(r+=a),r},Ee.prototype.getURI=function(t){var e;return void 0===t&&(t=!1),this.source&&!t||(e="",t||(e+=this.protocol?this.protocol+"://":"//",this.userInfo&&(e+=this.userInfo+"@"),this.host&&(e+=this.host),this.port&&(e+=":"+this.port)),this.path&&(e+=this.path),this.query&&(e+="?"+this.query),this.anchor&&(e+="#"+this.anchor),this.source=e),this.source},Ee);function Ee(t,e){t=AC(t),this.settings=e||{};var n,r,o,i,a=this.settings.base_uri,u=this;/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)?u.source=t:(n=0===t.indexOf("//"),0!==t.indexOf("/")||n||(t=(a&&a.protocol||"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(r=this.settings.base_uri?this.settings.base_uri.path:new Ee(document.location.href).directory,t=this.settings.base_uri&&""==this.settings.base_uri.protocol?"//mce_host"+u.toAbsPath(r,t):(o=/([^#?]*)([#?]?.*)/.exec(t),(a&&a.protocol||"http")+"://mce_host"+u.toAbsPath(r,o[1])+o[2])),t=t.replace(/@@/g,"(mce_at)"),i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),$p(TC,function(c,s){var f=(f=i[s])&&f.replace(/\(mce_at\)/g,"@@");u[c]=f}),a&&(u.protocol||(u.protocol=a.protocol),u.userInfo||(u.userInfo=a.userInfo),u.port||"mce_host"!==u.host||(u.port=a.port),u.host&&"mce_host"!==u.host||(u.host=a.host),u.source=""),n&&(u.protocol=""))}function ol(t,e,n){for(var r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,o=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=t.getShortEndedElements(),a=1,u=n;0!==a;)for(r.lastIndex=u;;){var c=r.exec(e);if(null===c)return u;if("!"===c[1]){u=pr(c[2],"--")?il(e,!1,c.index+"!--".length):il(e,!0,c.index+1);break}o.lastIndex=r.lastIndex;var s=o.exec(e);if(!Ho(s)&&s.index===r.lastIndex){"/"===c[1]?--a:vt(i,c[2])||(a+=1),u=r.lastIndex+s[0].length;break}}return u}function Xa(t,e){var n;void 0===e&&(e=Vn());var r=null!==(n=(t=t||{}).document)&&void 0!==n?n:document,o=r.createElement("form");!1!==t.fix_self_closing&&(t.fix_self_closing=!0);var a=t.comment||pt,u=t.cdata||pt,c=t.text||pt,s=t.start||pt,f=t.end||pt,l=t.pi||pt,d=t.doctype||pt;return{parse:function(m,p){void 0===p&&(p="html"),function(m,p){void 0===p&&(p="html");for(var g,h,v,b,y,S,k,C,x,E,A,B,L,_,T,R,O,I,$,X=m.html,F=0,U=[],J=0,Q=$n.decode,W=H.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),it="html"===p?0:1,V=function(ut){for(var Ct,Et=U.length;Et--&&U[Et].name!==ut;);if(0<=Et){for(Ct=U.length-1;Et<=Ct;Ct--)(ut=U[Ct]).valid&&f(ut.name);U.length=Et}},G=function(ut,Ct){return c(rl(ut,m),Ct)},K=function(ut){""!==ut&&(">"===ut.charAt(0)&&(ut=" "+ut),t.allow_conditional_comments||"[if"!==ut.substr(0,3).toLowerCase()||(ut=" "+ut),a(rl(ut,m)))},Z=function(ut,Ct){var Et=ut||"",Vt=!pr(Et,"--"),Mt=il(X,Vt,Ct);return ut=X.substr(Ct,Mt-Ct),K(Vt?Et+ut:ut),Mt+1},tt=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))","g"),yt=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,w=e.getShortEndedElements(),D=t.self_closing_elements||e.getSelfClosingElements(),z=e.getBoolAttrs(),j=t.validate,q=t.remove_internals,Y=t.fix_self_closing,at=e.getSpecialElements(),lt=X+">";g=tt.exec(lt);){var wt=g[0];if(F<g.index&&G(Q(X.substr(F,g.index-F))),h=g[7])V(h=":"===(h=h.toLowerCase()).charAt(0)?h.substr(1):h);else if(h=g[8]){if(g.index+wt.length>X.length){G(Q(X.substr(g.index))),F=g.index+wt.length;continue}x=(h=":"===(h=h.toLowerCase()).charAt(0)?h.substr(1):h)in w,Y&&D[h]&&0<U.length&&U[U.length-1].name===h&&V(h);var xt=function(ut,Ct){var Et=ut.exec(Ct);if(Et){var Vt=Et[1],Mt=Et[2];return"string"==typeof Vt&&"data-mce-bogus"===Vt.toLowerCase()?Mt:null}return null}(yt,g[9]);if(null!==xt){if("all"===xt){F=ol(e,X,tt.lastIndex),tt.lastIndex=F;continue}A=!1}if(!j||(E=e.getElementRule(h))){if(A=!0,j&&(_=E.attributes,T=E.attributePatterns),(L=g[9])?((C=-1!==L.indexOf("data-mce-type"))&&q&&(A=!1),(b=[]).map={},L.replace(yt,function(ut,Ct,Et,Vt,Mt){return function($e,Lt,ge,Sn,Ui){var fr;if(ge=rl((Lt=Lt.toLowerCase())in z?Lt:Q(ge||Sn||Ui||""),m),j&&!C&&0==(0===(fr=Lt).indexOf("data-")||0===fr.indexOf("aria-"))){var En=_[Lt];if(!En&&T){for(var Nn=T.length;Nn--&&!(En=T[Nn]).pattern.test(Lt););-1===Nn&&(En=null)}if(!En||En.validValues&&!(ge in En.validValues))return}("name"===Lt||"id"===Lt)&&$e in PC&&(ge in r||ge in o)||W[Lt]&&!nr.isDomSafe(ge,$e,t)||C&&(Lt in W||0===Lt.indexOf("on"))||(b.map[Lt]=ge,b.push({name:Lt,value:ge}))}(h,Ct,Et,Vt,Mt),""})):(b=[]).map={},j&&!C){if(R=E.attributesRequired,O=E.attributesDefault,E.removeEmptyAttrs&&!b.length&&(A=!1),I=E.attributesForced)for(y=I.length;y--;)k=(B=I[y]).name,"{$uid}"===($=B.value)&&($="mce_"+J++),b.map[k]=$,b.push({name:k,value:$});if(O)for(y=O.length;y--;)(k=(B=O[y]).name)in b.map||("{$uid}"===($=B.value)&&($="mce_"+J++),b.map[k]=$,b.push({name:k,value:$}));if(R){for(y=R.length;y--&&!(R[y]in b.map););-1===y&&(A=!1)}if(B=b.map["data-mce-bogus"]){if("all"===B){F=ol(e,X,tt.lastIndex),tt.lastIndex=F;continue}A=!1}}A&&s(h,b,x)}else A=!1;if(v=at[h]){v.lastIndex=F=g.index+wt.length,F=(g=v.exec(X))?(A&&(S=X.substr(F,g.index-F)),g.index+g[0].length):(S=X.substr(F),X.length),A&&(0<S.length&&G(S,!0),f(h)),tt.lastIndex=F;continue}x||(L&&L.indexOf("/")===L.length-1?A&&f(h):U.push({name:h,valid:A}))}else if(h=g[1])K(h);else if(h=g[2]){if(!(1==it||t.preserve_cdata||0<U.length&&e.isValidChild(U[U.length-1].name,"#cdata"))){F=Z("",g.index+2),tt.lastIndex=F;continue}u(h)}else if(h=g[3])d(h);else{if((h=g[4])||"<!"===wt){F=Z(h,g.index+wt.length),tt.lastIndex=F;continue}if(h=g[5]){if(1!=it){F=Z("?",g.index+2),tt.lastIndex=F;continue}l(h,g[6])}}F=g.index+wt.length}for(F<X.length&&G(Q(X.substr(F))),y=U.length-1;0<=y;y--)(h=U[y]).valid&&f(h.name)}(function(g){for(var h,v=/data:[^;]+;base64,([a-z0-9\+\/=\s]+)/gi,b=[],y={},S=Fm("img"),k=0,C=0;h=v.exec(g);){var x=h[0],E=S+"_"+C++;y[E]=x,k<h.index&&b.push(g.substr(k,h.index-k)),b.push(E),k=h.index+x.length}var A=new RegExp(S+"_[0-9]+","g");return 0===k?{prefix:S,uris:y,html:g,re:A}:(k<g.length&&b.push(g.substr(k)),{prefix:S,uris:y,html:b.join(""),re:A})}(m),p)}}}var PC=H.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),il=function(t,e,n){void 0===n&&(n=0);var r=t.toLowerCase();if(-1!==r.indexOf("[if ",n)&&/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(r.substr(n))){var o=r.indexOf("[endif]",n);return r.indexOf(">",o)}if(e){var i=r.indexOf(">",n);return-1!==i?i:r.length}var a=/--!?>/g;a.lastIndex=n;var c=a.exec(t);return c?c.index+c[0].length:r.length};function Wp(t,e){for(var n,r,o,i,a=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=t.schema,c=(n=t.getTempAttrs(),r=e,o=new RegExp(["\\s?("+n.join("|")+')="[^"]+"'].join("|"),"gi"),r.replace(o,"")),s=u.getShortEndedElements();i=a.exec(c);){var f=a.lastIndex,l=i[0].length,d=s[i[1]]?f:Xa.findEndTag(u,c,f);c=c.substring(0,f-l)+c.substring(d),a.lastIndex=f-l}return qn(c)}function Kp(t){return{compare:function(e,n){return e.nodeName===n.nodeName&&!(!o(r(e),r(n))||!o(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style")))||Te(e)||Te(n));function r(i){var a={};return IC(t.getAttribs(i),function(u){var c=u.nodeName.toLowerCase();0!==c.indexOf("_")&&"style"!==c&&0!==c.indexOf("data-")&&(a[c]=t.getAttrib(i,c))}),a}function o(i,a){var u,c;for(c in i)if(vt(i,c)){if(void 0===(u=a[c])||i[c]!==u)return;delete a[c]}for(c in a)if(vt(a,c))return;return 1}}}}function Xp(t){var e=[],n=(t=t||{}).indent,r=Yp(t.indent_before||""),o=Yp(t.indent_after||""),i=$n.getEncodeFunc(t.entity_encoding||"raw",t.entities),a="html"===t.element_format;return{start:function(u,c,s){var f,l,d,m;if(n&&r[u]&&0<e.length&&0<(m=e[e.length-1]).length&&"\n"!==m&&e.push("\n"),e.push("<",u),c)for(f=0,l=c.length;f<l;f++)e.push(" ",(d=c[f]).name,'="',i(d.value,!0),'"');e[e.length]=!s||a?">":" />",s&&n&&o[u]&&0<e.length&&0<(m=e[e.length-1]).length&&"\n"!==m&&e.push("\n")},end:function(u){var c;e.push("</",u,">"),n&&o[u]&&0<e.length&&0<(c=e[e.length-1]).length&&"\n"!==c&&e.push("\n")},text:function(u,c){0<u.length&&(e[e.length]=c?u:i(u))},cdata:function(u){e.push("<![CDATA[",u,"]]>")},comment:function(u){e.push("\x3c!--",u,"--\x3e")},pi:function(u,c){c?e.push("<?",u," ",i(c),"?>"):e.push("<?",u,"?>"),n&&e.push("\n")},doctype:function(u){e.push("<!DOCTYPE",u,">",n?"\n":"")},reset:function(){e.length=0},getContent:function(){return e.join("").replace(/\n$/,"")}}}function Do(t,e){void 0===e&&(e=Vn());var n=Xp(t);return(t=t||{}).validate=!("validate"in t)||t.validate,{serialize:function(r){var o=t.validate,i={3:function(u){n.text(u.value,u.raw)},8:function(u){n.comment(u.value)},7:function(u){n.pi(u.name,u.value)},10:function(u){n.doctype(u.value)},4:function(u){n.cdata(u.value)},11:function(u){if(u=u.firstChild)for(;a(u),u=u.next;);}};n.reset();var a=function(u){var c=i[u.type];if(c)c(u);else{var s=u.name,f=u.shortEnded,l=u.attributes;if(o&&l&&1<l.length){var d=[];d.map={};var m=e.getElementRule(u.name);if(m){for(var p=0,g=m.attributesOrder.length;p<g;p++)(h=m.attributesOrder[p])in l.map&&(d.map[h]=v=l.map[h],d.push({name:h,value:v}));var h,v;for(p=0,g=l.length;p<g;p++)(h=l[p].name)in d.map||(d.map[h]=v=l.map[h],d.push({name:h,value:v}));l=d}}if(n.start(u.name,l,f),!f){if(u=u.firstChild)for(;a(u),u=u.next;);n.end(s)}}};return 1!==r.type||t.inner?i[11](r):a(r),n.getContent()}}}Xa.findEndTag=ol;var LC=Wp,IC=H.each,Yp=H.makeMap,Gp=new Set;function al(t,e){return Jr(t.parseStyle(t.getAttrib(e,"style")))}function Jp(t,e,n){return N.from(n.container()).filter(ot).exists(function(r){var o=t?0:-1;return e(r.data.charAt(n.offset()+o))})}function MC(t){var e=t.container();return ot(e)&&(0===e.data.length||sa(e.data)&&Ci.isBookmarkNode(e.parentNode))}function rr(t,e){return function(n){return N.from(bc(t?0:-1,n)).filter(e).isSome()}}function Qp(t){return Hy(t)&&"block"===_n(P.fromDom(t),"display")}function Zp(t){return At(t)&&!(ct(e=t)&&"all"===e.getAttribute("data-mce-bogus"));var e}function Or(t){vs(t),Zt(t,P.fromHtml('<br data-mce-bogus="1">'))}function FC(t){ps(t).each(function(e){hr(e).each(function(n){ln(t)&&ro(e)&&ln(n)&&Jt(e)})})}function th(t,e){return o=Dt,Fn(r=e,n=t)?function(i,a){for(var u=Ot(a)?a:Dt,c=i.dom,s=[];null!=c.parentNode;){var f=c.parentNode,l=P.fromDom(f);if(s.push(l),!0===u(l))break;c=f}return s}(n,function(i){return o(i)||kt(i,r)}).slice(0,-1):[];var n,r,o}function Tn(t,e){return[t].concat(th(t,e))}function ul(t,e,n){return cp(t,e,n,MC)}function eh(t,e){return Gt(Tn(P.fromDom(e.container()),t),ln)}function nh(t,e,n){return ul(t,e.dom,n).forall(function(r){return eh(e,n).fold(function(){return!1===gn(r,n,e.dom)},function(o){return!1===gn(r,n,e.dom)&&Fn(o,P.fromDom(r.container()))})})}function rh(t,e,n){return eh(e,n).fold(function(){return ul(t,e.dom,n).forall(function(r){return!1===gn(r,n,e.dom)})},function(r){return ul(t,r.dom,n).isNone()})}function UC(t){return Ra(t).exists(ro)}function Ya(t,e,n){var r=ke(ht(Tn(P.fromDom(n.container()),e),ln)).getOr(e);return Oe(t,r.dom,n).filter(UC)}function sl(t,e){return Ra(e).exists(ro)||Ya(!0,t,e).isSome()}function cl(t,e){return N.from(e.getNode(!0)).map(P.fromDom).exists(ro)||Ya(!1,t,e).isSome()}function oh(t){return M.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()}function ih(t,e){return ke(ht(Tn(P.fromDom(e.container()),t),ln)).getOr(t)}function ah(t,e){return oh(e)?Dl(e):Dl(e)||bn(ih(t,e).dom,e).exists(Dl)}function uh(t,e){return oh(e)?Rl(e):Rl(e)||en(ih(t,e).dom,e).exists(Rl)}function ll(t){return Ra(t).bind(function(e){return ta(e,Ye)}).exists(function(e){return Yt(["pre","pre-wrap"],_n(e,"white-space"))})}function Ga(t,e){return!ll(e)&&(Al(t,e)||ux(t,e)||cl(t,e)||ah(t,e))}function Ja(t,e){return!ll(e)&&(Fh(t,e)||sx(t,e)||sl(t,e)||uh(t,e))}function sh(t,e){return Ga(t,e)||Ja(t,(r=(n=e).container(),o=n.offset(),ot(r)&&o<r.data.length?M(r,o+1):n));var n,r,o}function ch(t,e){return xi(t.charAt(e))}function zC(t){var e=t.container();return ot(e)&&le(e.data,xe)}function lh(t){var e=P.fromDom(t.getBody());t.selection.isCollapsed()&&function(t,e){return N.some(e).filter(zC).bind(function(n){var r,o,i,a,u,c,s,f,l,d=n.container(),m=t,p=(u=d).data,g=M(u,0);return(!ch(p,0)||sh(m,g)?(f=(c=d).data,(l=Tt(s=f.split(""),function(h,v){return xi(h)&&0<v&&v<s.length-1&&Nc(s[v-1])&&Nc(s[v+1])?" ":h}).join(""))!==f&&(c.data=l,1)):(u.data=" "+p.slice(1),1))||(r=t,i=(o=d).data,a=M(o,i.length-1),ch(i,i.length-1)&&!sh(r,a)&&(o.data=i.slice(0,-1)+" ",1))?N.some(n):N.none()})}(e,M.fromRangeStart(t.selection.getRng())).each(function(n){t.selection.setRng(n.toRange())})}function fh(t,e,n){var r,o,i,a,u,c,s,f;0!==n&&(o=ti(r=P.fromDom(t),ln).getOr(r),i=t.data.slice(e,e+n),a=e+n>=t.data.length&&Ja(o,M(t,t.data.length)),u=0===e&&Ga(o,M(t,0)),t.replaceData(e,n,(s=u,f=a,We(c=i,function(l,d){return wo(d)||xi(d)?l.previousCharIsSpace||""===l.str&&s||l.str.length===c.length-1&&f?{previousCharIsSpace:!1,str:l.str+xe}:{previousCharIsSpace:!0,str:l.str+" "}:{previousCharIsSpace:!1,str:l.str+d}},{previousCharIsSpace:!1,str:""}).str)))}function Qa(t,e){var n=t.data.slice(e);fh(t,e,n.length-ky(n).length)}function fl(t,e){var n=t.data.slice(0,e),r=n.length-dd(n).length;fh(t,e-r,r)}function dl(t,e,n,r){void 0===r&&(r=!0);var o=dd(t.data).length,i=r?t:e,a=r?e:t;return r?i.appendData(a.data):i.insertData(0,a.data),Jt(P.fromDom(a)),n&&Qa(i,o),i}function jC(t,e){return r=t,o=(n=e).container(),i=n.offset(),!1===M.isTextPosition(n)&&o===r.parentNode&&i>M.before(r).offset()?M(e.container(),e.offset()-1):e;var n,r,o,i}function dh(t){return cn(t.previousSibling)?N.some(ot(e=t.previousSibling)?M(e,e.data.length):M.after(e)):t.previousSibling?yn(t.previousSibling):N.none();var e}function mh(t){return cn(t.nextSibling)?N.some(ot(e=t.nextSibling)?M(e,0):M.before(e)):t.nextSibling?de(t.nextSibling):N.none();var e}function VC(t,e){return dh(e).orThunk(function(){return mh(e)}).orThunk(function(){return n=t,o=M.before((r=e).previousSibling||r.parentNode),bn(n,o).fold(function(){return en(n,M.after(r))},N.some);var n,r,o})}function qC(t,e){return mh(e).orThunk(function(){return dh(e)}).orThunk(function(){return en(n=t,M.after(r=e)).fold(function(){return bn(n,M.before(r))},N.some);var n,r})}function gh(t,e,n){n.fold(function(){t.focus()},function(r){t.selection.setRng(r.toRange(),e)})}function $C(t,e){return e&&vt(t.schema.getBlockElements(),jt(e))}function WC(t){if($t(t)){var e=P.fromHtml('<br data-mce-bogus="1">');return vs(t),Zt(t,e),N.some(M.before(e.dom))}return N.none()}function Br(t,e,n,r){void 0===r&&(r=!0);var o,i,a,u,c,s,f,l,d,m,p,v,b=(e?qC:VC)(t.getBody(),v=n.dom).map(et(jC,v)),y=ti(n,et($C,t),(o=t.getBody(),function(k){return k.dom===o})),S=(u=b,i=a=n,c=vt(t.schema.getTextInlineElements(),jt(i)),m=hr(a).filter(Ue),p=Ko(a).filter(Ue),Jt(a),f=p,l=u,d=function(k,C,x){var E=k.dom,A=C.dom,B=E.data.length;return dl(E,A,c),x.container()===A?M(E,B):x},((s=m).isSome()&&f.isSome()&&l.isSome()?N.some(d(s.getOrDie(),f.getOrDie(),l.getOrDie())):N.none()).orThunk(function(){return c&&(m.each(function(k){return fl(k.dom,k.dom.length)}),p.each(function(k){return Qa(k.dom,0)})),u}));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):y.bind(WC).fold(function(){r&&gh(t,e,S)},function(k){r&&gh(t,e,N.some(k))})}function ml(t){return be(t,"td,th")}function gl(t,e){return{start:t,end:e}}function Za(t,e){return ks(P.fromDom(t),"td,th",e)}function ph(t){return!kt(t.start,t.end)}function hh(t,e){return yi(t.start,e).bind(function(n){return yi(t.end,e).bind(function(r){return kt(n,r)?N.some(n):N.none()})})}function pl(t){return function(e){return hh(e,t).map(function(n){return{rng:e,table:n,cells:ml(n)}})}}function vh(t,e,n,r){if(n.collapsed||!t.forall(ph))return N.none();if(e.isSameTable){var o=t.bind(pl(r));return N.some({start:o,end:o})}var i,a,u=Za(n.startContainer,r),c=Za(n.endContainer,r),s=u.bind((a=r,function(l){return yi(l,a).bind(function(d){return mr(ml(d)).map(function(m){return gl(l,m)})})})).bind(pl(r)),f=c.bind((i=r,function(l){return yi(l,i).bind(function(d){return ke(ml(d)).map(function(m){return gl(m,l)})})})).bind(pl(r));return N.some({start:s,end:f})}function bh(t,e){return Hi(t,function(n){return kt(n,e)})}function hl(t){return ve(bh(t.cells,t.rng.start),bh(t.cells,t.rng.end),function(e,n){return t.cells.slice(e,n+1)})}function yh(t,e){var n=e.startTable,r=e.endTable,o=t.cloneRange();return n.each(function(i){return o.setStartAfter(i.dom)}),r.each(function(i){return o.setEndBefore(i.dom)}),o}function Ch(t){return rt(t,function(e){zn(e,"contenteditable"),Or(e)}),0}function vl(t,e,n,r){var o=n.cloneRange();r?(o.setStart(n.startContainer,n.startOffset),o.setEndAfter(e.dom.lastChild)):(o.setStartBefore(e.dom.firstChild),o.setEnd(n.endContainer,n.endOffset)),Tl(t,o,e,!1)}function xh(t){var e=No(t),n=P.fromDom(t.selection.getNode());Zi(n.dom)&&$t(n)?t.selection.setCursorLocation(n.dom,0):t.selection.collapse(!0),1<e.length&&he(e,function(r){return kt(r,n)})&&un(n,"data-mce-selected","1")}function wh(t,e,n){var r=t.selection.getRng();return Ch(n.bind(function(o){var a,u,c=o.rng,s=o.isStartInTable,f=N.from(t.dom.getParent(s?c.endContainer:c.startContainer,t.dom.isBlock)).map(P.fromDom);c.deleteContents(),a=t,u=s,f.filter($t).each(function(d){u?Jt(d):(Or(d),a.selection.setCursorLocation(d.dom,0))});var l=s?e[0]:e[e.length-1];return vl(t,l,r,s),$t(l)?N.none():N.some(s?e.slice(1):e.slice(0,-1))}).getOr(e)),xh(t),!0}function XC(t,e,n,r){var o=t.selection.getRng(),i=e[0],a=n[n.length-1];vl(t,i,o,!0),vl(t,a,o,!1);var u=$t(i)?e:e.slice(1),c=$t(a)?n:n.slice(0,-1);return Ch(u.concat(c)),r.deleteContents(),xh(t),!0}function YC(t,e){return Br(t,!1,e),!0}function Sh(t,e){return Gt(Tn(e,t),aa)}function Eh(t,e){return(t?Ih:Mh)(e)}function tu(t,e){var n,r,o,i,a,u,c,s,f=P.fromDom(t.selection.getStart(!0)),l=No(t);return t.selection.isCollapsed()&&0===l.length?function(t,e,n){var r=P.fromDom(t.getBody());return Ol(r,n).fold(function(){return i=e,a=r,u=n,c=M.fromRangeStart((o=t).selection.getRng()),Sh(a,u).bind(function(d){return $t(d)?eu(o,d):(m=a,p=d,g=c,Oa(i,o.getBody(),g).bind(function(h){return Sh(m,P.fromDom(h.getNode())).map(function(v){return!1===kt(v,p)})}));var m,p,g}).getOr(!1)||(f=e,l=M.fromRangeStart((s=t).selection.getRng()),Eh(f,l)||Oe(f,s.getBody(),l).exists(function(d){return Eh(f,d)}));var o,i,a,u,c,s,f,l},function(o){return l=e,d=r,m=o,p=M.fromRangeStart((f=t).selection.getRng()),($t(m)?eu(f,m):(a=d,c=m,s=p,Oa(u=l,(i=f).getBody(),s).bind(function(g){return b=u,y=s,S=g,de((v=c).dom).bind(function(k){return yn(v.dom).map(function(C){return b?y.isEqual(k)&&S.isEqual(C):y.isEqual(C)&&S.isEqual(k)})}).getOr(!0)?eu(i,c):(h=c,Ol(a,P.fromDom(g.getNode())).map(function(k){return!1===kt(k,h)}));var h,v,b,y,S}).or(N.some(!0)))).getOr(!1);var i,a,u,c,s,f,l,d,m,p})}(t,e,f):(r=f,o=l,i=P.fromDom((n=t).getBody()),a=n.selection.getRng(),0!==o.length?wh(n,o,N.none()):(u=n,s=a,Ol(c=i,r).fold(function(){return d=u,function(t,e){var n,r,o,i,a,u,c,s,f,l,d,m,p,g,h,v,b=(n=t,function(C){return kt(n,C)}),y=ve(Za((r=e).startContainer,o=b),Za(r.endContainer,o),gl),S=(f=b,l=k((s=e).startContainer),d=k(s.endContainer),m=l.isSome(),p=d.isSome(),{startTable:l,endTable:d,isStartInTable:m,isEndInTable:p,isSameTable:g=ve(l,d,kt).getOr(!1),isMultiTable:!g&&m&&p});function k(C){return yi(P.fromDom(C),f)}return h=e,v=b,y.exists(function(C){return!ph(x=C)&&hh(x,v).exists(function(E){var A=E.dom.rows;return 1===A.length&&1===A[0].cells.length})&&Oc(C.start,h);var x})?y.map(function(C){return Ni.singleCellTable(e,C.start)}):S.isMultiTable?vh(y,u=S,c=e,b).bind(function(C){var E=C.end,A=C.start.bind(hl).getOr([]),B=E.bind(hl).getOr([]);if(0<A.length&&0<B.length){var L=yh(c,u);return N.some(Ni.multiTable(A,B,L))}return N.none()}):vh(y,i=S,a=e,b).bind(function(C){return C.start.or(C.end)}).bind(function(C){var x=i.isSameTable,E=hl(C).getOr([]);if(x&&C.cells.length===E.length)return N.some(Ni.fullTable(C.table));if(0<E.length){if(x)return N.some(Ni.partialTable(E,N.none()));var A=yh(a,i);return N.some(Ni.partialTable(E,N.some(ft(ft({},i),{rng:A}))))}return N.none()})}(c,s).map(function(m){return m.fold(et(Tl,d),et(YC,d),et(wh,d),et(XC,d))});var d},function(d){return eu(u,d)}).getOr(!1)))}function bl(t){return t.collapsed?t:(n=M.fromRangeStart(e=t),r=M.fromRangeEnd(e),Oe(!1,o=e.commonAncestorContainer,r).map(function(i){return!gn(n,r,o)&&gn(n,i,o)?(a=n.container(),u=n.offset(),c=i.container(),s=i.offset(),(f=document.createRange()).setStart(a,u),f.setEnd(c,s),f):e;var a,u,c,s,f}).getOr(e));var e,n,r,o}function yl(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null}function Nh(t,e){var n=M.after(t),r=tn(e).prev(n);return r?r.toRange():null}function tx(t,e,n){var r,o,i,a,u=t.selection,c=t.dom;/^ | $/.test(e)&&(r=c,o=u.getRng(),i=e,i=Ga(a=P.fromDom(r.getRoot()),M.fromRangeStart(o))?i.replace(/^ /,"&nbsp;"):i.replace(/^&nbsp;/," "),e=i=Ja(a,M.fromRangeEnd(o))?i.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):i.replace(/&nbsp;(<br( \/)?>)?$/," "));var s=t.parser,f=n.merge,l=Do({validate:t.getParam("validate")},t.schema),d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',m=t.fire("BeforeSetContent",{content:e,format:"html",selection:!0,paste:n.paste});if(m.isDefaultPrevented())t.fire("SetContent",{content:m.content,format:"html",selection:!0,paste:n.paste});else{-1===(e=m.content).indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,d);var p,g,h=(p=u.getRng()).startContainer||(p.parentElement?p.parentElement():null),v=t.getBody();h===v&&u.isCollapsed()&&c.isBlock(v.firstChild)&&(g=v.firstChild)&&!t.schema.getShortEndedElements()[g.nodeName]&&c.isEmpty(v.firstChild)&&((p=c.createRng()).setStart(v.firstChild,0),p.setEnd(v.firstChild,0),u.setRng(p)),u.isCollapsed()||function(Q){var W=Q.dom,it=bl(Q.selection.getRng());Q.selection.setRng(it);var V,G=W.getParent(it.startContainer,Bl),K=it;null!==(V=G)&&V===W.getParent(K.endContainer,Bl)&&Oc(P.fromDom(V),K)?Tl(Q,it,P.fromDom(G)):Q.getDoc().execCommand("Delete",!1,null)}(t);var b,y,S,k,x,E,A,B,L,_,T,R,O,I={context:(U=u.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0},$=s.parse(e,I);if(!0===n.paste&&function(t,e){var n,r,o,i,a,u=e.firstChild,c=e.lastChild;return u&&"meta"===u.name&&(u=u.next),r=c=c&&"mce_marker"===c.attr("id")?c.prev:c,o=(n=t).getNonEmptyElements(),r&&(r.isEmpty(o)||(i=r,n.getBlockElements()[i.name]&&i.firstChild&&i.firstChild===i.lastChild&&("br"===(a=i.firstChild).name||a.value===xe)))&&(c=c.prev),u&&u===c&&("ul"===u.name||"ol"===u.name)}(t.schema,$)&&yl(c,U))return p=function(t,e,n,r){function o(I){var $=M.fromRangeStart(n),X=tn(e.getRoot()),F=1===I?X.prev($):X.next($);return!F||yl(e,F.getNode())!==T}var i,a,u,c,s,f,l,d,m,p,g,h,v,b,y,S,k,C,x,E,A,B,L,_=(i=e,s=t.serialize(r),u=(a=i.createFragment(s)).firstChild,c=a.lastChild,u&&"META"===u.nodeName&&u.parentNode.removeChild(u),c&&"mce_marker"===c.id&&c.parentNode.removeChild(c),a),T=yl(e,n.startContainer),R=function(t){return 0<t.length&&(!(r=t[t.length-1]).firstChild||(e=r)&&e.firstChild&&e.firstChild===e.lastChild&&((n=e.firstChild).data===xe||It(n)))?t.slice(0,-1):t;var e,n,r}(ht(_.firstChild.childNodes,function(I){return"LI"===I.nodeName})),O=e.getRoot();return o(1)?(x=O,L=(C=T).parentNode,H.each(R,function(I){L.insertBefore(I,C)}),E=x,A=M.before(C),(B=tn(E).next(A))?B.toRange():null):o(2)?(f=T,d=O,e.insertAfter((l=R).reverse(),f),Nh(l[0],d)):(p=R,g=O,h=m=T,b=(v=n).cloneRange(),y=v.cloneRange(),b.setStartBefore(h),y.setEndAfter(h),S=[b.cloneContents(),y.cloneContents()],(k=m.parentNode).insertBefore(S[0],m),H.each(p,function(I){k.insertBefore(I,m)}),k.insertBefore(S[1],m),k.removeChild(m),Nh(p[p.length-1],g))}(l,c,u.getRng(),$),u.setRng(p),void t.fire("SetContent",m);if(function(){for(var Q=$;Q=Q.walk();)1===Q.type&&Q.attr("data-mce-fragment","1")}(),"mce_marker"===(F=$.lastChild).attr("id"))for(var X=F,F=F.prev;F;F=F.walk(!0))if(3===F.type||!c.isBlock(F.name)){t.schema.isValidChild(F.parent.name,"span")&&F.parent.insert(X,F,"br"===F.name);break}if(t._selectionOverrides.showBlockCaretContainer(U),I.invalid){t.selection.setContent(d);var U=u.getNode(),J=t.getBody();for(9===U.nodeType?U=F=J:F=U;F!==J;)F=(U=F).parentNode;e=U===J?J.innerHTML:c.getOuterHTML(U),e=l.serialize(s.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return l.serialize($)}))),U===J?c.setHTML(J,e):c.setOuterHTML(U,e)}else b=t,y=e=l.serialize($),"all"===(S=U).getAttribute("data-mce-bogus")?S.parentNode.insertBefore(b.dom.createFragment(y),S):!(k=S.firstChild)||k===S.lastChild&&"BR"===k.nodeName?b.dom.setHTML(S,y):b.selection.setContent(y);E=f,L=(x=t).schema.getTextInlineElements(),_=x.dom,E&&(A=x.getBody(),B=Kp(_),H.each(_.select("*[data-mce-fragment]"),function(Q){if(Rt(L[Q.nodeName.toLowerCase()])&&jo(al(_,Q),function(it){return!Gp.has(it)}))for(var W=Q.parentNode;Rt(W)&&W!==A&&!function(it,V,G){function K(yt){var w=it.getStyle(V,yt),D=it.getStyle(G,yt);return qi(w)&&qi(D)&&w!==D}var Z=al(it,V),tt=al(it,G);return he(Z,function(yt){function w(z){return he(z,function(j){return j===yt})}if(w(tt)||!w(Lh))return K(yt);var D=ht(tt,function(z){return he(Lh,function(j){return pr(z,j)})});return he(D,K)})}(_,Q,W);W=W.parentNode)if(B.compare(W,Q)){_.remove(Q,!0);break}})),function(Q,W){var it,V=Q.dom,G=Q.selection;if(W){G.scrollIntoView(W);var K=Ro(Q.getBody(),W);if("false"===V.getContentEditable(K))return V.remove(W),G.select(K);var Z,tt=V.createRng(),yt=W.previousSibling;ot(yt)?(tt.setStart(yt,yt.nodeValue.length),dt.ie||ot(Z=W.nextSibling)&&(yt.appendData(Z.data),Z.parentNode.removeChild(Z))):(tt.setStartBefore(W),tt.setEndBefore(W));var w=V.getParent(W,V.isBlock);V.remove(W),w&&V.isEmpty(w)&&(Q.$(w).empty(),tt.setStart(w,0),tt.setEnd(w,0),Bl(w)||w.getAttribute("data-mce-fragment")||!(it=function(D){var z=M.fromRangeStart(D);if(z=tn(Q.getBody()).next(z))return z.toRange()}(tt))?V.add(w,V.create("br",{"data-mce-bogus":"1"})):(tt=it,V.remove(w))),G.setRng(tt)}}(t,c.get("mce_marker")),T=t.getBody(),H.each(T.getElementsByTagName("*"),function(Q){Q.removeAttribute("data-mce-fragment")}),R=c,O=u.getStart(),N.from(R.getParent(O,"td,th")).map(P.fromDom).each(FC),t.fire("SetContent",m),t.addVisual()}}function Cl(t){return t instanceof Ve}function xl(t,e,n){var r;t.dom.setHTML(t.getBody(),e),!0!==n&&Tr(r=t)&&de(r.getBody()).each(function(o){var i=o.getNode(),a=to(i)?de(i).getOr(o):o;r.selection.setRng(a.toRange())})}function kh(t){return Ot(t)?t:Dt}function wl(t,e,n){var r=e(t),o=kh(n);return r.orThunk(function(){return o(t)?N.none():function(i){for(var a=t.dom,u=kh(o);a.parentNode;){var c=P.fromDom(a=a.parentNode),s=i(c);if(s.isSome())return s;if(u(c))break}return N.none()}(e)})}function _h(t,e,n){var r=t.formatter.get(n);if(r)for(var o=0;o<r.length;o++){var i=r[o];if(Se(i)&&!1===i.inherit&&t.dom.is(e,i.selector))return 1}}function Sl(t,e,n,r,o){var i=t.dom.getRoot();return e!==i&&(e=t.dom.getParent(e,function(a){return!!_h(t,a,n)||a.parentNode===i||!!Cn(t,a,n,r,!0)}),!!Cn(t,e,n,r,o))}function Rh(t,e,n){return!!Ll(e,n.inline)||!!Ll(e,n.block)||(n.selector?1===e.nodeType&&t.is(e,n.selector):void 0)}function Dh(t,e,n,r,o,i){var a=n[r];if(Ot(n.onmatch))return n.onmatch(e,n,r);if(a)if(Ce(a.length)){for(var u in a)if(vt(a,u)){var c="attributes"===r?t.getAttrib(e,u):Pa(t,e,u),s=An(a[u],i),f=rn(c)||od(c);if((!f||!rn(s))&&(o&&f&&!n.exact||(!o||n.exact)&&!Ll(c,Dc(t,s,u))))return}}else for(var l=0;l<a.length;l++)if("attributes"===r?t.getAttrib(e,a[l]):Pa(t,e,a[l]))return 1;return 1}function El(t,e,n,r,o){if(r)return Sl(t,r,e,n,o);if(r=t.selection.getNode(),Sl(t,r,e,n,o))return!0;var i=t.selection.getStart();return!(i===r||!Sl(t,i,e,n,o))}function Ah(t){return 0<function(e){for(var n=[];e;){if(3===e.nodeType&&e.nodeValue!==Oo||1<e.childNodes.length)return[];1===e.nodeType&&n.push(e),e=e.firstChild}return n}(t).length}function Th(t){if(t){var e=new qt(t,t);for(t=e.current();t;t=e.next())if(ot(t))return t}return null}function Nl(t){var e=P.fromTag("span");return Un(e,{id:zh,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&Zt(e,P.fromText(Oo)),e}function kl(t,e,n){void 0===n&&(n=!0);var r,o,i,a,u,c,s,f,l=t.dom,d=t.selection;Ah(e)?Br(t,!1,P.fromDom(e),n):(r=d.getRng(),o=l.getParent(e,l.isBlock),i=r.startContainer,a=r.startOffset,u=r.endContainer,c=r.endOffset,(f=Th(e))&&f.nodeValue.charAt(0)===Oo&&f.deleteData(0,1),s=f,l.remove(e,!0),i===s&&0<a&&r.setStart(s,a-1),u===s&&0<c&&r.setEnd(s,c-1),o&&l.isEmpty(o)&&Or(P.fromDom(o)),d.setRng(r))}function _l(t,e,n){void 0===n&&(n=!0);var r=t.dom,o=t.selection;if(e)kl(t,e,n);else if(!(e=Ar(t.getBody(),o.getStart())))for(;e=r.get(zh);)kl(t,e,!1)}function Oh(t,e){return t.appendChild(e),e}function Bh(t,e){var n=Xf(t,function(r,o){return Oh(r,o.cloneNode(!1))},e);return Oh(n,n.ownerDocument.createTextNode(Oo))}function ox(t,e){var n=t.schema.getTextInlineElements();return vt(n,jt(e))&&!pn(e.dom)&&!vr(e.dom)}rt(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],function(t){Gp.add(t)});var Ph,Lh=["font","text-decoration","text-emphasis"],Rl=et(Jp,!0,wo),Dl=et(Jp,!1,wo),ix=rr(!0,Qp),ax=rr(!1,Qp),Ao=rr(!0,He),To=rr(!1,He),Ih=rr(!0,to),Mh=rr(!1,to),or=rr(!0,Zp),ir=rr(!1,Zp),Al=et(rh,!1),Fh=et(rh,!0),ux=et(nh,!1),sx=et(nh,!0),cx=et(Ya,!1),lx=et(Ya,!0),Ni=Hn([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Uh=function(t){var e;return(8===wd(e=t)||"#comment"===jt(e)?hr:ps)(t).bind(Uh).orThunk(function(){return N.some(t)})},Tl=function(t,e,n,r){void 0===r&&(r=!0),e.deleteContents();var o,i=Uh(n).getOr(n),a=P.fromDom(t.dom.getParent(i.dom,t.dom.isBlock));return $t(a)&&(Or(a),r&&t.selection.setCursorLocation(a.dom,0)),kt(n,a)||rt((Ji(Ke(a),n)?[]:Ke(o=a).map(ze).map(function(u){return ht(u,function(c){return!kt(o,c)})}).getOr([])).concat(ze(n)),function(u){kt(u,a)||Fn(u,a)||!$t(u)||Jt(u)}),!0},Ol=function(t,e){return Gt(Tn(e,t),function(n){return Ye(n)&&"caption"===jt(n)})},eu=function(t,e){return Or(e),t.selection.setCursorLocation(e.dom,0),N.some(!0)},Bl=Zi,Pl=function(t,e){e(t),t.firstChild&&Pl(t.firstChild,e),t.next&&Pl(t.next,e)},Ll=Rc,Cn=function(t,e,n,r,o){var i=t.formatter.get(n),a=t.dom;if(i&&e)for(var u=0;u<i.length;u++){var c=i[u];if(Rh(t.dom,e,c)&&Dh(a,e,c,"attributes",o,r)&&Dh(a,e,c,"styles",o,r)){var s=c.classes;if(s)for(var f=0;f<s.length;f++)if(!t.dom.hasClass(e,An(s[f],r)))return;return c}}},Oo=ne,zh="_mce_caret",nu={},Hh=Gr,jh=qo;function Il(t){return ct(t)&&!Te(t)&&!pn(t)&&!vr(t)}function Vh(t,e){for(var n=t;n;n=n[e]){if(ot(n)&&qi(n.data))return t;if(ct(n)&&!Te(n))return n}return t}function qh(t,e,n){var r=Kp(t);if(e&&n&&(e=Vh(e,"previousSibling"),n=Vh(n,"nextSibling"),r.compare(e,n))){for(var o=e.nextSibling;o&&o!==n;){var i=o;o=o.nextSibling,e.appendChild(i)}return t.remove(n),H.each(H.grep(n.childNodes),function(a){e.appendChild(a)}),e}return n}function $h(t,e,n,r){var o;r&&!1!==e.merge_siblings&&(o=qh(t,kc(r),r),qh(t,o,kc(o,!0)))}function Wh(t,e){return function(n){return!(!n||!Pa(t,n,e))}}function Kh(t,e,n){return function(r){var o,i;t.setStyle(r,e,n),""===r.getAttribute("style")&&r.removeAttribute("style"),o=t,"SPAN"===(i=r).nodeName&&0===o.getAttribs(i).length&&o.remove(i,!0)}}function Xh(t,e,n){return t.isChildOf(e,n)&&e!==n&&!t.isBlock(n)}function Yh(t,e,n){var r,o=e[n?"startContainer":"endContainer"],i=e[n?"startOffset":"endOffset"];return ct(o)&&(!n&&i&&i--,o=o.childNodes[(r=o.childNodes.length-1)<i?r:i]),ot(o)&&n&&i>=o.nodeValue.length&&(o=new qt(o,t.getBody()).next()||o),ot(o)&&!n&&0===i&&new qt(o,t.getBody()).prev()||o}function Gh(t,e){var n=e?"firstChild":"lastChild";if(/^(TR|TH|TD)$/.test(t.nodeName)&&t[n]){var r=t[n];return"TR"===t.nodeName&&r[n]||r}return t}function Ml(t,e,n,r){var o=t.create(n,r);return e.parentNode.insertBefore(o,e),o.appendChild(e),o}function Jh(t,e,n,r,o){var i=P.fromDom(e),a=P.fromDom(t.create(r,o));return Ki(a,(n?kd:Nd)(i)),n?(Xe(i,a),Ad(a,i)):(Xo(i,a),Zt(a,i)),a.dom}function ru(t,e,n,r){var o=kc(e,n,r);return rn(o)||"BR"===o.nodeName||t.isBlock(o)}function Qh(t,e,n,r,o){var i,a,u=t.dom,c=u,s=r;if(!(Xt(a=e)&&Po(s,a.inline)||hn(a)&&Po(s,a.block)||Se(a)&&ct(s)&&c.is(s,a.selector)||e.links&&"A"===r.nodeName))return ki.keep();var f,l,d,m,p,g,h,v,b=r;if(Xt(e)&&"all"===e.remove&&Ie(e.preserve_attributes)){var y=ht(u.getAttribs(b),function(x){return Yt(e.preserve_attributes,x.name.toLowerCase())});if(u.removeAllAttribs(b),rt(y,function(x){return u.setAttrib(b,x.name,x.value)}),0<y.length)return ki.rename("span")}if("all"!==e.remove){Kl(e.styles,function(x,E){x=Dc(u,An(x,n),E+""),Kr(E)&&(E=x,o=null),!e.remove_similar&&o&&!Po(Pa(u,o,E),x)||u.setStyle(b,E,""),i=!0}),i&&""===u.getAttrib(b,"style")&&(b.removeAttribute("style"),b.removeAttribute("data-mce-style")),Kl(e.attributes,function(x,E){var A;if(x=An(x,n),Kr(E)&&(E=x,o=null),e.remove_similar||!o||Po(u.getAttrib(o,E),x))if("class"===E&&(x=u.getAttrib(b,E))&&(A="",rt(x.split(/\s+/),function(B){/mce\-\w+/.test(B)&&(A+=(A?" ":"")+B)}),A))u.setAttrib(b,E,A);else{if(Cx.test(E)&&b.removeAttribute("data-mce-"+E),"style"===E&&Fe(["li"])(b)&&"none"===u.getStyle(b,"list-style-type"))return b.removeAttribute(E),void u.setStyle(b,"list-style-type","none");"class"===E&&b.removeAttribute("className"),b.removeAttribute(E)}}),Kl(e.classes,function(x){x=An(x,n),o&&!u.hasClass(o,x)||u.removeClass(b,x)});for(var S=u.getAttribs(b),k=0;k<S.length;k++){var C=S[k].nodeName;if(0!==C.indexOf("_")&&0!==C.indexOf("data-"))return ki.keep()}}return"none"!==e.remove?(d=e,g=(l=b).parentNode,h=(f=t).dom,v=oe(f),hn(d)&&(v?g===h.getRoot()&&(d.list_block&&Po(l,d.list_block)||rt(on(l.childNodes),function(x){So(f,v,x.nodeName.toLowerCase())?m?m.appendChild(x):(m=Ml(h,x,v),h.setAttribs(m,f.settings.forced_root_block_attrs)):m=null})):h.isBlock(l)&&!h.isBlock(g)&&(ru(h,l,!1)||ru(h,l.firstChild,!0,!0)||l.insertBefore(h.create("br"),l.firstChild),ru(h,l,!0)||ru(h,l.lastChild,!1,!0)||l.appendChild(h.create("br")))),Se(p=d)&&Xt(p)&&Ji(Ht(p,"mixed"),!0)&&!Po(d.inline,l)||h.remove(l,!0),ki.removed()):ki.keep()}function Bo(t,e,n,r,o){return Qh(t,e,n,r,o).fold(Dt,function(i){return t.dom.rename(r,i),!0},zt)}function Zh(t,e,n,r,o){function i(v){var b,y,S,k,C,x=(y=e,S=n,k=o,rt(La((b=t).dom,v.parentNode).reverse(),function(E){var A;C||"_start"===E.id||"_end"===E.id||(A=Cn(b,E,y,S,k))&&!1!==A.split&&(C=E)}),C);return function(E,A,B,L,_,T,R,O){var I,$,X=E.dom;if(B){for(var F=B.parentNode,U=L.parentNode;U&&U!==F;U=U.parentNode){for(var J=X.clone(U,!1),Q=0;Q<A.length&&null!==(J=function(W,it,V){return Qh(W,it,O,V,V).fold(nt(V),function(G){return W.dom.createFragment().appendChild(V),W.dom.rename(V,G)},nt(null))}(E,A[Q],J));Q++);J&&(I&&J.appendChild(I),$=$||J,I=J)}R.mixed&&X.isBlock(B)||(L=X.split(B,L)),I&&(_.parentNode.insertBefore(I,_),$.appendChild(_),Xt(R)&&$h(X,R,0,I))}return L}(t,f,x,v,v,0,l,n)}function a(v){return he(f,function(b){return Bo(t,b,n,v,v)})}function u(v){var b,y=m.get(v?"_start":"_end"),S=y[v?"firstChild":"lastChild"];return Te(b=S)&&ct(b)&&("_start"===b.id||"_end"===b.id)&&(S=S[v?"firstChild":"lastChild"]),ot(S)&&0===S.data.length&&(S=v?y.previousSibling||y.nextSibling:y.nextSibling||y.previousSibling),m.remove(y,!0),S}function c(v){var b=Eo(t,v,f,v.collapsed);if(l.split){if(b=ja(b),(S=Yh(t,b,!0))!==(k=Yh(t,b))){if(S=Gh(S,!0),k=Gh(k,!1),Xh(m,S,k)){var y=N.from(S.firstChild).getOr(S);return i(Jh(m,y,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void u(!0)}if(Xh(m,k,S))return y=N.from(k.lastChild).getOr(k),i(Jh(m,y,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void u(!1);var S=Ml(m,S,"span",{id:"_start","data-mce-type":"bookmark"}),k=Ml(m,k,"span",{id:"_end","data-mce-type":"bookmark"}),C=m.createRng();C.setStartAfter(S),C.setEndBefore(k),bi(m,C,function(x){rt(x,function(E){Te(E)||Te(E.parentNode)||i(E)})}),i(S),i(k),S=u(!0),k=u()}else S=k=i(S);b.startContainer=S.parentNode||S,b.startOffset=m.nodeIndex(S),b.endContainer=k.parentNode||k,b.endOffset=m.nodeIndex(k)+1}bi(m,b,function(x){rt(x,g)})}var s,f=t.formatter.get(e),l=f[0],d=!0,m=t.dom,p=t.selection,g=function(v){var b=!0,y=!1;ct(v)&&m.getContentEditable(v)&&(b=d,d="true"===m.getContentEditable(v),y=!0);var S,k,C=on(v.childNodes);if(d&&!y&&(S=a(v),k=v.parentNode,!S&&Rt(k)&&Ac(l)&&a(k)),l.deep&&C.length){for(var x=0;x<C.length;x++)g(C[x]);y&&(d=b)}rt(["underline","line-through","overline"],function(E){ct(v)&&t.dom.getStyle(v,"text-decoration")===E&&v.parentNode&&Yg(m,v.parentNode)===E&&Bo(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:E}},null,v)})};if(r)return Ba(r)?((s=m.createRng()).setStartBefore(r),s.setEndAfter(r),c(s)):c(r),void jc(t,e,r,n);if("false"!==m.getContentEditable(p.getNode()))p.isCollapsed()&&Xt(l)&&!No(t).length?function(t,e,n,r){var o,i,a,u,c,s,f,l,d,m,p,g,h,v,b,y=t.dom,S=t.selection,k=[],C=S.getRng(),x=C.startContainer,A=x;for(3===x.nodeType&&(C.startOffset!==x.nodeValue.length&&(o=!0),A=A.parentNode);A;){if(Cn(t,A,e,n,r)){i=A;break}A.nextSibling&&(o=!0),k.push(A),A=A.parentNode}i&&(o?(a=S.getBookmark(),C.collapse(!0),u=ja(Eo(t,C,t.formatter.get(e),!0)),t.formatter.remove(e,n,u,r),S.moveToBookmark(a)):(c=Ar(t.getBody(),i),d=s=Nl(!1).dom,(g=(p=t.dom).getParent(m=null!==c?c:i,et(_c,t)))&&p.isEmpty(g)?m.parentNode.replaceChild(d,m):(v=be(h=P.fromDom(m),"br"),b=ht(function(){for(var B=[],L=h.dom;L;)B.push(P.fromDom(L)),L=L.lastChild;return B}().slice(-1),ro),v.length===b.length&&rt(b,Jt),p.isEmpty(m)?m.parentNode.replaceChild(d,m):p.insertAfter(d,m)),f=function(t,e,n,r,o,i){var a,u,c=t.formatter,s=t.dom,f=ht(Jr(c.get()),function(d){return d!==r&&!le(d,"removeformat")});if(0<ht((a=t,u=n,We(f,function(d,m){var p=function(t,e){return he(t.formatter.get(e),function(n){function r(o){return 1<o.length&&"%"===o.charAt(0)}return he(["styles","attributes"],function(o){return Ht(n,o).exists(function(i){var a,u;return he(Ie(i)?i:(a=pe,u=[],Bt(i,function(c,s){u.push(a(c,s))}),u),r)})})})}(a,m);return a.formatter.matchNode(u,m,{},p)?d.concat([m]):d},[])),function(d){return g=r,h=["inline","block","selector","attributes","styles","classes"],!he((p=t).formatter.get(d),function(v){var b=m(v);return he(p.formatter.get(g),function(y){var S,k=m(y),C=b,x=k;return zf(S=void 0===S?ts:S).eq(C,x)})});function m(v){return Vo(v,function(b,y){return he(h,function(S){return S===y})})}var p,g,h}).length){var l=n.cloneNode(!1);return s.add(e,l),c.remove(r,o,l,i),s.remove(l),N.some(l)}return N.none()}(t,s,i,e,n,r),l=Bh(k.concat(f.toArray()),s),kl(t,c,!1),S.setCursorLocation(l,1),y.isEmpty(i)&&y.remove(i)))}(t,e,n,o):(Lc(p,!0,function(){Pc(t,c)}),Xt(l)&&El(t,e,n,p.getStart())&&Xg(m,p,p.getRng()),t.nodeChanged()),jc(t,e,r,n);else{r=p.getNode();for(var h=0;h<f.length&&(!f[h].ceFalseOverride||!Bo(t,f[h],n,r,r));h++);jc(t,e,r,n)}}function fx(t){return ct(t)&&!Te(t)&&!pn(t)&&!vr(t)}function tv(t){return vt(t,"vars")}function ev(t,e,n,r,o){return Yf(e,function(i){var a=t.formatter.matchNode(i,n,null!=o?o:{},r);return!Ce(a)},function(i){return _h(t,i,n)||!r&&Rt(t.formatter.matchNode(i,n,o,!0))})}function nv(t,e){var n=null!=e?e:bv(t);return ht(La(t.dom,n),function(r){return ct(r)&&!vr(r)})}function Fl(t,e){var n=(e||document).createDocumentFragment();return rt(t,function(r){n.appendChild(r.dom)}),P.fromDom(n)}function Ul(t,e,n){return{element:t,width:e,rows:n}}function rv(t,e){return{element:t,cells:e}}function ov(t,e){var n=parseInt(Go(t,e),10);return isNaN(n)?1:n}function iv(t){return We(t,function(e,n){return n.cells.length>e?n.cells.length:e},0)}function av(t,e){for(var n=t.rows,r=0;r<n.length;r++)for(var o=n[r].cells,i=0;i<o.length;i++)if(kt(o[i],e))return N.some({x:i,y:r});return N.none()}function uv(t,e,n,r,o){for(var i=[],a=t.rows,u=n;u<=o;u++){var c=a[u].cells,s=e<r?c.slice(e,r+1):c.slice(r,e+1);i.push(rv(a[u].element,s))}return i}function sv(){return Fl([])}function ou(t,e){return 0<=e&&e<t.length&&wo(t.charAt(e))}function cv(t,e){var n=qn(t.innerText);return e?n.replace(/^[ \f\n\r\t\v]+/,""):n}function lv(t){return ct(t)?t.outerHTML:ot(t)?$n.encodeRaw(t.data,!1):zy(t)?"\x3c!--"+t.data+"--\x3e":""}function zl(t){var e,n=Xr((e=t.getBody(),ht(Tt(on(e.childNodes),lv),function(o){return 0<o.length})),function(o){var i=Wp(t.serializer,o);return 0<i.length?[i]:[]}),r=n.join("");return-1!==r.indexOf("</iframe>")?{type:"fragmented",fragments:n,content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:r,bookmark:null,beforeBookmark:null}}function Hl(t,e,n){var r,o,i,a,u,c,s,f,l,d,m,p=n?e.beforeBookmark:e.bookmark;function g(h,v,b,y){for(var S=h;S-v<y&&S<b&&a[S]===u[S-v];)++S;return{start:h,end:S,diag:v}}"fragmented"===e.type?(r=e.fragments,o=t.getBody(),i=Tt(on(o.childNodes),lv),function(t,e){var n=0;rt(t,function(r){var o,i,a,u,s,f,l;0===r[0]?n++:1===r[0]?(u=e,s=n,l=function(d){var m,p=document.createElement("div"),g=document.createDocumentFragment();for(d&&(p.innerHTML=d);m=p.firstChild;)g.appendChild(m);return g}(r[1]),u.hasChildNodes()&&s<u.childNodes.length?(f=u.childNodes[s]).parentNode.insertBefore(l,f):u.appendChild(l),n++):2===r[0]&&(i=n,(o=e).hasChildNodes()&&i<o.childNodes.length&&(a=o.childNodes[i]).parentNode.removeChild(a))})}((c=(a=i).length+(u=r).length+2,s=new Array(c),f=new Array(c),l=function(h,v,b,y,S){var k=d(h,v,b,y);if(null===k||k.start===v&&k.diag===v-y||k.end===h&&k.diag===h-b)for(var C=h,x=b;C<v||x<y;)C<v&&x<y&&a[C]===u[x]?(S.push([0,a[C]]),++C,++x):y-b<v-h?(S.push([2,a[C]]),++C):(S.push([1,u[x]]),++x);else{l(h,k.start,b,k.start-k.diag,S);for(var E=k.start;E<k.end;++E)S.push([0,a[E]]);l(k.end,v,k.end-k.diag,y,S)}},d=function(h,v,b,y){var S=v-h,k=y-b;if(0==S||0==k)return null;var C,x,E,A,B,L=S-k,_=k+S,T=(_%2==0?_:1+_)/2;for(s[1+T]=h,f[1+T]=v+1,C=0;C<=T;++C){for(x=-C;x<=C;x+=2){for(s[E=x+T]=x===-C||x!==C&&s[E-1]<s[E+1]?s[E+1]:s[E-1]+1,B=(A=s[E])-h+b-x;A<v&&B<y&&a[A]===u[B];)s[E]=++A,++B;if(L%2!=0&&L-C<=x&&x<=L+C&&f[E-L]<=s[E])return g(f[E-L],x+h-b,v,y)}for(x=L-C;x<=L+C;x+=2){for(f[E=x+T-L]=x===L-C||x!==L+C&&f[E+1]<=f[E-1]?f[E+1]-1:f[E-1],B=(A=f[E]-1)-h+b-x;h<=A&&b<=B&&a[A]===u[B];)f[E]=A--,B--;if(L%2==0&&-C<=x&&x<=C&&f[E]<=s[E+L])return g(f[E],x+h-b,v,y)}}},l(0,a.length,0,u.length,m=[]),m),o)):t.setContent(e.content,{format:"raw",no_selection:!Rt(p)||!Vg(p)||!p.isFakeCaret}),t.selection.moveToBookmark(p)}function jl(t){return"fragmented"===t.type?t.fragments.join(""):t.content}function fv(t){var e=P.fromTag("body",xx());return Um(e,jl(t)),rt(be(e,"*[data-mce-bogus]"),Td),e.dom.innerHTML}function iu(t,e){return!(!t||!e)&&(r=e,jl(t)===jl(r)||(n=e,fv(t)===fv(n)));var n,r}function Vl(t){return 0===t.get()}function au(t,e,n){Vl(n)&&(t.typing=e)}function dv(t,e){t.typing&&(au(t,!1,e),t.add())}function mv(t){return{undoManager:{beforeChange:function(e,n){var r=t,o=n;Vl(e)&&o.set(Bg(r.selection))},add:function(e,n,r,o,i,a){return function(u,c,s,f,l,d,m){var p=zl(u);if(d=H.extend(d=d||{},p),!1===Vl(f)||u.removed)return null;var g=c.data[s.get()];if(u.fire("BeforeAddUndo",{level:d,lastLevel:g,originalEvent:m}).isDefaultPrevented()||g&&iu(g,d))return null;c.data[s.get()]&&l.get().each(function(y){c.data[s.get()].beforeBookmark=y});var h=u.getParam("custom_undo_redo_levels",0,"number");if(h&&c.data.length>h){for(var v=0;v<c.data.length-1;v++)c.data[v]=c.data[v+1];c.data.length--,s.set(c.data.length)}d.bookmark=Bg(u.selection),s.get()<c.data.length-1&&(c.data.length=s.get()+1),c.data.push(d),s.set(c.data.length-1);var b={level:d,lastLevel:g,originalEvent:m};return 0<s.get()?(u.setDirty(!0),u.fire("AddUndo",b),u.fire("change",b)):u.fire("AddUndo",b),d}(t,e,n,r,o,i,a)},undo:function(e,n,r){return o=t,a=n,u=r,(i=e).typing&&(i.add(),i.typing=!1,au(i,!1,a)),0<u.get()&&(u.set(u.get()-1),Hl(o,c=i.data[u.get()],!0),o.setDirty(!0),o.fire("Undo",{level:c})),c;var o,i,a,u,c},redo:function(e,n){return r=t,i=n,(o=e).get()<i.length-1&&(o.set(o.get()+1),Hl(r,a=i[o.get()],!1),r.setDirty(!0),r.fire("Redo",{level:a})),a;var r,o,i,a},clear:function(e,n){var r,o=t,i=n;(r=e).data=[],i.set(0),r.typing=!1,o.fire("ClearUndos")},reset:function(e){var n;(n=e).clear(),n.add()},hasUndo:function(e,n){return r=t,o=e,0<n.get()||o.typing&&o.data[0]&&!iu(zl(r),o.data[0]);var r,o},hasRedo:function(e,n){return r=e,n.get()<r.data.length-1&&!r.typing;var r},transact:function(e,n,r){return i=r,dv(o=e,n),o.beforeChange(),o.ignore(i),o.add();var o,i},ignore:function(e,n){try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},extra:function(e,n,r,o){var i,a,u=t,c=n,s=o;(i=e).transact(r)&&(a=i.data[c.get()].bookmark,Hl(u,i.data[c.get()-1],!0),i.transact(s)&&(i.data[c.get()-1].beforeBookmark=a))}},formatter:{match:function(e,n,r,o){return El(t,e,n,r,o)},matchAll:function(e,n){return o=e,i=n,a=[],u={},c=(r=t).selection.getStart(),r.dom.getParent(c,function(s){for(var f=0;f<o.length;f++){var l=o[f];!u[l]&&Cn(r,s,l,i)&&(u[l]=!0,a.push(l))}},r.dom.getRoot()),a;var r,o,i,a,u,c},matchNode:function(e,n,r,o){return Cn(t,e,n,r,o)},canApply:function(e){return function(n){var r=n.formatter.get(e),o=n.dom;if(r)for(var i=La(o,n.selection.getStart()),a=r.length-1;0<=a;a--){var u=r[a];if(!Se(u)||Rt(u.defaultBlock))return!0;for(var c=i.length-1;0<=c;c--)if(o.is(i[c],u.selector))return!0}return!1}(t)},closest:function(e){return o=e,N.from((r=t).selection.getStart(!0)).bind(function(i){return wl(P.fromDom(i),function(a){return Jf(o,function(u){return Cn(r,a.dom,c=u)?N.some(c):N.none();var c})},n)}).getOrNull();function n(i){return kt(i,P.fromDom(r.getBody()))}var r,o},apply:function(e,n,r){return Xl(t,e,n,r)},remove:function(e,n,r,o){return Zh(t,e,n,r,o)},toggle:function(e,n,r){var o,i=e,a=n,u=r,c=(o=t).formatter.get(i);(!El(o,i,a,u)||"toggle"in c[0]&&!c[0].toggle?Xl:Zh)(o,i,a,u)},formatChanged:function(e,n,r,o,i){return function(t,e,n,r,o,i){var a,u,c,s,f,l,d,m,p;return null===e.get()&&(u=t,(a=e).set({}),u.on("NodeChange",function(g){yv(u,g.element,a.get())}),u.on("FormatApply FormatRemove",function(g){var h=N.from(g.node).map(function(v){return Ba(v)?v:v.startContainer}).bind(function(v){return ct(v)?N.some(v):N.from(v.parentElement)}).getOrThunk(function(){return bv(u)});yv(u,h,a.get())})),c=t,f=n,l=r,d=o,m=i,p=(s=e).get(),rt(f.split(","),function(g){function h(){var y=nv(c);return ev(c,y,g,d,m).isSome()}var v,b=Ht(p,g).getOrThunk(function(){var y={withSimilar:{state:ae(!1),similar:!0,callbacks:[]},withoutSimilar:{state:ae(!1),similar:!1,callbacks:[]},withVars:[]};return p[g]=y});Ce(m)?((v=d?b.withSimilar:b.withoutSimilar).callbacks.push(l),1===v.callbacks.length&&v.state.set(h())):b.withVars.push({state:ae(h()),similar:d,vars:m,callback:l})}),s.set(p),{unbind:function(){var g,h=n,v=r,b=(g=e).get();rt(h.split(","),function(y){return Ht(b,y).each(function(S){b[y]={withSimilar:ft(ft({},S.withSimilar),{callbacks:ht(S.withSimilar.callbacks,function(k){return k!==v})}),withoutSimilar:ft(ft({},S.withoutSimilar),{callbacks:ht(S.withoutSimilar.callbacks,function(k){return k!==v})}),withVars:ht(S.withVars,function(k){return k.callback!==v})}})}),g.set(b)}}}(t,e,n,r,o,i)}},editor:{getContent:function(e,n){return o=e,i=n,N.from((r=t).getBody()).fold(nt("tree"===o.format?new Ve("body",11):""),function(a){return u=r,s=a,f=i,g=ft(ft({},c=o),{format:f,get:!0,getInner:!0}),v="raw"===(h=c.no_events?g:u.fire("BeforeGetContent",g)).format?H.trim(LC(u.serializer,s.innerHTML)):"text"===h.format?u.dom.isEmpty(s)?"":qn(s.innerText||s.textContent):"tree"===h.format?u.serializer.serialize(s,h):(d=(l=u).serializer.serialize(s,h),m=oe(l),p=new RegExp("^(<"+m+"[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/"+m+">[\r\n]*|<br \\/>[\r\n]*)$"),d.replace(p,"")),h.content=Yt(["text","tree"],h.format)||ua(P.fromDom(s))?v:H.trim(v),(h.no_events?h:u.fire("GetContent",h)).content;var u,c,s,f,l,d,m,p,g,h,v});var r,o,i},setContent:function(e,n){return function(t,e,n){var r,o=(r=e,ft(ft({format:"html"},n),{set:!0,content:Cl(r)?"":r})),i=n.no_events?o:t.fire("BeforeSetContent",o);return Cl(e)||(e=i.content),N.from(t.getBody()).fold(nt(e),function(a){return Cl(e)?function(m,p,g,h){var v,b,y,S;v=m.parser.getNodeFilters(),b=m.parser.getAttributeFilters(),y=g,S=function(C,x){var E,A,B={},L={},_=[];for(E in y.firstChild&&Pl(y.firstChild,function(T){rt(C,function(R){R.name===T.name&&(B[R.name]?B[R.name].nodes.push(T):B[R.name]={filter:R,nodes:[T]})}),rt(x,function(R){"string"==typeof T.attr(R.name)&&(L[R.name]?L[R.name].nodes.push(T):L[R.name]={filter:R,nodes:[T]})})}),B)vt(B,E)&&_.push(B[E]);for(A in L)vt(L,A)&&_.push(L[A]);return _}(v,b),rt(S,function(C){rt(C.filter.callbacks,function(x){x(C.nodes,C.filter.name,{})})});var k=Do({validate:m.validate},m.schema).serialize(g);return h.content=ua(P.fromDom(p))?k:H.trim(k),xl(m,h.content,h.no_selection),h.no_events||m.fire("SetContent",h),g}(t,a,e,i):(u=t,c=a,f=i,0===(s=e).length||/^\s+$/.test(s)?(l='<br data-mce-bogus="1">',"TABLE"===c.nodeName?s="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(c.nodeName)&&(s="<li>"+l+"</li>"),s=(d=oe(u))&&u.schema.isValidChild(c.nodeName.toLowerCase(),d.toLowerCase())?(s=l,u.dom.createHTML(d,fi(u),s)):s||'<br data-mce-bogus="1">',xl(u,s,f.no_selection),u.fire("SetContent",f)):("raw"!==f.format&&(s=Do({validate:u.validate},u.schema).serialize(u.parser.parse(s,{isRootContent:!0,insert:!0}))),f.content=ua(P.fromDom(c))?s:H.trim(s),xl(u,f.content,f.no_selection),f.no_events||u.fire("SetContent",f)),f.content);var u,c,s,f,l,d})}(t,e,n)},insertContent:function(e,n){return tx(t,e,n)},addVisual:function(e){var n,r=e,o=(n=t).dom,i=Rt(r)?r:n.getBody();Ce(n.hasVisual)&&(n.hasVisual=n.getParam("visual",!0,"boolean")),rt(o.select("table,a",i),function(a){switch(a.nodeName){case"TABLE":var u=n.getParam("visual_table_class","mce-item-table","string"),c=o.getAttrib(a,"border");c&&"0"!==c||!n.hasVisual?o.removeClass(a,u):o.addClass(a,u);break;case"A":var s,f;o.getAttrib(a,"href")||(s=o.getAttrib(a,"name")||a.id,f=n.getParam("visual_anchor_class","mce-item-anchor","string"),s&&n.hasVisual?o.addClass(a,f):o.removeClass(a,f))}}),n.fire("VisualAid",{element:r,hasVisual:n.hasVisual})}},selection:{getContent:function(e,n){return function(r,o,i){var a,u=(a=o,ft(ft({},i=void 0===i?{}:i),{format:a,get:!0,selection:!0})),c=r.fire("BeforeGetContent",u);if(c.isDefaultPrevented())return r.fire("GetContent",c),c.content;if("text"===c.format)return N.from((h=r).selection.getRng()).map(function(b){var y=N.from(h.dom.getParent(b.commonAncestorContainer,h.dom.isBlock)),S=h.getBody(),k=y.map(function(_){return _.nodeName}).getOr("div").toLowerCase(),C=dt.browser.isIE()&&"pre"!==k,x=h.dom.add(S,k,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},b.cloneContents()),E=cv(x,C),A=qn(x.textContent);if(h.dom.remove(x),ou(A,0)||ou(A,A.length-1)){var B=cv(y.getOr(S),C),L=B.indexOf(E);return-1===L?E:(ou(B,L-1)?" ":"")+E+(ou(B,L+E.length)?" ":"")}return E}).getOr("");c.getInner=!0;var s,f,l,d,m,p,g,h,v=(f=c,l=(s=r).selection.getRng(),d=s.dom.create("body"),m=s.selection.getSel(),p=Zc(s,Tc(m)),(g=f.contextual?function(t,e){var n,r,o,i,a,u,c,s=np(e,t);return 0<s.length?function(t,e){return ea(e[0],"table",et(kt,t)).bind(function(n){var r,o,i=e[0],a=e[e.length-1],u=function(t){var e=Ul(ho(t),0,[]);return rt(be(t,"tr"),function(n,r){rt(be(n,"td,th"),function(o,i){!function(a,u,c,s,f){for(var l=ov(f,"rowspan"),d=ov(f,"colspan"),m=a.rows,p=c;p<c+l;p++){m[p]||(m[p]=rv(Hm(s),[]));for(var g=u;g<u+d;g++)m[p].cells[g]=p===c&&g===u?f:ho(f)}}(e,function(a,u,c){for(;((f=a.rows)[c]?f[c].cells:[])[u];)u++;var f;return u}(e,i,r),r,n,o)})}),Ul(e.element,iv(e.rows),e.rows)}(n);return o=a,av(r=u,i).bind(function(c){return av(r,o).map(function(s){return f=r,l=c.x,m=s.x,g=(d=c.y)<(p=s.y)?uv(f,l,d,m,p):uv(f,l,p,m,d),Ul(f.element,iv(g),g);var f,l,d,m,p,g})}).map(function(c){return Fl([(f=Tt((s=c).rows,function(m){var p=Tt(m.cells,function(h){var v=Hm(h);return zn(v,"colspan"),zn(v,"rowspan"),v}),g=ho(m.element);return Ki(g,p),g}),l=ho(s.element),Ki(d=P.fromTag("tbody"),f),Zt(l,d),l)]);var s,f,l,d})}).getOrThunk(sv)}(t,s):(n=t,0<(r=e).length&&r[0].collapsed?sv():(o=n,a=P.fromDom((i=r[0]).cloneContents()),c=We(u=function(t,e){var n,r,o,i=P.fromDom(e.commonAncestorContainer),a=Tn(i,t),u=ht(a,function(s){return As(s)||Wy(s)}),c=(o=e,Gt(r=a,function(s){return"li"===jt(s)&&Oc(s,o)}).fold(nt([]),function(s){return Gt(r,function(f){return"ul"===jt(f)||"ol"===jt(f)}).map(function(f){var l=P.fromTag(jt(f));return function(t,e){var n=t.dom;Bt(e,function(r,o){!function(i,a,u){if(!Ft(u))throw console.error("Invalid call to CSS.set. Property ",a,":: Value ",u,":: Element ",i),new Error("CSS value must be a string: "+u);Qi(i)&&i.style.setProperty(a,u)}(n,o,r)})}(l,Vo(zd(f),function(d,m){return pr(m,"list-style")})),[P.fromTag("li"),l]}).getOr([])}));return Tt(u.concat(c.length?c:ei(n=i)?Ke(n).filter(Us).fold(nt([]),function(s){return[n,s]}):Us(n)?[n]:[]),ho)}(o,i),function(f,l){return Zt(l,f),l},a),0<u.length?Fl([c]):c))}(P.fromDom(s.getBody()),p).dom:l.cloneContents())&&d.appendChild(g),s.selection.serializer.serialize(d,f));return"tree"===c.format?v:(c.content=r.selection.isCollapsed()?"":v,r.fire("GetContent",c),c.content)}(t,e,n)}},raw:{getModel:function(){return N.none()}}}}function On(t){return vt(t.plugins,"rtc")}function ql(t){return t.rtcInstance||mv(t)}function Ut(t){var e=t.rtcInstance;if(e)return e;throw new Error("Failed to get RTC instance not yet initialized.")}function gv(t){return 0===t.dom.length?(Jt(t),N.none()):N.some(t)}function pv(t,e,n,r){t.bind(function(o){return(r?fl:Qa)(o.dom,r?o.dom.length:0),e.filter(Ue).map(function(i){var a=n,u=r,c=o.dom,s=i.dom,f=(u?c:s).length;u?(dl(c,s,!1,!u),a.setStart(s,f)):(dl(s,c,!1,!u),a.setEnd(s,f))})}).orThunk(function(){var o=r;return e.filter(function(i){return Ci.isBookmarkNode(i.dom)}).bind(o?Ko:hr).or(e).filter(Ue).map(function(i){var a,u=r;Ke(a=i).each(function(c){var s=a.dom;u&&Ga(c,M(s,0))?Qa(s,0):!u&&Ja(c,M(s,s.length))&&fl(s,s.length)})})})}function hv(t,e,n){var r;t&&vt(t,e)&&(0===(r=ht(t[e],function(o){return o!==n})).length?delete t[e]:t[e]=r)}Ph=function(t){var e,n=t.selection.getRng(),r=Fe(["pre"]);n.collapsed||(e=t.selection.getSelectedBlocks(),jh(Hh(Hh(e,r),function(o){return r(o.previousSibling)&&-1!==td(e,o.previousSibling)}),function(o){var i,a=o.previousSibling;mt(i=o).remove(),mt(a).append("<br><br>").append(i.childNodes)}))},nu.pre||(nu.pre=[]),nu.pre.push(Ph);var $l=H.each,Wl=function(t,e,n){$l(t.childNodes,function(r){Il(r)&&(e(r)&&n(r),r.hasChildNodes()&&Wl(r,e,n))})},ki=Hn([{keep:[]},{rename:["name"]},{removed:[]}]),Cx=/^(src|href|style)$/,Kl=H.each,Po=Rc,vv=H.each,uu=H.each,Xl=function(t,e,n,r){function o(y,S){var k;Ot((S=void 0===S?d:S).onformat)&&S.onformat(y,S,n,r),uu(S.styles,function(C,x){p.setStyle(y,x,An(C,n))}),!S.styles||(k=p.getAttrib(y,"style"))&&p.setAttrib(y,"data-mce-style",k),uu(S.attributes,function(C,x){p.setAttrib(y,x,An(C,n))}),uu(S.classes,function(C){C=An(C,n),p.hasClass(y,C)||p.addClass(y,C)})}function i(y,S){var k=!1;return uu(y,function(C){return!!Se(C)&&(Rt(C.collapsed)&&C.collapsed!==m||!p.is(S,C.selector)||pn(S)?void 0:(o(S,C),!(k=!0)))}),k}function a(y,S,k){var C=[],x=!0,E=d.inline||d.block,A=function(B){if(Ft(B)){var L=p.create(B);return o(L),L}return null}(E);bi(y,S,function(B){var L,_=function(T){var R=!1,O=x,I=T.nodeName.toLowerCase(),$=T.parentNode,X=$.nodeName.toLowerCase();if(ct(T)&&y.getContentEditable(T)&&(O=x,x="true"===y.getContentEditable(T),R=!0),It(T)&&!function(J,Q,W,it){if(J.getParam("format_empty_lines",!1,"boolean")&&Xt(Q)){var V=ft(ft({},J.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),G=(K=P.fromDom(W),tt=function(w){return pn(w.dom)},((yt=(Z=K).dom).parentNode?function(t,e){return Gt(t.dom.childNodes,function(n){return w=P.fromDom(n),!kt(Z,w)&&tt(w);var w}).map(P.fromDom)}(P.fromDom(yt.parentNode)):N.none()).isSome());return Yr(V,it)&&$t(P.fromDom(W.parentNode),!1)&&!G}var K,Z,tt,yt}(t,d,T,X))return L=null,void(hn(d)&&y.remove(T));if(hn(d)&&d.wrapper&&Cn(t,T,e,n))L=null;else{if(x&&!R&&hn(d)&&!d.wrapper&&_c(t,I)&&So(t,X,E)){var F=y.rename(T,E);return o(F),C.push(F),void(L=null)}if(Se(d)){var U=i(l,T);if(!U&&Rt($)&&Ac(d)&&(U=i(l,$)),!Xt(d)||U)return void(L=null)}!x||R||!So(t,E,I)||!So(t,X,E)||!k&&ot(T)&&sa(T.data)||pn(T)||Xt(d)&&y.isBlock(T)?(L=null,rt(on(T.childNodes),_),R&&(x=O),L=null):(L||(L=y.clone(A,!1),T.parentNode.insertBefore(L,T),C.push(L)),L.appendChild(T))}};rt(B,_)}),!0===d.links&&rt(C,function(B){var L=function(_){"A"===_.nodeName&&o(_,d),rt(on(_.childNodes),L)};L(B)}),rt(C,function(B){var L,_,T,R,O,$,X,F,U,J,Q,W,it,V,G,K,Z,tt=(L=0,rt(B.childNodes,function(w){var D;Rt(D=w)&&ot(D)&&0===D.length||Te(w)||L++}),L);function yt(w){var D;1===w.nodeType&&w.parentNode&&1===w.parentNode.nodeType&&(D=Yg(W,w.parentNode),W.getStyle(w,"color")&&D?W.setStyle(w,"text-decoration",D):W.getStyle(w,"text-decoration")===D&&W.setStyle(w,"text-decoration",null))}!(1<C.length)&&y.isBlock(B)||0!==tt?(Xt(d)||hn(d)&&d.wrapper)&&(d.exact||1!==tt||(B=Gt((Q=B).childNodes,fx).filter(function(w){return Rh(y,w,d)}).map(function(w){var D=y.clone(w,!1);return o(D),y.replace(D,Q,!0),y.remove(w,!0),D}).getOr(Q)),G=t,K=n,Z=B,vv(l,function(w){var D,z;Xt(w)&&vv(G.dom.select(w.inline,Z),function(q){Il(q)&&Bo(G,w,K,q,w.exact?q:null)}),D=G.dom,(z=w).clear_child_styles&&$l(D.select(z.links?"*:not(a)":"*",Z),function(q){Il(q)&&$l(z.styles,function(Y,at){D.setStyle(q,at,"")})})}),X=d,Cn($=t,(J=B).parentNode,F=e,U=n)&&Bo($,X,U,J)||X.merge_with_parents&&$.dom.getParent(J.parentNode,function(w){if(Cn($,w,F,U))return Bo($,X,U,J),!0}),(O=d).styles&&O.styles.backgroundColor&&Wl(B,Wh(y,"fontSize"),Kh(y,"backgroundColor",An(O.styles.backgroundColor,n))),W=y,V=B,(it=d).styles&&(it.styles.color||it.styles.textDecoration)&&(H.walk(V,yt,"childNodes"),yt(V)),_=y,R=B,!Xt(T=d)||"sub"!==T.inline&&"sup"!==T.inline||(Wl(R,Wh(_,"fontSize"),Kh(_,"fontSize","")),_.remove(_.select("sup"===T.inline?"sub":"sup",R),!0)),$h(y,d,0,B)):y.remove(B,!0)})}var u,c,s,f,l=t.formatter.get(e),d=l[0],m=!r&&t.selection.isCollapsed(),p=t.dom,g=t.selection;if("false"!==p.getContentEditable(g.getNode()))d&&(r?Ba(r)?i(l,r)||((u=p.createRng()).setStartBefore(r),u.setEndAfter(r),a(p,Eo(t,u,l),!0)):a(p,r,!0):m&&Xt(d)&&!No(t).length?function(y,S,k){var C,x=y.selection,E=x.getRng(),A=E.startOffset,B=E.startContainer.nodeValue,L=Ar(y.getBody(),x.getStart());L&&(C=Th(L));var _,T,R,O,I=/[^\s\u00a0\u00ad\u200b\ufeff]/;B&&0<A&&A<B.length&&I.test(B.charAt(A))&&I.test(B.charAt(A-1))?(_=x.getBookmark(),E.collapse(!0),T=ja(Eo(y,E,y.formatter.get(S))),y.formatter.apply(S,k,T),x.moveToBookmark(_)):(L&&C.nodeValue===Oo||(R=y.getDoc(),O=Nl(!0).dom,C=(L=R.importNode(O,!0)).firstChild,E.insertNode(L),A=1),y.formatter.apply(S,k,L),x.setCursorLocation(C,A))}(t,e,n):(c=g.getNode(),s=l[0],t.settings.forced_root_block||!s.defaultBlock||p.getParent(c,p.isBlock)||Xl(t,s.defaultBlock),g.setRng(bl(g.getRng())),Lc(g,!0,function(){Pc(t,function(y,S){var k=S?y:Eo(t,y,l);a(p,k,!1)})}),Xg(p,g,g.getRng()),t.nodeChanged()),f=t,jh(nu[e],function(y){y(f)})),hp(t,e,r,n);else{r=g.getNode();for(var h=0,v=l.length;h<v;h++){var b=l[h];if(b.ceFalseOverride&&Se(b)&&p.is(r,b.selector)){o(r,b);break}}hp(t,e,r,n)}},bv=function(t){return t.selection.getStart()},yv=function(t,e,n){var r=nv(t,e);Bt(n,function(o,i){function a(u){var c,s=ev(t,r,i,u.similar,tv(u)?u.vars:void 0),f=s.isSome();u.state.get()!==f&&(u.state.set(f),c=s.getOr(e),tv(u)?u.callback(f,{node:c,format:i,parents:r}):rt(u.callbacks,function(l){return l(f,{node:c,format:i,parents:r})}))}rt([o.withSimilar,o.withoutSimilar],a),rt(o.withVars,a)})},xx=nd(function(){return document.implementation.createHTMLDocument("undo")});function Cv(t){return t.select}function xv(t){return t&&t.ownerDocument&&Fn(P.fromDom(t.ownerDocument),P.fromDom(t))}function wv(t,e,n,r){function o(C,x){return function(t,e,n){var r,o=(r=e,ft(ft({format:"html"},n=void 0===n?{}:n),{set:!0,selection:!0,content:r})),i=o;if(!o.no_events){var a=t.fire("BeforeSetContent",o);if(a.isDefaultPrevented())return void t.fire("SetContent",a);i=a}i.content=function(c,s){if("raw"===s.format)return s.content;var f=c.selection.getRng(),l=c.dom.getParent(f.commonAncestorContainer,c.dom.isBlock),d=l?{context:l.nodeName.toLowerCase()}:{},m=c.parser.parse(s.content,ft(ft({isRootContent:!0,forced_root_block:!1},d),s));return Do({validate:c.validate},c.schema).serialize(m)}(t,i);var u=t.selection.getRng();(function(c,s){var f=N.from(s.firstChild).map(P.fromDom),l=N.from(s.lastChild).map(P.fromDom);c.deleteContents(),c.insertNode(s);var d=f.bind(hr).filter(Ue).bind(gv),m=l.bind(Ko).filter(Ue).bind(gv);pv(d,f,c,!0),pv(m,l,c,!1),c.collapse(!1)})(u,u.createContextualFragment(i.content)),t.selection.setRng(u),Si(t,u),i.no_events||t.fire("SetContent",i)}(r,C,x)}function i(){var C=u(),x=null==C?void 0:C.anchorNode,E=null==C?void 0:C.focusNode;if(!C||!x||!E||Yi(x)||Yi(E))return!0;var A=t.createRng();A.setStart(x,C.anchorOffset),A.collapse(!0);var B=t.createRng();return B.setStart(E,C.focusOffset),B.collapse(!0),A.compareBoundaryPoints(A.START_TO_START,B)<=0}function a(C){var x=g();x.collapse(!!C),h(x)}function u(){return e.getSelection?e.getSelection():e.document.selection}var c,s,f,l,d,m,p=function(C,x){return d||(d={},m={},l.on("NodeChange",function(E){var A=E.element,B=k(A),L={};H.each(d,function(_,T){S(T,B).each(function(R){m[T]||(rt(_,function(O){O(!0,{node:R,selector:T,parents:B})}),m[T]=_),L[T]=_})}),H.each(m,function(_,T){L[T]||(delete m[T],H.each(_,function(R){R(!1,{node:A,selector:T,parents:B})}))})})),d[C]||(d[C]=[]),d[C].push(x),S(C,k(l.selection.getStart())).each(function(){m[C]=d[C]}),{unbind:function(){hv(d,C,x),hv(m,C,x)}}},g=function(){function C(_,T,R){try{return T.compareBoundaryPoints(_,R)}catch(O){return-1}}var x,E,A,B=e.document;if(void 0!==r.bookmark&&!1===Tr(r)){var L=Jc(r);if(L.isSome())return L.map(function(_){return Zc(r,[_])[0]}).getOr(B.createRange())}try{(x=u())&&!Yi(x.anchorNode)&&(E=0<x.rangeCount?x.getRangeAt(0):(x.createRange?x:B).createRange(),E=Zc(r,[E])[0])}catch(_){}return(E=E||(B.createRange?B.createRange():B.body.createTextRange())).setStart&&9===E.startContainer.nodeType&&E.collapsed&&(A=t.getRoot(),E.setStart(A,0),E.setEnd(A,0)),c&&s&&(0===C(E.START_TO_START,E,c)&&0===C(E.END_TO_END,E,c)?E=s:s=c=null),E},h=function(C,x){var E;if((A=C)&&(Cv(A)||xv(A.startContainer)&&xv(A.endContainer))){var A,B=Cv(C)?C:null;if(B){s=null;try{B.select()}catch(_){}}else{var L=u();if(C=r.fire("SetSelectionRange",{range:C,forward:x}).range,L){s=C;try{L.removeAllRanges(),L.addRange(C)}catch(_){}!1===x&&L.extend&&(L.collapse(C.endContainer,C.endOffset),L.extend(C.startContainer,C.startOffset)),c=0<L.rangeCount?L.getRangeAt(0):null}C.collapsed||C.startContainer!==C.endContainer||!L.setBaseAndExtent||dt.ie||C.endOffset-C.startOffset<2&&C.startContainer.hasChildNodes()&&(E=C.startContainer.childNodes[C.startOffset])&&"IMG"===E.tagName&&(L.setBaseAndExtent(C.startContainer,C.startOffset,C.endContainer,C.endOffset),L.anchorNode===C.startContainer&&L.focusNode===C.endContainer||L.setBaseAndExtent(E,0,E,1)),r.fire("AfterSetSelectionRange",{range:C,forward:x})}}},v={bookmarkManager:null,controlSelection:null,dom:f=t,win:e,serializer:n,editor:l=r,collapse:a,setCursorLocation:function(C,x){var E=t.createRng();Rt(C)&&Rt(x)?(E.setStart(C,x),E.setEnd(C,x),h(E),a(!1)):(Bc(t,E,r.getBody(),!0),h(E))},getContent:function(C){return E=(x=void 0===(x=C)?{}:x).format||"html",A=x,Ut(r).selection.getContent(E,A);var x,E,A},setContent:o,getBookmark:function(C,x){return b.getBookmark(C,x)},moveToBookmark:function(C){return b.moveToBookmark(C)},select:function(C,x){var E=t,A=x;return N.from(C).map(function(B){var L=E.nodeIndex(B),_=E.createRng();return _.setStart(B.parentNode,L),_.setEnd(B.parentNode,L+1),A&&(Bc(E,_,B,!0),Bc(E,_,B,!1)),_}).each(h),C},isCollapsed:function(){var C=g(),x=u();return!(!C||C.item)&&(C.compareEndPoints?0===C.compareEndPoints("StartToEnd",C):!x||C.collapsed)},isForward:i,setNode:function(C){return o(t.getOuterHTML(C)),C},getNode:function(){return function(C,x){if(!x)return C;var E=x.startContainer,A=x.endContainer,B=x.startOffset,L=x.endOffset,_=x.commonAncestorContainer;return!x.collapsed&&(E===A&&L-B<2&&E.hasChildNodes()&&(_=E.childNodes[B]),3===E.nodeType&&3===A.nodeType&&(E=E.length===B?zp(E.nextSibling,!0):E.parentNode,A=0===L?zp(A.previousSibling,!1):A.parentNode,E&&E===A))?E:_&&3===_.nodeType?_.parentNode:_}(r.getBody(),g())},getSel:u,setRng:h,getRng:g,getStart:function(C){return Fp(r.getBody(),g(),C)},getEnd:function(C){return Up(r.getBody(),g(),C)},getSelectedBlocks:function(C,x){return function(E,A,B,L){var _=[],T=E.getRoot();if(B=E.getParent(B||Fp(T,A,A.collapsed),E.isBlock),L=E.getParent(L||Up(T,A,A.collapsed),E.isBlock),B&&B!==T&&_.push(B),B&&L&&B!==L)for(var R,O=new qt(B,T);(R=O.next())&&R!==L;)E.isBlock(R)&&_.push(R);return L&&B!==L&&L!==T&&_.push(L),_}(t,g(),C,x)},normalize:function(){var C=g();if(1<Tc(u()).length||!Ma(r))return C;var x=za(t,C);return x.each(function(E){h(E,i())}),x.getOr(C)},selectorChanged:function(C,x){return p(C,x),v},selectorChangedWithUnbind:p,getScrollContainer:function(){for(var C,x=t.getRoot();x&&"BODY"!==x.nodeName;){if(x.scrollHeight>x.clientHeight){C=x;break}x=x.parentNode}return C},scrollIntoView:function(C,x){Rt(C)?(r.inline?hC:bC)(r,C,x):Si(r,g(),x)},placeCaretAt:function(C,x){return h(Vc(C,x,r.getDoc()))},getBoundingClientRect:function(){var C=g();return C.collapsed?M.fromRangeStart(C).getClientRects()[0]:C.getBoundingClientRect()},destroy:function(){e=c=s=null,y.destroy()}},b=Ci(v),y=vp(v,r);function S(C,x){return Gt(x,function(E){return f.is(E,C)})}function k(C){return f.getParents(C,null,f.getRoot())}return v.bookmarkManager=b,v.controlSelection=y,v}function Yl(t){var e,n=decodeURIComponent(t).split(","),r=/data:([^;]+)/.exec(n[0]);return{type:e=r?r[1]:e,data:n[1]}}function Sv(t,e){var n;try{n=atob(e)}catch(i){return N.none()}for(var r=new Uint8Array(n.length),o=0;o<r.length;o++)r[o]=n.charCodeAt(o);return N.some(new Blob([r],{type:t}))}function Ev(t){return 0===t.indexOf("blob:")?(e=t,new te(function(r,o){function i(){o("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")}try{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="blob",a.onload=function(){200===a.status?r(a.response):i()},a.onerror=i,a.send()}catch(u){i()}})):0===t.indexOf("data:")?(n=t,new te(function(r){var o=Yl(n);Sv(o.type,o.data).fold(function(){return r(new Blob([]))},r)})):null;var e,n}function Gl(t){return(t||"blobid")+Ax++}function Nv(t,e,n,r){(t.padd_empty_with_br||e.insert)&&n[r.name]?r.empty().append(new Ve("br",1)).shortEnded=!0:r.empty().append(new Ve("#text",3)).value=xe}function _i(t,e,n,r){return r.isEmpty(e,n,function(o){return(i=t.getElementRule(o.name))&&i.paddEmpty;var i})}function Jl(t,e){void 0===e&&(e=Vn());var n={},r=[],o={},i={};function a(c){var s=c.name;s in n&&((l=o[s])?l.push(c):o[s]=[c]);for(var f=r.length;f--;){var l,d=r[f].name;d in c.attributes.map&&((l=i[d])?l.push(c):i[d]=[c])}return c}(t=t||{}).validate=!("validate"in t)||t.validate,t.root_name=t.root_name||"body";var u={schema:e,addAttributeFilter:function(c,s){Lv(Iv(c),function(f){for(var l=0;l<r.length;l++)if(r[l].name===f)return void r[l].callbacks.push(s);r.push({name:f,callbacks:[s]})})},getAttributeFilters:function(){return[].concat(r)},addNodeFilter:function(c,s){Lv(Iv(c),function(f){var l=n[f];l||(n[f]=l=[]),l.push(s)})},getNodeFilters:function(){var c,s=[];for(c in n)vt(n,c)&&s.push({name:c,callbacks:n[c]});return s},filterNode:a,parse:function(c,s){var f,l,d,m,p,g,h,v,b=[];function y(F){for(var U=e.getBlockElements(),J=F.prev;J&&3===J.type;){var Q=J.value.replace(T,"");if(0<Q.length)return J.value=Q,0;var W=J.next;if(W){if(3===W.type&&W.value.length){J=J.prev;continue}if(!U[W.name]&&"script"!==W.name&&"style"!==W.name){J=J.prev;continue}}var it=J.prev;J.remove(),J=it}}function S(F,U){var J,Q=new Ve(F,U);return F in n&&((J=o[F])?J.push(Q):o[F]=[Q]),Q}s=s||{},o={},i={};var k=Tx(Pv("script,style,head,html,body,title,meta,param"),e.getBlockElements()),C=e.getNonEmptyElements(),x=e.children,E=t.validate,A=("forced_root_block"in s?s:t).forced_root_block,B=!1===A?"":!0===A?"p":A,L=e.getWhiteSpaceElements(),_=/^[ \t\r\n]+/,T=/[ \t\r\n]+$/,R=/[ \t\r\n]+/g,O=/^[ \t\r\n]+$/,I=vt(L,s.context)||vt(L,t.root_name),$=Xa({validate:E,document:t.document,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_script_urls:t.allow_script_urls,allow_conditional_comments:t.allow_conditional_comments,preserve_cdata:t.preserve_cdata,self_closing_elements:function(F){var U,J={};for(U in F)"li"!==U&&"p"!==U&&(J[U]=F[U]);return J}(e.getSelfClosingElements()),cdata:function(F){v.append(S("#cdata",4)).value=F},text:function(F,U){var J,Q;I||(F=F.replace(R," "),(Q=v.lastChild)&&(vt(k,Q.name)||"br"===Q.name)&&(F=F.replace(_,""))),0!==F.length&&((J=S("#text",3)).raw=!!U,v.append(J).value=F)},comment:function(F){v.append(S("#comment",8)).value=F},pi:function(F,U){v.append(S(F,7)).value=U,y(v)},doctype:function(F){v.append(S("#doctype",10)).value=F,y(v)},start:function(F,U,J){var Q=E?e.getElementRule(F):{};if(Q){var W=S(Q.outputName||F,1);W.attributes=U,W.shortEnded=J,v.append(W);var it=x[v.name];it&&x[W.name]&&!it[W.name]&&b.push(W);for(var V=r.length;V--;){var G=r[V].name;G in U.map&&((g=i[G])?g.push(W):i[G]=[W])}k[F]&&y(W),J||(v=W),!I&&L[F]&&(I=!0)}},end:function(F){var U,J,Q,W,it,V=E?e.getElementRule(F):{};if(V){if(k[F]&&!I){if((U=v.firstChild)&&3===U.type)if(0<(J=U.value.replace(_,"")).length)U.value=J,U=U.next;else for(Q=U.next,U.remove(),U=Q;U&&3===U.type;)Q=U.next,0!==(J=U.value).length&&!O.test(J)||(U.remove(),U=Q),U=Q;if((U=v.lastChild)&&3===U.type)if(0<(J=U.value.replace(T,"")).length)U.value=J,U=U.prev;else for(Q=U.prev,U.remove(),U=Q;U&&3===U.type;)Q=U.prev,0!==(J=U.value).length&&!O.test(J)||(U.remove(),U=Q),U=Q}if(I&&L[F]&&(I=!1),V.removeEmpty&&_i(e,C,L,v))return W=v.parent,k[v.name]?v.empty().remove():v.unwrap(),void(v=W);V.paddEmpty&&(Bv(it=v,"#text")&&it.firstChild.value===xe||_i(e,C,L,v))&&Nv(t,s,k,v),v=v.parent}}},e),X=v=new Ve(s.context||t.root_name,11);if($.parse(c,s.format),E&&b.length&&(s.context?s.invalid=!0:function(F){for(var U=Pv("tr,td,th,tbody,thead,tfoot,table"),J=e.getNonEmptyElements(),Q=e.getWhiteSpaceElements(),W=e.getTextBlockElements(),it=e.getSpecialElements(),V=function(at,lt){if(void 0===lt&&(lt=at.parent),it[at.name])at.empty().remove();else{for(var wt=0,xt=at.children();wt<xt.length;wt++){var ut=xt[wt];e.isValidChild(lt.name,ut.name)||V(ut,lt)}at.unwrap()}},G=0;G<F.length;G++){var K,Z=F[G],tt=void 0,yt=void 0;if(Z.parent&&!Z.fixed)if(W[Z.name]&&"li"===Z.parent.name){for(var w=Z.next;w&&W[w.name];)w.name="li",w.fixed=!0,Z.parent.insert(w,Z.parent),w=w.next;Z.unwrap()}else{var D=[Z];for(tt=Z.parent;tt&&!e.isValidChild(tt.name,Z.name)&&!U[tt.name];tt=tt.parent)D.push(tt);if(tt&&1<D.length)if(e.isValidChild(tt.name,Z.name)){D.reverse();for(var z=K=a(D[0].clone()),j=0;j<D.length-1;j++){e.isValidChild(z.name,D[j].name)?(yt=a(D[j].clone()),z.append(yt)):yt=z;for(var q=D[j].firstChild;q&&q!==D[j+1];){var Y=q.next;yt.append(q),q=Y}z=yt}_i(e,J,Q,K)?tt.insert(Z,D[0],!0):(tt.insert(K,D[0],!0),tt.insert(Z,K)),(_i(e,J,Q,tt=D[0])||Bv(tt,"br"))&&tt.empty().remove()}else V(Z);else Z.parent&&("li"!==Z.name?e.isValidChild(Z.parent.name,"div")&&e.isValidChild("div",Z.name)?Z.wrap(a(new Ve("div",1))):V(Z):!(w=Z.prev)||"ul"!==w.name&&"ol"!==w.name?!(w=Z.next)||"ul"!==w.name&&"ol"!==w.name?Z.wrap(a(new Ve("ul",1))):w.insert(Z,w.firstChild,!0):w.append(Z))}}}(b)),B&&("body"===X.name||s.isRootContent)&&function(){function F(W){W&&((U=W.firstChild)&&3===U.type&&(U.value=U.value.replace(_,"")),(U=W.lastChild)&&3===U.type&&(U.value=U.value.replace(T,"")))}var U=X.firstChild,J=null;if(e.isValidChild(X.name,B.toLowerCase())){for(;U;){var Q=U.next;3===U.type||1===U.type&&"p"!==U.name&&!k[U.name]&&!U.attr("data-mce-type")?(J||((J=S(B,1)).attr(t.forced_root_block_attrs),X.insert(J,U)),J.append(U)):(F(J),J=null),U=Q}F(J)}}(),!s.invalid){for(h in o)if(vt(o,h)){for(g=n[h],m=(f=o[h]).length;m--;)f[m].parent||f.splice(m,1);for(l=0,d=g.length;l<d;l++)g[l](f,h,s)}for(l=0,d=r.length;l<d;l++)if((g=r[l]).name in i){for(m=(f=i[g.name]).length;m--;)f[m].parent||f.splice(m,1);for(m=0,p=g.callbacks.length;m<p;m++)g.callbacks[m](f,g.name,s)}}return X}};return function(t,e){var r,o,i=t.schema;function a(u){var c,s,f=u.attr("src");(c=u).attr("src")===dt.transparentSrc||Rt(c.attr("data-mce-placeholder"))||Rt(u.attr("data-mce-bogus"))||((s=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(f))?N.some({type:s[1],data:decodeURIComponent(s[2])}):N.none()).filter(function(){return function(l,d){if(d.images_dataimg_filter){var m=new Image;return m.src=l.attr("src"),Bt(l.attributes.map,function(p,g){m.setAttribute(g,p)}),d.images_dataimg_filter(m)}return!0}(u,r)}).bind(function(l){var d=l.type,m=l.data;return N.from(o.getByData(m,d)).orThunk(function(){return Sv(d,m).map(function(p){var g=o.create(Gl(),p,m);return o.add(g),g})})}).each(function(l){u.attr("src",l.blobUri())})}e.remove_trailing_brs&&t.addNodeFilter("br",function(u,c,s){var f,l,d,m,p,g,h,v,b=u.length,y=H.extend({},i.getBlockElements()),S=i.getNonEmptyElements(),k=i.getWhiteSpaceElements();for(y.body=1,f=0;f<b;f++)if(d=(l=u[f]).parent,y[l.parent.name]&&l===d.lastChild){for(p=l.prev;p;){if("span"!==(g=p.name)||"bookmark"!==p.attr("data-mce-type")){"br"===g&&(l=null);break}p=p.prev}l&&(l.remove(),_i(i,S,k,d)&&(h=i.getElementRule(d.name))&&(h.removeEmpty?d.remove():h.paddEmpty&&Nv(e,s,y,d)))}else{for(m=l;d&&d.firstChild===m&&d.lastChild===m&&!y[(m=d).name];)d=d.parent;m===d&&!0!==e.padd_empty_with_br&&((v=new Ve("#text",3)).value=xe,l.replace(v))}}),t.addAttributeFilter("href",function(u){var c,s,f=u.length;if(!e.allow_unsafe_link_target)for(;f--;){var l=u[f];"a"===l.name&&"_blank"===l.attr("target")&&l.attr("rel",(s=void 0,s=(c=l.attr("rel"))?H.trim(c):"",/\b(noopener)\b/g.test(s)?s:s.split(" ").filter(function(d){return 0<d.length}).concat(["noopener"]).sort().join(" ")))}}),e.allow_html_in_named_anchor||t.addAttributeFilter("id,name",function(u){for(var c,s,f,l,d=u.length;d--;)if("a"===(l=u[d]).name&&l.firstChild&&!l.attr("href"))for(f=l.parent,c=l.lastChild;s=c.prev,f.insert(c,l),c=s;);}),e.fix_list_elements&&t.addNodeFilter("ul,ol",function(u){for(var c,s,f,l=u.length;l--;)"ul"!==(f=(s=u[l]).parent).name&&"ol"!==f.name||(s.prev&&"li"===s.prev.name?s.prev.append(s):((c=new Ve("li",1)).attr("style","list-style-type: none"),s.wrap(c)))}),e.validate&&i.getValidClasses()&&t.addAttributeFilter("class",function(u){for(var c=i.getValidClasses(),s=u.length;s--;){for(var f=u[s],l=f.attr("class").split(" "),d="",m=0;m<l.length;m++){var p=l[m],g=!1,h=c["*"];h&&h[p]&&(g=!0),h=c[f.name],(g=!(g||!h||!h[p])||g)&&(d&&(d+=" "),d+=p)}d.length||(d=null),f.attr("class",d)}}),(o=(r=e).blob_cache)&&t.addAttributeFilter("src",function(u){return rt(u,a)})}(u,t),t.inline_styles&&function(t,e){var n,r,o,i,a=Is();e.convert_fonts_to_spans&&(r=t,o=a,i=H.explode(e.font_size_legacy_values),r.addNodeFilter("font",function(u){rt(u,function(c){var s,f=o.parse(c.attr("style")),l=c.attr("color"),d=c.attr("face"),m=c.attr("size");l&&(f.color=l),d&&(f["font-family"]=d),m&&(f["font-size"]=i[parseInt(c.attr("size"),10)-1]),c.name="span",c.attr("style",o.serialize(f)),s=c,rt(["color","face","size"],function(p){s.attr(p,null)})})})),n=a,t.addNodeFilter("strike",function(u){rt(u,function(c){var s=n.parse(c.attr("style"));s["text-decoration"]="line-through",c.name="span",c.attr("style",n.serialize(s))})})}(u,t),u}function Nx(t,e,n){-1===H.inArray(e,n)&&(t.addAttributeFilter(n,function(r,o){for(var i=r.length;i--;)r[i].attr(o,null)}),e.push(n))}function kv(t,e){var n=function(t,e){var n=["data-mce-selected"],r=e&&e.dom?e.dom:Nt.DOM,o=e&&e.schema?e.schema:Vn(t);t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs;var i,a=Jl(t,o),u=t,c=r;return(i=a).addAttributeFilter("data-mce-tabindex",function(s,f){for(var l=s.length;l--;){var d=s[l];d.attr("tabindex",d.attr("data-mce-tabindex")),d.attr(f,null)}}),i.addAttributeFilter("src,href,style",function(s,f){for(var l="data-mce-"+f,d=u.url_converter,m=u.url_converter_scope,p=s.length;p--;){var g=s[p],h=g.attr(l);void 0!==h?(g.attr(f,0<h.length?h:null),g.attr(l,null)):(h=g.attr(f),"style"===f?h=c.serializeStyle(c.parseStyle(h),g.name):d&&(h=d.call(m,h,f,g.name)),g.attr(f,0<h.length?h:null))}}),i.addAttributeFilter("class",function(s){for(var f=s.length;f--;){var l,d=s[f];d.attr("class")&&(l=d.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),d.attr("class",0<l.length?l:null))}}),i.addAttributeFilter("data-mce-type",function(s,f,l){for(var d=s.length;d--;){var m=s[d];"bookmark"!==m.attr("data-mce-type")||l.cleanup||(N.from(m.firstChild).exists(function(p){return!sa(p.value)})?m.unwrap():m.remove())}}),i.addNodeFilter("noscript",function(s){for(var f=s.length;f--;){var l=s[f].firstChild;l&&(l.value=$n.decode(l.value))}}),i.addNodeFilter("script,style",function(s,f){for(var l=function(h){return h.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},d=s.length;d--;){var m,p=s[d],g=p.firstChild?p.firstChild.value:"";"script"===f?((m=p.attr("type"))&&p.attr("type","mce-no/type"===m?null:m.replace(/^mce\-/,"")),"xhtml"===u.element_format&&0<g.length&&(p.firstChild.value="// <![CDATA[\n"+l(g)+"\n// ]]>")):"xhtml"===u.element_format&&0<g.length&&(p.firstChild.value="\x3c!--\n"+l(g)+"\n--\x3e")}}),i.addNodeFilter("#comment",function(s){for(var f=s.length;f--;){var l=s[f];u.preserve_cdata&&0===l.value.indexOf("[CDATA[")?(l.name="#cdata",l.type=4,l.value=c.decode(l.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===l.value.indexOf("mce:protected ")&&(l.name="#text",l.type=3,l.raw=!0,l.value=unescape(l.value).substr(14))}}),i.addNodeFilter("xml:namespace,input",function(s,f){for(var l=s.length;l--;){var d=s[l];7===d.type?d.remove():1===d.type&&("input"!==f||d.attr("type")||d.attr("type","text"))}}),i.addAttributeFilter("data-mce-type",function(s){rt(s,function(f){"format-caret"===f.attr("data-mce-type")&&(f.isEmpty(i.schema.getNonEmptyElements())?f.remove():f.unwrap())})}),i.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(s,f){for(var l=s.length;l--;)s[l].attr(f,null)}),{schema:o,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:function(s,f){var l,d,m,p,g,h,v,b,y,S,k,C,x,E,A,B,L,_,T,R,O,I,$,X,F,U,J,Q,W,it=ft({format:"html"},f=void 0===f?{}:f),V=(C=s,$=x=it,l=(k=e)&&k.hasEventListeners("PreProcess")&&!$.no_events?(A=x,R=(E=k).dom,O=C.cloneNode(!0),(I=document.implementation).createHTMLDocument&&(L=I.createHTMLDocument(""),H.each("BODY"===O.nodeName?O.childNodes:[O],function(Z){L.body.appendChild(L.importNode(Z,!0))}),O="BODY"!==O.nodeName?L.body.firstChild:L.body,B=R.doc,R.doc=L),_=E,T=ft(ft({},A),{node:O}),_.fire("PreProcess",T),B&&(R.doc=B),O):C,m=qn((d=it).getInner?l.innerHTML:r.getOuterHTML(l)),d.selection||ua(P.fromDom(l))?m:H.trim(m)),G=(p=a,g=V,v=(h=it).selection?ft({forced_root_block:!1},h):h,!K(S=(b=p.parse(g,v)).lastChild)||K(y=S.prev)&&(S.remove(),y.remove()),b);function K(Z){return Z&&"br"===Z.name}return"tree"===it.format?G:(X=e,F=it,U=G,W=Do(t,o).serialize(U),F.no_events||!X?W:(J=X,Q=ft(ft({},F),{content:W}),J.fire("PostProcess",Q).content))},addRules:o.addValidElements,setRules:o.setValidElements,addTempAttr:et(Nx,a,n),getTempAttrs:nt(n),getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}}(t,e);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}}function Ql(t,e,n){return r=n=void 0===n?{}:n,ql(t).editor.setContent(e,r);var r}function su(t){return N.from(t).each(function(e){return e.destroy()})}function Ri(t){var e=Ie(t)?t.join(" "):t;return ht(Tt(Ft(e)?e.split(" "):[],ds),function(n){return 0<n.length})}function cu(t,e){return vt(t.sections(),e)}function _v(t,e){return Ht(t,"toolbar_mode").orThunk(function(){return Ht(t,"toolbar_drawer").map(function(n){return!1===n?"wrap":n})}).getOr(e)}function Pr(t,e,n){return N.from(e.settings[n]).filter(t)}function Rv(t,e){return e.dom[t]}function Dv(t,e){return parseInt(_n(e,t),10)}function Av(t,e,n){var r,o,i,a,u,c,s=P.fromDom(t.getBody()),f=t.inline?s:P.fromDom(Zr(s).dom.documentElement),l=(r=t.inline,i=e,a=n,u=(o=f).dom.getBoundingClientRect(),{x:i-(r?u.left+o.dom.clientLeft+Hx(o):0),y:a-(r?u.top+o.dom.clientTop+zx(o):0)}),d=l.x,m=l.y,p=Fx(c=f),g=Ux(c);return 0<=d&&0<=m&&d<=p&&m<=g}function Tv(t){function e(){var s=t.theme;return s&&s.getNotificationManagerImpl?s.getNotificationManagerImpl():{open:f,close:f,reposition:f,getArgs:f};function f(){throw new Error("Theme did not provide a NotificationManager implementation.")}}function n(){return N.from(u[0])}function r(){0<u.length&&e().reposition(u)}function o(s){Hi(u,function(f){return f===s}).each(function(f){u.splice(f,1)})}function i(s,f){if(void 0===f&&(f=!0),!t.removed&&(d=(l=t).inline?l.getBody():l.getContentAreaContainer(),N.from(d).map(P.fromDom).map(Jo).getOr(!1)))return f&&t.fire("BeforeOpenNotification",{notification:s}),Gt(u,function(m){return!((p=e().getArgs(m)).type!==s.type||p.text!==s.text||p.progressBar||p.timeout||s.progressBar||s.timeout);var p}).getOrThunk(function(){t.editorManager.setActive(t);var m=e().open(s,function(){o(m),r(),n().fold(function(){return t.focus()},function(p){return P.fromDom(p.getEl()).dom.focus()})});return u.push(m),r(),t.fire("OpenNotification",{notification:ft({},m)}),m});var l,d}var a,u=[],c=nt(u);return(a=t).on("SkinLoaded",function(){var s=a.getParam("service_message");s&&i({text:s,type:"warning",timeout:0},!1),r()}),a.on("show ResizeEditor ResizeWindow NodeChange",function(){ee.requestAnimationFrame(r)}),a.on("remove",function(){rt(u.slice(),function(s){e().close(s)})}),{open:i,close:function(){n().each(function(s){e().close(s),o(s),r()})},getNotifications:c}}var Ov,lu,Ax=0,Bv=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},Pv=H.makeMap,Lv=H.each,Iv=H.explode,Tx=H.extend,fu=Nt.DOM,Mv=(Ov=function(t,e){return Wr(t)&&Wr(e)?Mv(t,e):e},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<t.length;r++){var o,i=t[r];for(o in i)vt(i,o)&&(n[o]=Ov(n[o],i[o]))}return n}),Ox="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),Bx="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),Px="imagetools,toc".split(","),Zl=Me().deviceType,Lx=Zl.isTouch(),Fv=Zl.isPhone(),Ix=Zl.isTablet(),Mx=["lists","autolink","autosave"],Uv={table_grid:!1,object_resizing:!1,resize:!1},du=(lu={},{add:function(t,e){lu[t]=e},get:function(t){return lu[t]||{icons:{}}},has:function(t){return vt(lu,t)}}),Fx=et(Rv,"clientWidth"),Ux=et(Rv,"clientHeight"),zx=et(Dv,"margin-top"),Hx=et(Dv,"margin-left"),nn=we.PluginManager,ar=we.ThemeManager;function zv(t){function e(){var a=t.theme;return a&&a.getWindowManagerImpl?a.getWindowManagerImpl():{open:u,openUrl:u,alert:u,confirm:u,close:u,getParams:u,setParams:u};function u(){throw new Error("Theme did not provide a WindowManager implementation.")}}function n(a,u){return function(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];return u?u.apply(a,c):void 0}}function r(a){t.fire("CloseWindow",{dialog:a}),0===(i=ht(i,function(u){return u!==a})).length&&t.focus()}function o(a){t.editorManager.setActive(t),qa(t);var u,c=a();return i.push(u=c),t.fire("OpenWindow",{dialog:u}),c}var i=[];return t.on("remove",function(){rt(i,function(a){e().close(a)})}),{open:function(a,u){return o(function(){return e().open(a,u,r)})},openUrl:function(a){return o(function(){return e().openUrl(a,r)})},alert:function(a,u,c){var s=e();s.alert(a,n(c||s,u))},confirm:function(a,u,c){var s=e();s.confirm(a,n(c||s,u))},close:function(){N.from(i[i.length-1]).each(function(a){e().close(a),r(a)})}}}function Hv(t,e){t.notificationManager.open({type:"error",text:e})}function mu(t,e){t._skinLoaded?Hv(t,e):t.on("SkinLoaded",function(){Hv(t,e)})}function tf(t,e,n){pp(t,e,{message:n}),console.error(n)}function ef(t,e,n){return n?"Failed to load "+t+": "+n+" from url "+e:"Failed to load "+t+" url: "+e}function nf(t,e,n){tf(t,"PluginLoadError",ef("plugin",e,n))}function jv(){function t(r,o){return{status:r,resultUri:o}}function e(r){return r in n}var n={};return{hasBlobUri:e,getResultUri:function(r){var o=n[r];return o?o.resultUri:null},isPending:function(r){return!!e(r)&&1===n[r].status},isUploaded:function(r){return!!e(r)&&2===n[r].status},markPending:function(r){n[r]=t(1,null)},markUploaded:function(r,o){n[r]=t(2,o)},removeFailed:function(r){delete n[r]},destroy:function(){n={}}}}function Vv(t){return t+fw+++"s"+(new Date).getTime().toString(36)+e()+e()+e();function e(){return Math.round(4294967295*Math.random()).toString(36)}}function qv(t){return function(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}}function $v(t,e){return function(t,e){function n(u,c,s,f){var l=new XMLHttpRequest;l.open("POST",e.url),l.withCredentials=e.credentials,l.upload.onprogress=function(m){f(m.loaded/m.total*100)},l.onerror=function(){s("Image upload failed due to a XHR Transport error. Code: "+l.status)},l.onload=function(){var m,p,g;l.status<200||300<=l.status?s("HTTP Error: "+l.status):(m=JSON.parse(l.responseText))&&"string"==typeof m.location?c((g=m.location,(p=e.basePath)?p.replace(/\/$/,"")+"/"+g.replace(/^\//,""):g)):s("Invalid JSON: "+l.responseText)};var d=new FormData;d.append("file",u.blob(),u.filename()),l.send(d)}function r(u,c){return{url:c,blobInfo:u,status:!0}}function o(u,c,s){return{url:"",blobInfo:u,status:!1,error:{message:c,options:s}}}function i(u,c){H.each(a[u],function(s){s(c)}),delete a[u]}var a={};return!1===Ot(e.handler)&&(e.handler=n),{upload:function(u,c){return e.url||e.handler!==n?(f=c,s=H.grep(u,function(l){return!t.isUploaded(l.blobUri())}),te.all(H.map(s,function(l){return t.isPending(l.blobUri())?(g=l.blobUri(),new te(function(h){a[g]=a[g]||[],a[g].push(h)})):(m=e.handler,p=f,t.markPending((d=l).blobUri()),new te(function(h){var v;try{var b=function(){v&&v.close()};m(d,function(y){b(),t.markUploaded(d.blobUri(),y),i(d.blobUri(),r(d,y)),h(r(d,y))},function(y,S){var k=S||{};b(),t.removeFailed(d.blobUri()),i(d.blobUri(),o(d,y,k)),h(o(d,y,k))},function(y){y<0||100<y||N.from(v).orThunk(function(){return N.from(p).map(yy)}).each(function(S){(v=S).progressBar.value(y)})})}catch(y){h(o(d,y.message,{}))}}));var d,m,p,g}))):new te(function(l){l([])});var s,f}}}(e,{url:t.getParam("images_upload_url","","string"),basePath:t.getParam("images_upload_base_path","","string"),credentials:t.getParam("images_upload_credentials",!1,"boolean"),handler:t.getParam("images_upload_handler",null,"function")})}function Wv(t,e){function n(c){var s,f=se.create((o="string"==typeof c?{name:c,classes:[],attrs:{}}:c).name),l=f;return(s=o).classes.length&&se.addClass(l,s.classes.join(" ")),se.setAttribs(l,s.attrs),f}var r,o,i,a=e&&e.schema||Vn({}),u=function(c,s,f){var l,d,m,p,g,h,v,b=0<s.length&&s[0],y=b&&b.name,S=(p=y,g="string"!=typeof(m=c)?m.nodeName.toLowerCase():m,!(!(v=(h=a.getElementRule(g))&&h.parentsRequired)||!v.length)&&(p&&-1!==H.inArray(v,p)?p:v[0]));if(S)y===S?(d=s[0],s=s.slice(1)):d=S;else if(b)d=s[0],s=s.slice(1);else if(!f)return c;return d&&(l=n(d)).appendChild(c),f&&(l||(l=se.create("div")).appendChild(c),H.each(f,function(k){var C=n(k);l.insertBefore(C,c)})),u(l,s,d&&d.siblings)};return t&&t.length?(r=n(o=t[0]),(i=se.create("div")).appendChild(u(r,t.slice(1),o.siblings)),i):""}function Wx(t){var e,n={classes:[],attrs:{}};return"*"!==(t=n.selector=H.trim(t))&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(r,o,i,a,u){switch(o){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":-1!==H.inArray("checked disabled enabled read-only required".split(" "),i)&&(n.attrs[i]=i)}var c;return"["!==a||(c=u.match(/([\w\-]+)(?:\=\"([^\"]+))?/))&&(n.attrs[c[1]]=c[2]),""})),n.name=e||"div",n}function Kx(t,e){var n,r,o="",i=(r=t.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),Ft(r)?r:"");if(""===i)return"";function a(m){return m.replace(/%(\w+)/g,"")}if("string"==typeof e){if(!(e=t.formatter.get(e)))return;e=e[0]}if("preview"in e){var u=Ht(e,"preview");if(Ji(u,!1))return"";i=u.getOr(i)}var c,s=e.block||e.inline||"span",f=(c=e.selector)&&"string"==typeof c?(c=(c=c.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),H.map(c.split(/(?:>|\s+(?![^\[\]]+\]))/),function(m){var p=H.map(m.split(/(?:~\+|~|\+)/),Wx),g=p.pop();return p.length&&(g.siblings=p),g}).reverse()):[],l=f.length?(f[0].name||(f[0].name=s),s=e.selector,Wv(f,t)):Wv([s],t),d=se.select(s,l)[0]||l.firstChild;return Su(e.styles,function(m,p){var g=a(m);g&&se.setStyle(d,p,g)}),Su(e.attributes,function(m,p){var g=a(m);g&&se.setAttrib(d,p,g)}),Su(e.classes,function(m){var p=a(m);se.hasClass(d,p)||se.addClass(d,p)}),t.fire("PreviewFormats"),se.setStyles(l,{position:"absolute",left:-65535}),t.getBody().appendChild(l),n=se.getStyle(t.getBody(),"fontSize",!0),n=/px$/.test(n)?parseInt(n,10):0,Su(i.split(" "),function(m){var p=se.getStyle(d,m,!0);if(!("background-color"===m&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(p)&&(p=se.getStyle(t.getBody(),m,!0),"#ffffff"===se.toHex(p).toLowerCase())||"color"===m&&"#000000"===se.toHex(p).toLowerCase())){if("font-size"===m&&/em|%$/.test(p)){if(0===n)return;p=parseFloat(p)/(/%$/.test(p)?100:1)*n+"px"}"border"===m&&p&&(o+="padding:0 2px;"),o+=m+":"+p+";"}}),t.fire("AfterPreviewFormats"),se.remove(l),o}function Kv(t){var e,n,r,o,i,a,u=(o={},(i=function(s,f){s&&(Ft(s)?(rt(f=Ie(f)?f:[f],function(l){Ce(l.deep)&&(l.deep=!Se(l)),Ce(l.split)&&(l.split=!Se(l)||Xt(l)),Ce(l.remove)&&Se(l)&&!Xt(l)&&(l.remove="none"),Se(l)&&Xt(l)&&(l.mixed=!0,l.block_expand=!0),Ft(l.classes)&&(l.classes=l.classes.split(/\s+/))}),o[s]=f):Bt(s,function(l,d){i(d,l)}))})((n=(e=t).dom,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(s,f,l){return ct(s)&&s.hasAttribute("href")},onformat:function(s,f,l){H.each(l,function(d,m){n.setAttrib(s,m,d)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(s){var f;return null!==(f=null==s?void 0:s.customValue)&&void 0!==f?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]},H.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(s){r[s]={block:s,remove:"all"}}),r)),i(e.getParam("formats")),{get:function(s){return Rt(s)?o[s]:o},has:function(s){return vt(o,s)},register:i,unregister:function(s){return s&&o[s]&&delete o[s],o}}),c=ae(null);return function(s){s.addShortcut("meta+b","","Bold"),s.addShortcut("meta+i","","Italic"),s.addShortcut("meta+u","","Underline");for(var f=1;f<=6;f++)s.addShortcut("access+"+f,"",["FormatBlock",!1,"h"+f]);s.addShortcut("access+7","",["FormatBlock",!1,"p"]),s.addShortcut("access+8","",["FormatBlock",!1,"div"]),s.addShortcut("access+9","",["FormatBlock",!1,"address"])}(t),(a=t).on("mouseup keydown",function(s){var f=a,l=s.keyCode,d=f.selection,m=f.getBody();_l(f,null,!1),8!==l&&46!==l||!d.isCollapsed()||d.getStart().innerHTML!==Oo||_l(f,Ar(m,d.getStart())),37!==l&&39!==l||_l(f,Ar(m,d.getStart()))}),{get:u.get,has:u.has,register:u.register,unregister:u.unregister,apply:function(s,f,l){var d=s,m=f,p=l;Ut(t).formatter.apply(d,m,p)},remove:function(s,f,l,d){var m=s,p=f,g=l,h=d;Ut(t).formatter.remove(m,p,g,h)},toggle:function(s,f,l){var d=s,m=f,p=l;Ut(t).formatter.toggle(d,m,p)},match:function(s,f,l,d){return m=s,p=f,g=l,h=d,Ut(t).formatter.match(m,p,g,h);var m,p,g,h},closest:function(s){return f=s,Ut(t).formatter.closest(f);var f},matchAll:function(s,f){return l=s,d=f,Ut(t).formatter.matchAll(l,d);var l,d},matchNode:function(s,f,l,d){return m=s,p=f,g=l,h=d,Ut(t).formatter.matchNode(m,p,g,h);var m,p,g,h},canApply:function(s){return f=s,Ut(t).formatter.canApply(f);var f},formatChanged:function(s,f,l,d){return m=c,p=s,g=f,h=l,v=d,Ut(t).formatter.formatChanged(m,p,g,h,v);var m,p,g,h,v},getCssText:et(Kx,t)}}function Xv(t){switch(t.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return 1;default:return}}function Yv(t){var e,n,r,o,i,a=po(),u=ae(0),c=ae(0),s={data:[],typing:!1,beforeChange:function(){var l=u,d=a;Ut(t).undoManager.beforeChange(l,d)},add:function(l,d){return m=s,p=c,g=u,h=a,v=l,b=d,Ut(t).undoManager.add(m,p,g,h,v,b);var m,p,g,h,v,b},undo:function(){return l=s,d=u,m=c,Ut(t).undoManager.undo(l,d,m);var l,d,m},redo:function(){return l=c,d=s.data,Ut(t).undoManager.redo(l,d);var l,d},clear:function(){var l=s,d=c;Ut(t).undoManager.clear(l,d)},reset:function(){var l=s;Ut(t).undoManager.reset(l)},hasUndo:function(){return l=s,d=c,Ut(t).undoManager.hasUndo(l,d);var l,d},hasRedo:function(){return l=s,d=c,Ut(t).undoManager.hasRedo(l,d);var l,d},transact:function(l){return d=s,m=u,p=l,Ut(t).undoManager.transact(d,m,p);var d,m,p},ignore:function(l){var d=u,m=l;Ut(t).undoManager.ignore(d,m)},extra:function(l,d){var m=s,p=c,g=l,h=d;Ut(t).undoManager.extra(m,p,g,h)}};return On(t)||(r=s,o=u,i=ae(!1),(n=t).on("init",function(){r.add()}),n.on("BeforeExecCommand",function(l){Xv(l.command)||(dv(r,o),r.beforeChange())}),n.on("ExecCommand",function(l){Xv(l.command)||f(l)}),n.on("ObjectResizeStart cut",function(){r.beforeChange()}),n.on("SaveContent ObjectResized blur",f),n.on("dragend",f),n.on("keyup",function(l){var d=l.keyCode;l.isDefaultPrevented()||((33<=d&&d<=36||37<=d&&d<=40||45===d||l.ctrlKey)&&(f(),n.nodeChanged()),46!==d&&8!==d||n.nodeChanged(),i.get()&&r.typing&&!1===iu(zl(n),r.data[0])&&(!1===n.isDirty()&&(n.setDirty(!0),n.fire("change",{level:r.data[0],lastLevel:null})),n.fire("TypingUndo"),i.set(!1),n.nodeChanged()))}),n.on("keydown",function(l){var m=l.keyCode;l.isDefaultPrevented()||(33<=m&&m<=36||37<=m&&m<=40||45===m?r.typing&&f(l):!(m<16||20<m)||224===m||91===m||r.typing||l.ctrlKey&&!l.altKey||l.metaKey||(r.beforeChange(),au(r,!0,o),r.add({},l),i.set(!0)))}),n.on("mousedown",function(l){r.typing&&f(l)}),n.on("input",function(l){l.inputType&&("insertReplacementText"===l.inputType||"insertText"===l.inputType&&null===l.data||"insertFromPaste"===l.inputType||"insertFromDrop"===l.inputType)&&f(l)}),n.on("AddUndo Undo Redo ClearUndos",function(l){l.isDefaultPrevented()||n.nodeChanged()})),(e=t).addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),s;function f(l){au(r,!1,o),r.add({},l)}}function Gv(t){return"keydown"===t.type||"keyup"===t.type}function Jv(t){var e=t.keyCode;return e===st.BACKSPACE||e===st.DELETE}function Lr(t,e){return Qr(P.fromDom(e),t.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string"))}function ur(t,e,n){var r,o,i=(r=t,o=e,ht(Nt.DOM.getParents(n.container(),"*",o),r));return N.from(i[i.length-1])}function Be(t,e){if(!e)return e;var n=e.container(),r=e.offset();return t?io(n)?ot(n.nextSibling)?M(n.nextSibling,0):M.after(n):Ts(e)?M(n,r+1):e:io(n)?ot(n.previousSibling)?M(n.previousSibling,n.previousSibling.data.length):M.before(n):Os(e)?M(n,r-1):e}function Xx(t){return fm(t)||ei(t)}function gu(t,e){return Fn(t,e)?ta(e,Xx,(n=t,function(r){return kt(n,P.fromDom(r.dom.parentNode))})):N.none();var n}function Qv(t){var e,n,r;t.dom.isEmpty(t.getBody())&&(t.setContent(""),r=(n=(e=t).getBody()).firstChild&&e.dom.isBlock(n.firstChild)?n.firstChild:n,e.selection.setCursorLocation(r,0))}function Yx(t,e){return{from:t,to:e}}function rf(t,e){return gu(P.fromDom(t),P.fromDom(e.container())).map(function(n){return{block:n,position:e}})}function Zv(t){var e,n=Hi(e=ze(t),ln).fold(nt(e),function(r){return e.slice(0,r)});return rt(n,Jt),n}function t0(t,e){return Gt(Tn(e,t).reverse(),function(n){return $t(n)}).each(Jt)}function Gx(t,e,n,r){if($t(n))return Or(n),de(n.dom);0===ht(Nd(r),function(i){return!$t(i)}).length&&$t(e)&&Xe(r,P.fromTag("br"));var o=bn(n.dom,M.before(r.dom));return rt(Zv(e),function(i){Xe(r,i)}),t0(t,e),o}function Jx(t,e,n){if($t(n))return Jt(n),$t(e)&&Or(e),de(e.dom);var r=yn(n.dom);return rt(Zv(e),function(o){Zt(n,o)}),t0(t,e),r}function e0(t,e){xo(t,e.dom).map(function(n){return n.getNode()}).map(P.fromDom).filter(ro).each(Jt)}function n0(t,e,n){return e0(!0,e),e0(!1,n),(Fn(o=n,r=e)?(i=Tn(r,o),N.from(i[i.length-1])):N.none()).fold(et(Jx,t,e,n),et(Gx,t,e,n));var r,o,i}function r0(t,e,n,r){return e?n0(t,r,n):n0(t,n,r)}function pu(t,e){var n,r,o,i,a,u,c,s=P.fromDom(t.getBody()),f=(n=s.dom,r=e,((o=t.selection.getRng()).collapsed?(a=r,u=rf(i=n,M.fromRangeStart(o)),c=u.bind(function(l){return Oe(a,i,l.position).bind(function(d){return rf(i,d).map(function(m){return p=i,g=a,It((h=m).position.getNode())&&!1===$t(h.block)?xo(!1,h.block.dom).bind(function(v){return v.isEqual(h.position)?Oe(g,p,v).bind(function(b){return rf(p,b)}):N.some(h)}).getOr(h):h;var p,g,h})})}),ve(u,c,Yx).filter(function(l){return!1===kt(l.from.block,l.to.block)&&Ke((m=l).from.block).bind(function(p){return Ke(m.to.block).filter(function(g){return kt(p,g)})}).isSome()&&!1===At((d=l).from.block.dom)&&!1===At(d.to.block.dom);var d,m})):N.none()).bind(function(l){return r0(s,e,l.from.block,l.to.block)}));return f.each(function(l){t.selection.setRng(l.toRange())}),f.isSome()}function o0(t,e){var n=P.fromDom(e),r=et(kt,t);return ti(n,aa,r).isSome()}function hu(t,e){return!t.selection.isCollapsed()&&function(t){var e,n,r,o,i,a,u,c,s,f,l=P.fromDom(t.getBody()),d=t.selection.getRng();return s=bn((i=l).dom,M.fromRangeStart(a=d)).isNone(),f=en(i.dom,M.fromRangeEnd(a)).isNone(),!o0(u=i,(c=a).startContainer)&&!o0(u,c.endContainer)&&s&&f?((o=t).setContent(""),o.selection.setCursorLocation(),!0):(e=l,r=(n=t.selection).getRng(),ve(gu(e,P.fromDom(r.startContainer)),gu(e,P.fromDom(r.endContainer)),function(m,p){return!1===kt(m,p)&&(r.deleteContents(),r0(e,!0,m,p).each(function(g){n.setRng(g.toRange())}),!0)}).getOr(!1))}(t)}function Bn(t,e,n,r,o){return N.from(e._selectionOverrides.showCaret(t,n,r,o))}function Lo(t,e){var n,r;return t.fire("BeforeObjectSelected",{target:e}).isDefaultPrevented()?N.none():N.some(((r=(n=e).ownerDocument.createRange()).selectNode(n),r))}function i0(t,e,n){var r=yc(1,t.getBody(),e),o=M.fromRangeStart(r),i=o.getNode();if(pi(i))return Bn(1,t,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(pi(a))return Bn(1,t,a,!1,!1);var u=t.dom.getParent(o.getNode(),function(c){return pw(c)||gw(c)});return pi(u)?Bn(1,t,u,!1,n):N.none()}function of(t,e,n){return e.collapsed?i0(t,e,n).getOr(e):e}function Zx(t){return or(t)||Ao(t)}function tw(t){return ir(t)||To(t)}function a0(t,e,n,r,o,i){var a,u;return Bn(r,t,i.getNode(!o),o,!0).each(function(c){var s;e.collapsed?(s=e.cloneRange(),o?s.setEnd(c.startContainer,c.startOffset):s.setStart(c.endContainer,c.endOffset),s.deleteContents()):e.deleteContents(),t.selection.setRng(c)}),a=t.dom,ot(u=n)&&0===u.data.length&&a.remove(u),!0}function vu(t,e){var n=t.selection.getRng();if(!ot(n.commonAncestorContainer))return!1;var r=e?Kt.Forwards:Kt.Backwards,o=tn(t.getBody()),i=et(Cc,e?o.next:o.prev),a=e?Zx:tw,u=gi(r,t.getBody(),n),c=Be(e,i(u));if(!c||!Da(u,c))return!1;if(a(c))return a0(t,n,u.getNode(),r,e,c);var s=i(c);return!!(s&&a(s)&&Da(c,s))&&a0(t,n,u.getNode(),r,e,s)}function u0(t,e,n){return Oe(e,t,n).bind(function(r){return l=r.getNode(),aa(P.fromDom(l))||ei(P.fromDom(l))||(u=t,f=r,Dg(!(c=e),s=n).fold(function(){return Dg(c,f).fold(Dt,d)},d))?N.none():e&&At(r.getNode())||!1===e&&At(r.getNode(!0))?(o=t,i=n,a=r.getNode(!1===e),gu(P.fromDom(o),P.fromDom(i.getNode())).map(function(m){return $t(m)?Pe.remove(m.dom):Pe.moveToElement(a)}).orThunk(function(){return N.some(Pe.moveToElement(a))})):e&&ir(n)||!1===e&&or(n)?N.some(Pe.moveToPosition(r)):N.none();var o,i,a,u,c,s,f,l;function d(m){return As(P.fromDom(m))&&!gn(s,f,u)}})}function s0(t,e){return N.from(Ro(t.getBody(),e))}function ew(t,e){var n=t.selection.getNode();return s0(t,n).filter(At).fold(function(){return l=t.getBody(),m=yc((d=e)?1:-1,l,t.selection.getRng()),p=M.fromRangeStart(m),g=P.fromDom(l),(!1===d&&ir(p)?N.some(Pe.remove(p.getNode(!0))):d&&or(p)?N.some(Pe.remove(p.getNode())):!1===d&&or(p)&&cl(g,p)?cx(g,p).map(function(h){return Pe.remove(h.getNode())}):d&&ir(p)&&sl(g,p)?lx(g,p).map(function(h){return Pe.remove(h.getNode())}):(r=l,o=d,s=(i=p).getNode(!1===(c=o)),f=c?"after":"before",ct(s)&&s.getAttribute("data-mce-caret")===f?(u=i.getNode(!1===(a=o)),(a&&At(u.nextSibling)?N.some(Pe.moveToElement(u.nextSibling)):!1===a&&At(u.previousSibling)?N.some(Pe.moveToElement(u.previousSibling)):N.none()).fold(function(){return u0(r,o,i)},N.some)):u0(r,o,i).bind(function(h){return v=r,b=i,h.fold(function(y){return N.some(Pe.remove(y))},function(y){return N.some(Pe.moveToElement(y))},function(y){return gn(b,y,v)?N.none():N.some(Pe.moveToPosition(y))});var v,b}))).exists(function(h){return h.fold(function(C){return S._selectionOverrides.hideFakeCaret(),Br(S,k,P.fromDom(C)),!0},(y=k=e,function(C){var x=y?M.before(C):M.after(C);return b.selection.setRng(x.toRange()),!0}),(v=b=S=t,function(C){return v.selection.setRng(C.toRange()),!0}));var v,b,y,S,k});var r,o,i,a,u,c,s,f,l,d,m,p,g},zt)}function nw(t,e){var n=t.selection.getNode();return!(!At(n)||Zi(n))&&s0(t,n.parentNode).filter(At).fold(function(){return rt(be(P.fromDom(t.getBody()),".mce-offscreen-selection"),Jt),Br(t,e,P.fromDom(t.selection.getNode())),Qv(t),!0},zt)}function c0(t){var e,n=t.dom,r=t.selection,o=Ro(t.getBody(),r.getNode());return sn(o)&&n.isBlock(o)&&n.isEmpty(o)&&(e=n.create("br",{"data-mce-bogus":"1"}),n.setHTML(o,""),o.appendChild(e),r.setRng(M.before(e).toRange())),!0}function bu(t,e){return(t.selection.isCollapsed()?ew:nw)(t,e)}function yu(t,e){return!!t.selection.isCollapsed()&&(r=e,o=M.fromRangeStart((n=t).selection.getRng()),Oe(r,n.getBody(),o).filter(function(i){return(r?ix:ax)(i)}).bind(function(i){return N.from(bc(r?0:-1,i))}).exists(function(i){return n.selection.select(i),!0}));var n,r,o}function l0(t){return Io(t)&&t.data[0]===ne}function f0(t){return Io(t)&&t.data[t.data.length-1]===ne}function d0(t){return t.ownerDocument.createTextNode(ne)}function Cu(t,e){return(t?function(n){if(Io(n.previousSibling))return f0(n.previousSibling)||n.previousSibling.appendData(ne),n.previousSibling;if(Io(n))return l0(n)||n.insertData(0,ne),n;var r=d0(n);return n.parentNode.insertBefore(r,n),r}:function(n){if(Io(n.nextSibling))return l0(n.nextSibling)||n.nextSibling.insertData(0,ne),n.nextSibling;if(Io(n))return f0(n)||n.appendData(ne),n;var r=d0(n);return n.nextSibling?n.parentNode.insertBefore(r,n.nextSibling):n.parentNode.appendChild(r),r})(e)}function m0(t,e){return ot(t.container())?Cu(e,t.container()):Cu(e,t.getNode())}function g0(t,e){var n=e.get();return n&&t.container()===n&&io(n)}function af(t,e){return e.fold(function(n){Dr(t.get());var r=hw(n);return t.set(r),N.some(M(r,r.length-1))},function(n){return de(n).map(function(r){if(g0(r,t))return M(t.get(),1);Dr(t.get());var o=m0(r,!0);return t.set(o),M(o,1)})},function(n){return yn(n).map(function(r){if(g0(r,t))return M(t.get(),t.get().length-1);Dr(t.get());var o=m0(r,!1);return t.set(o),M(o,o.length-1)})},function(n){Dr(t.get());var r=vw(n);return t.set(r),N.some(M(r,1))})}function p0(t,e){for(var n=0;n<t.length;n++){var r=t[n].apply(null,e);if(r.isSome())return r}return N.none()}function h0(t,e){return er(e,t)||t}function rw(t,e,n){var r=w0(n),o=h0(e,r.container());return ur(t,o,r).fold(function(){return en(o,r).bind(et(ur,t,o)).map(function(i){return ce.before(i)})},N.none)}function ow(t,e){return null===Ar(t,e)}function v0(t,e,n){return ur(t,e,n).filter(et(ow,e))}function iw(t,e,n){var r=S0(n);return v0(t,e,r).bind(function(o){return bn(o,r).isNone()?N.some(ce.start(o)):N.none()})}function aw(t,e,n){var r=w0(n);return v0(t,e,r).bind(function(o){return en(o,r).isNone()?N.some(ce.end(o)):N.none()})}function uw(t,e,n){var r=S0(n),o=h0(e,r.container());return ur(t,o,r).fold(function(){return bn(o,r).bind(et(ur,t,o)).map(function(i){return ce.after(i)})},N.none)}function b0(t){return e=cf(t),!1===("rtl"===Nt.DOM.getStyle(e,"direction",!0)||mw.test(e.textContent));var e}function xn(t,e,n){return p0([rw,iw,aw,uw],[t,e,n]).filter(b0)}function y0(t){return t.fold(nt("before"),nt("start"),nt("end"),nt("after"))}function xu(t){return t.fold(ce.before,ce.before,ce.after,ce.after)}function uf(t){return t.fold(ce.start,ce.start,ce.end,ce.end)}function sw(t,e,n,r,o,i){return ve(ur(e,n,r),ur(e,n,o),function(a,u){return a!==u&&(s=u,f=er(a,c=n),l=er(s,c),f&&f===l)?ce.after(t?a:u):i;var c,s,f,l}).getOr(i)}function cw(t,e){return t.fold(zt,function(n){return o=e,!(y0(r=n)===y0(o)&&cf(r)===cf(o));var r,o})}function lw(t,e){return t?e.fold(dr(N.some,ce.start),N.none,dr(N.some,ce.after),N.none):e.fold(N.none,dr(N.some,ce.before),N.none,dr(N.some,ce.end))}function sf(t,e,n,r){var o=Be(t,r),i=xn(e,n,o);return xn(e,n,o).bind(et(lw,t)).orThunk(function(){return u=e,c=n,s=i,f=Be(a=t,r),Oe(a,c,f).map(et(Be,a)).fold(function(){return s.map(xu)},function(l){return xn(u,c,l).map(et(sw,a,u,c,f,l)).filter(et(cw,s))}).filter(b0);var a,u,c,s,f})}function wu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=window.console;r&&(r.error||r.log).apply(r,Mn([t],e,!1))}var Pn,sr,C0=function(t,e){var n=t.editorManager.baseURL+"/skins/content",r="content"+t.editorManager.suffix+".css",o=!0===t.inline;return Tt(e,function(i){return/^[a-z0-9\-]+$/i.test(i)&&!o?n+"/"+i+"/"+r:t.documentBaseURI.toAbsolute(i)})},fw=0,Su=H.each,se=Nt.DOM,dw=[9,27,st.HOME,st.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,st.DOWN,st.UP,st.LEFT,st.RIGHT].concat(dt.browser.isFirefox()?[224]:[]),x0="data-mce-placeholder",mw=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,w0=et(Be,!0),S0=et(Be,!1),gw=sn,pw=At,Pe=Hn([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Io=ot,hw=et(Cu,!0),vw=et(Cu,!1),ce=Hn([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),cf=function(t){return t.fold(pe,pe,pe,pe)};function E0(t,e,n){var r=t?1:-1;return e.setRng(M(n.container(),n.offset()+r).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0}function Eu(t,e){return t===Kt.Backwards?ji(e):e}function N0(t,e,n,r){for(var o,i,a,u,c=tn(n),s=r,f=[];s;){var l=(a=c,u=s,e===Kt.Forwards?a.next(u):a.prev(u));if(!l)break;if(It(l.getNode(!1)))return e===Kt.Forwards?{positions:Eu(e,f).concat([l]),breakType:Pn.Br,breakAt:N.some(l)}:{positions:Eu(e,f),breakType:Pn.Br,breakAt:N.some(l)};if(l.isVisible()){if(t(s,l)){var d=(o=s,It((i=l).getNode(e===Kt.Forwards))?Pn.Br:!1===gn(o,i)?Pn.Block:Pn.Wrap);return{positions:Eu(e,f),breakType:d,breakAt:N.some(l)}}f.push(l),s=l}else s=l}return{positions:Eu(e,f),breakType:Pn.Eol,breakAt:N.none()}}function k0(t,e,n,r){return e(n,r).breakAt.map(function(o){var i=e(n,o).positions;return t===Kt.Backwards?i.concat(o):[o].concat(i)}).getOr([])}function lf(t,e){return We(t,function(n,r){return n.fold(function(){return N.some(r)},function(o){return ve(ke(o.getClientRects()),ke(r.getClientRects()),function(i,a){var u=Math.abs(e-i.left);return Math.abs(e-a.left)<=u?r:o}).or(n)})},N.none())}function _0(t,e){return ke(e.getClientRects()).bind(function(n){return lf(t,n.left)})}function bw(t){function e(r){return Tt(r,function(o){var i=kr(o);return i.node=t,i})}if(ct(t))return e(t.getClientRects());if(ot(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}}function ff(t){return Xr(t,bw)}et(sf,!1),et(sf,!0),(sr=Pn={})[sr.Br=0]="Br",sr[sr.Block=1]="Block",sr[sr.Wrap=2]="Wrap",sr[sr.Eol=3]="Eol";var Ir,Nu,Di=et(N0,M.isAbove,-1),Ai=et(N0,M.isBelow,1),yw=et(k0,-1,Di),Cw=et(k0,1,Ai);function R0(t,e,n,r,o,i){function a(l){var d=ff([l]);-1===t&&(d=d.reverse());for(var m=0;m<d.length;m++){var p=d[m];if(!n(p,s)){if(0<c.length&&e(p,gr(c))&&u++,p.line=u,o(p))return!0;c.push(p)}}}var u=0,c=[],s=gr(i.getClientRects());if(!s)return c;var f=i.getNode();return a(f),function(l,d,m,p){for(;p=Co(p,l,ra,d);)if(m(p))return}(t,r,a,f),c}function D0(t){return function(e){return e.line>t}}function df(t){return function(e){return e.line===t}}function mf(t,e){return Math.abs(t.left-e)}function gf(t,e){return Math.abs(t.right-e)}function A0(t,e){return t>=e.left&&t<=e.right}function xw(t,e){return t>=e.top&&t<=e.bottom}function ku(t,e,n){return void 0===n&&(n=zt),Vi(t,function(r,o){if(A0(e,o))return n(o)?o:r;if(A0(e,r))return n(r)?r:o;var i=Math.min(mf(r,e),gf(r,e)),a=Math.min(mf(o,e),gf(o,e));return a===i&&Yr(o,"node")&&qw(o.node)||a<i?o:r})}function T0(t,e,n,r,o){var i=_b(r,t,ra,e,!o);do{if(!i||n(i))return}while(i=_b(i,t,ra,e))}function Ln(t,e){t.selection.setRng(e),Si(t,t.selection.getRng())}function pf(t,e,n){return N.some(of(t,e,n))}function O0(t,e,n,r,o,i){var a=e===Kt.Forwards,u=tn(t.getBody()),c=et(Cc,a?u.next:u.prev),s=a?r:o;if(!n.collapsed){var f=Sa(n);if(i(f))return Bn(e,t,f,e===Kt.Backwards,!1)}var l=gi(e,t.getBody(),n);if(s(l))return Lo(t,l.getNode(!a));var d=Be(a,c(l)),m=rm(n);if(!d)return m?N.some(n):N.none();if(s(d))return Bn(e,t,d.getNode(!a),a,!1);var p=c(d);return p&&s(p)&&Da(d,p)?Bn(e,t,p.getNode(!a),a,!1):m?pf(t,d.toRange(),!1):N.none()}function B0(t,e,n,r,o,i){var a=gi(e,t.getBody(),n),u=gr(a.getClientRects()),c=e===Ir.Down;if(!u)return N.none();var s,f=ht((c?Vw:jw)(t.getBody(),D0(1),a),df(1)),l=u.left,d=ku(f,l);if(d&&i(d.node)){var m=Math.abs(l-d.left),p=Math.abs(l-d.right);return Bn(e,t,d.node,m<p,!1)}if(s=r(a)?a.getNode():o(a)?a.getNode(!0):Sa(n)){var g=function(v,b,y,S){function k(I){return gr(I.getClientRects())}var C,x,E,A=tn(b),B=[],L=0,_=1===v?(C=A.next,x=bo,E=vo,M.after(S)):(C=A.prev,x=vo,E=bo,M.before(S)),T=k(_);do{if(_.isVisible()){var R=k(_);if(!E(R,T)){0<B.length&&x(R,gr(B))&&L++;var O=kr(R);if(O.position=_,O.line=L,y(O))return B;B.push(O)}}}while(_=C(_));return B}(e,t.getBody(),D0(1),s),h=ku(ht(g,df(1)),l);if(h||(h=gr(ht(g,df(0)))))return pf(t,h.position.toRange(),!1)}return 0===f.length?Ef(t,c).filter(c?o:r).map(function(v){return of(t,v.toRange(),!1)}):N.none()}function P0(t,e,n){return Ef(t,e).filter(n).exists(function(r){return t.selection.setRng(r.toRange()),!0})}function _u(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)}function L0(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")}function I0(t,e,n){return af(e,n).map(function(r){return _u(t,r),n})}function M0(t,e,n){return!!mi(t)&&(o=e,i=n,a=(r=t).getBody(),u=M.fromRangeStart(r.selection.getRng()),sf(i,et(Lr,r),a,u).bind(function(c){return I0(r,o,c)}).isSome());var r,o,i,a,u}function F0(t,e,n){return!!mi(e)&&(r=t,i=(o=e).selection.getRng(),a=r?M.fromRangeEnd(i):M.fromRangeStart(i),!!Ot(o.selection.getSel().modify)&&(r&&Ts(a)?E0(!0,o.selection,a):!(r||!Os(a))&&E0(!1,o.selection,a)));var r,o,i,a}function Ru(t,e,n){if(mi(t)){var r=Ef(t,e).getOrThunk(function(){var o=t.selection.getRng();return e?M.fromRangeEnd(o):M.fromRangeStart(o)});return xn(et(Lr,t),t.getBody(),r).exists(function(o){var i=xu(o);return af(n,i).exists(function(a){return _u(t,a),!0})})}return!1}function U0(t,e){return function(n){return af(e,n).exists(function(r){return _u(t,r),!0})}}function z0(t,e,n,r){var o=t.getBody(),i=et(Lr,t);t.undoManager.ignore(function(){var a,u,c;t.selection.setRng((a=n,u=r,(c=document.createRange()).setStart(a.container(),a.offset()),c.setEnd(u.container(),u.offset()),c)),t.execCommand("Delete"),xn(i,o,M.fromRangeStart(t.selection.getRng())).map(uf).map(U0(t,e))}),t.nodeChanged()}function Du(t,e,n){if(t.selection.isCollapsed()&&mi(t)){var r=M.fromRangeStart(t.selection.getRng());return i=e,a=n,u=r,c=(o=t).getBody(),s=er(u.container(),c)||c,f=et(Lr,o),(l=xn(f,s,u)).bind(function(d){return a?d.fold(nt(N.some(uf(d))),N.none,nt(N.some(xu(d))),N.none):d.fold(N.none,nt(N.some(xu(d))),N.none,nt(N.some(uf(d))))}).map(U0(o,i)).getOrThunk(function(){var d=Oa(a,s,u),m=d.bind(function(p){return xn(f,s,p)});return ve(l,m,function(){return ur(f,s,u).exists(function(p){return!!ve(de(g=p),yn(g),function(h,v){var b=Be(!0,h),y=Be(!1,v);return en(g,b).forall(function(S){return S.isEqual(y)})}).getOr(!0)&&(Br(o,a,P.fromDom(p)),!0);var g})}).orThunk(function(){return m.bind(function(p){return d.map(function(g){return a?z0(o,i,u,g):z0(o,i,g,u),!0})})}).getOr(!1)})}var o,i,a,u,c,s,f,l;return!1}function Ew(t){return 1===Rd(t)}function Au(t,e){return!!t.selection.isCollapsed()&&function(t,e){var n,r=P.fromDom(t.getBody()),o=P.fromDom(t.selection.getStart()),i=ht(Hi(n=Tn(o,r),ln).fold(nt(n),function(a){return n.slice(0,a)}),Ew);return mr(i).exists(function(a){var u,c,s,f,l,d,m,p,g,h=M.fromRangeStart(t.selection.getRng()),v=e,b=h,y=a.dom;return!(!ve(de(y),yn(y),function(S,k){var C=Be(!0,S),x=Be(!1,k),E=Be(!1,b);return v?en(y,E).exists(function(A){return A.isEqual(x)&&b.isEqual(C)}):bn(y,E).exists(function(A){return A.isEqual(C)&&b.isEqual(x)})}).getOr(!0)||pn((u=a).dom)&&Ah(u.dom)||(c=e,f=a,0===(g=Tt(ht(i,et(ox,s=t)),function(S){return S.dom})).length?Br(s,c,f):(d=f.dom,p=Bh(g,(m=Nl(!1)).dom),Xe(P.fromDom(d),m),Jt(P.fromDom(d)),l=M(p,0),s.selection.setRng(l.toRange())),0))})}(t,e)}function hf(t,e,n){return t._selectionOverrides.hideFakeCaret(),Br(t,e,P.fromDom(n)),!0}function Tu(t,e){return t.selection.isCollapsed()?(u=(a=e)?Ao:To,s=gi(a?Kt.Forwards:Kt.Backwards,(i=t).getBody(),i.selection.getRng()),u(s)?hf(i,a,s.getNode(!a)):N.from(Be(a,s)).filter(function(f){return u(f)&&Da(s,f)}).exists(function(f){return hf(i,a,f.getNode(!a))})):(r=e,o=(n=t).selection.getNode(),!!He(o)&&hf(n,r,o));var n,r,o,i,a,u,s}function vf(t){var e=parseInt(t,10);return isNaN(e)?0:e}function H0(t,e){return(t||"table"===jt(e)?"margin":"padding")+("rtl"===_n(e,"direction")?"-right":"-left")}function j0(t){var e,n=Rb(t);return!t.mode.isReadOnly()&&(1<n.length||(e=t,jo(n,function(r){var o=ys(r,H0(vg(e),r)).map(vf).getOr(0);return"false"!==e.dom.getContentEditable(r.dom)&&0<o})))}function V0(t){return Us(t)||ei(t)}function q0(t,e){var n=t.dom,r=t.selection,o=t.formatter,i=t.getParam("indentation","40px","string"),a=/[a-z%]+$/i.exec(i)[0],u=parseInt(i,10),c=vg(t),s=oe(t);t.queryCommandState("InsertUnorderedList")||t.queryCommandState("InsertOrderedList")||""!==s||n.getParent(r.getNode(),n.isBlock)||o.apply("div"),rt(Rb(t),function(f){var l,d=n,m=e,p=u,g=a,h=f.dom,v=H0(c,P.fromDom(h));"outdent"===m?(l=Math.max(0,vf(h.style[v])-p),d.setStyle(h,v,l?l+g:"")):(l=vf(h.style[v])+p+g,d.setStyle(h,v,l))})}function $0(t,e){if(t.selection.isCollapsed()&&j0(t)){var n=t.dom,r=t.selection.getRng(),o=M.fromRangeStart(r),i=n.getParent(r.startContainer,n.isBlock);if(null!==i&&Al(P.fromDom(i),o))return q0(t,"outdent"),!0}return!1}function W0(t,e){t.getDoc().execCommand(e,!1,null)}function K0(t){return void 0===t.touches||1!==t.touches.length?N.none():N.some(t.touches[0])}function bf(t,e){return vt(t,e.nodeName)}function kw(t){var e,n,r,o=t.dom,i=t.selection,a=t.schema,u=a.getBlockElements(),c=i.getStart(),s=t.getBody(),f=oe(t);if(c&&ct(c)&&f){var l=s.nodeName.toLowerCase();if(a.isValidChild(l,f.toLowerCase())&&(d=u,m=s,!he(th(P.fromDom(c),P.fromDom(m)),function(x){return bf(d,x.dom)}))){var d,m,g,h,v=i.getRng(),b=v.startContainer,y=v.startOffset,S=v.endContainer,k=v.endOffset,C=Tr(t);for(c=s.firstChild;c;)g=u,ot(h=c)||ct(h)&&!bf(g,h)&&!Te(h)?function(E,A){if(ot(A)&&(0===A.nodeValue.length||/^\s+$/.test(A.nodeValue)&&(!A.nextSibling||bf(E,A.nextSibling))))return 1}(u,c)?(c=(n=c).nextSibling,o.remove(n)):(e||(e=o.create(f,fi(t)),c.parentNode.insertBefore(e,c),r=!0),c=(n=c).nextSibling,e.appendChild(n)):(e=null,c=c.nextSibling);r&&C&&(v.setStart(b,y),v.setEnd(S,k),i.setRng(v),t.nodeChanged())}}}function X0(t,e){e.hasAttribute("data-mce-caret")&&(Bs(e),t.selection.setRng(t.selection.getRng()),t.selection.scrollIntoView(e))}function _w(t,e){var n=na(P.fromDom(t.getBody()),"*[data-mce-caret]").map(function(r){return r.dom}).getOrNull();if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void X0(t,n)):void(nm(n)&&(X0(t,n),t.undoManager.add()))}function Y0(t,e,n){var r,o,i,a=tn(t.getBody()),u=et(Cc,1===e?a.next:a.prev);!n.collapsed||""===oe(t)||(r=t.dom.getParent(n.startContainer,"PRE"))&&(u(M.fromRangeStart(n))||(i=t.dom.create(oe(t)),(!dt.ie||11<=dt.ie)&&(i.innerHTML='<br data-mce-bogus="1">'),o=i,1===e?t.$(r).after(o):t.$(r).before(o),t.selection.select(o,!0),t.selection.collapse()))}function G0(t,e){return r=e?Kt.Forwards:Kt.Backwards,o=(n=t).selection.getRng(),O0(n,r,o,or,ir,Db).orThunk(function(){return Y0(n,r,o),N.none()}).exists(function(i){return Ln(t,i),!0});var n,r,o}function J0(t,e){return r=e?1:-1,o=(n=t).selection.getRng(),B0(n,r,o,function(i){return or(i)||Ih(i)},function(i){return ir(i)||Mh(i)},Db).orThunk(function(){return Y0(n,r,o),N.none()}).exists(function(i){return Ln(t,i),!0});var n,r,o}function Q0(t,e){return P0(t,e,e?ir:or)}function Rw(t){return Yt(["figcaption"],jt(t))}function Z0(t){var e=document.createRange();return e.setStartBefore(t.dom),e.setEndBefore(t.dom),e}function tb(t,e,n){(n?Zt:Ad)(t,e)}function eb(t,e){return!!t.selection.isCollapsed()&&function(t,e){var n=P.fromDom(t.getBody()),r=M.fromRangeStart(t.selection.getRng()),o=oe(t),i=fi(t),a=r,u=et(kt,n);return ta(P.fromDom(a.container()),ln,u).filter(Rw).exists(function(){if(S=n,k=r,e?Ai(S.dom,k).breakAt.isNone():Di(S.dom,k).breakAt.isNone()){var c=(s=n,l=i,d=e,""===(f=o)?(b=d,tb(s,y=P.fromTag("br"),b),Z0(y)):(m=s,p=d,g=l,h=P.fromTag(f),v=P.fromTag("br"),Un(h,g),Zt(h,v),tb(m,h,p),Z0(v)));return t.selection.setRng(c),!0}var s,f,l,d,m,p,g,h,v,b,y,S,k;return!1})}(t,e)}function gt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(null,e)}}function Mo(t,e){return Gt((n=e,Xr(Tt(t,function(r){return ft({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:pt},r)}),function(r){return n.keyCode===r.keyCode&&n.shiftKey===r.shiftKey&&n.altKey===r.altKey&&n.ctrlKey===r.ctrlKey&&n.metaKey===r.metaKey?[r]:[]})),function(r){return r.action()});var n}function nb(t,e){var n=e?Kt.Forwards:Kt.Backwards,r=t.selection.getRng();return O0(t,n,r,Ao,To,He).exists(function(o){return Ln(t,o),!0})}function rb(t,e){var n=e?1:-1,r=t.selection.getRng();return B0(t,n,r,Ao,To,He).exists(function(o){return Ln(t,o),!0})}function ob(t,e){return P0(t,e,e?To:Ao)}function ib(t,e,n,r,o){var i,a=be(P.fromDom(n),"td,th,caption").map(function(f){return f.dom}),u=ht((i=t,Xr(a,function(f){var l,d={left:(l=kr(f.getBoundingClientRect())).left- -1,top:l.top- -1,right:l.right+-2,bottom:l.bottom+-2,width:l.width+-1,height:l.height+-1};return[{x:d.left,y:i(d),cell:f},{x:d.right,y:i(d),cell:f}]})),function(f){return e(f,o)}),c=r,s=o;return We(u,function(f,l){return f.fold(function(){return N.some(l)},function(d){var m=Math.sqrt(Math.abs(d.x-c)+Math.abs(d.y-s)),p=Math.sqrt(Math.abs(l.x-c)+Math.abs(l.y-s));return N.some(p<m?l:d)})},N.none()).map(function(f){return f.cell})}function ab(t,e,n){var r,o,i=t(e,n);return i.breakType===Pn.Wrap&&0===i.positions.length||!It(n.getNode())&&i.breakType===Pn.Br&&1===i.positions.length?(r=t,o=e,!i.breakAt.exists(function(a){return r(o,a).breakAt.isSome()})):i.breakAt.isNone()}function Aw(t,e,n,r){var o,i,a,u=t.selection.getRng(),c=e?1:-1;return!(!kg()||(o=e,i=n,a=M.fromRangeStart(u),!xo(!o,i).exists(function(s){return s.isEqual(a)}))||(Bn(c,t,n,!e,!1).each(function(s){Ln(t,s)}),0))}function ub(t,e,n){var o,i=(o=n.getNode(!!e),ct(o)&&"TABLE"===o.nodeName?N.some(o):N.none()),a=!1===e;i.fold(function(){return Ln(t,n.toRange())},function(u){return xo(a,t.getBody()).filter(function(c){return c.isEqual(n)}).fold(function(){return Ln(t,n.toRange())},function(c){var s,f,l=e,d=u,m=n;(f=oe(s=t))?s.undoManager.transact(function(){var p=P.fromTag(f);Un(p,fi(s)),Zt(p,P.fromTag("br")),(l?Xo:Xe)(P.fromDom(d),p);var g=s.dom.createRng();g.setStart(p.dom,0),g.setEnd(p.dom,0),Ln(s,g)}):Ln(s,m.toRange())})})}function Tw(t,e,n,r){var o,i,a,u,c,s,f,l,d,m,p=t.selection.getRng(),g=M.fromRangeStart(p),h=t.getBody();if(e||!Yw(r,g))return!(!e||!Gw(r,g)||(o=h,d=i=n,ub(t,e,v=mr((m=a=g).getClientRects()).bind(function(b){return Xw(d,b.left,b.top)}).bind(function(b){return _0(de(y=b).map(function(S){return[S].concat(Ai(y,S).positions)}).getOr([]),m);var y}).orThunk(function(){return ke(a.getClientRects()).bind(function(b){return lf(Cw(o,M.after(i)),b.left)})}).getOr(M.after(i))),0));var v=(u=h,f=c=n,ke((l=s=g).getClientRects()).bind(function(b){return Kw(f,b.left,b.top)}).bind(function(b){return _0(yn(y=b).map(function(S){return Di(y,S).positions.concat(S)}).getOr([]),l);var y}).orThunk(function(){return ke(s.getClientRects()).bind(function(b){return lf(yw(u,M.before(c)),b.left)})}).getOr(M.before(c)));return ub(t,e,v),!0}function sb(t,e,n){return N.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(function(r){return N.from(t.dom.getParent(r,"table")).map(function(o){return n(t,e,o,r)})}).getOr(!1)}function cb(t,e){return sb(t,e,Aw)}function lb(t,e){return sb(t,e,Tw)}function Ti(t,e){var n,r,o=e,i=t.dom,a=t.schema.getMoveCaretBeforeOnEnterElements();if(e){!/^(LI|DT|DD)$/.test(e.nodeName)||(r=function(s){for(;s;){if(1===s.nodeType||3===s.nodeType&&s.data&&/[\r\n\s]/.test(s.data))return s;s=s.nextSibling}}(e.firstChild))&&/^(UL|OL|DL)$/.test(r.nodeName)&&e.insertBefore(i.doc.createTextNode(xe),e.firstChild);var u=i.createRng();if(e.normalize(),e.hasChildNodes()){for(var c=new qt(e,e);n=c.current();){if(ot(n)){u.setStart(n,0),u.setEnd(n,0);break}if(a[n.nodeName.toLowerCase()]){u.setStartBefore(n),u.setEndBefore(n);break}o=n,n=c.next()}n||(u.setStart(o,0),u.setEnd(o,0))}else It(e)?e.nextSibling&&i.isBlock(e.nextSibling)?(u.setStartBefore(e),u.setEndBefore(e)):(u.setStartAfter(e),u.setEndAfter(e)):(u.setStart(e,0),u.setEnd(e,0));t.selection.setRng(u),Si(t,u)}}function yf(t){return N.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))}function fb(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e}function db(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)}function Ou(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t}function Bu(t,e,n){for(var r=t[n?"firstChild":"lastChild"];r&&!ct(r);)r=r[n?"nextSibling":"previousSibling"];return r===e}function Cf(t){t.innerHTML='<br data-mce-bogus="1">'}function xf(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e}function mb(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==t.getContentEditable(e)}function wf(t,e,n){return!1===ot(e)?n:t?1===n&&e.data.charAt(n-1)===ne?0:n:n===e.data.length-1&&e.data.charAt(n)===ne?e.data.length:n}function gb(t,e){for(var n,r=t.getRoot(),o=e;o!==r&&"false"!==t.getContentEditable(o);)"true"===t.getContentEditable(o)&&(n=o),o=o.parentNode;return o!==r?n:r}function Oi(t,e){var n=oe(t);n&&n.toLowerCase()===e.tagName.toLowerCase()&&function(r,o,i){var a=r.dom;N.from(i.style).map(a.parseStyle).each(function(s){var f=zd(P.fromDom(o)),l=ft(ft({},f),s);a.setStyles(o,l)}),ve(N.from(i.class).map(function(s){return s.split(/\s+/)}),N.from(o.className).map(function(s){return ht(s.split(/\s+/),function(f){return""!==f})}),function(s,f){var l=ht(f,function(m){return!Yt(s,m)}),d=Mn(Mn([],s,!0),l,!0);a.setAttrib(o,"class",d.join(" "))});var u=["style","class"],c=Vo(i,function(s,f){return!Yt(u,f)});a.setAttribs(o,c)}(t,e,fi(t))}function pb(t,e,n){var r=t.dom.createRng();n?(r.setStartBefore(e),r.setEndBefore(e)):(r.setStartAfter(e),r.setEndAfter(e)),t.selection.setRng(r),Si(t,r)}function Bw(t,e){var n=P.fromTag("br");Xe(P.fromDom(e),n),t.undoManager.add()}function Pw(t,e){Jw(t.getBody(),e)||Xo(P.fromDom(e),P.fromTag("br"));var n=P.fromTag("br");Xo(P.fromDom(e),n),pb(t,n.dom,!1),t.undoManager.add()}function hb(t){return t&&"A"===t.nodeName&&"href"in t}function Lw(t){return t.fold(Dt,hb,hb,Dt)}function Iw(t,e){e.fold(pt,et(Bw,t),et(Pw,t),pt)}function vb(t,e){var n,r,o,i=(r=et(Lr,n=t),o=M.fromRangeStart(n.selection.getRng()),xn(r,n.getBody(),o).filter(Lw));i.isSome()?i.each(et(Iw,t)):function(a,u){var c,s,l=a.dom,d=a.selection.getRng();za(l,d).each(function(S){d.setStart(S.startContainer,S.startOffset),d.setEnd(S.endContainer,S.endOffset)});var m,p=d.startOffset,g=d.startContainer;1===g.nodeType&&g.hasChildNodes()&&(m=p>g.childNodes.length-1,g=g.childNodes[Math.min(p,g.childNodes.length-1)]||g,p=m&&3===g.nodeType?g.nodeValue.length:0);var h=l.getParent(g,l.isBlock),v=h?l.getParent(h.parentNode,l.isBlock):null;"LI"!==(v?v.nodeName.toUpperCase():"")||!(!u||!u.ctrlKey)||(h=v),g&&3===g.nodeType&&p>=g.nodeValue.length&&!function(S){for(var k,C=new qt(g,h),x=S.getNonEmptyElements();k=C.next();)if(x[k.nodeName.toLowerCase()]||0<k.length)return 1}(a.schema)&&(c=l.create("br"),d.insertNode(c),d.setStartAfter(c),d.setEndAfter(c),s=!0),c=l.create("br"),pc(l,d,c),pb(a,c,s),a.undoManager.add()}(t,e)}function bb(t,e){return yf(t).filter(function(n){return 0<e.length&&Qr(P.fromDom(n),e)}).isSome()}function Mw(t,e){return bb(t,t.getParam("no_newline_selector",""))}function Sf(t){return function(e,n){return""===oe(e)===t}}function yb(t){return function(e,n){return yf(e).filter(function(r){return ei(P.fromDom(r))}).isSome()===t}}function Cb(t,e){return function(n,r){return yf(n).fold(nt(""),function(o){return o.nodeName.toUpperCase()})===t.toUpperCase()===e}}function Pu(t){return Cb("pre",t)}function Lu(t){return function(e,n){return e.getParam("br_in_pre",!0)===t}}function Fw(t,e){return bb(t,t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption"))}function Bi(t,e){return e}function xb(t){var e=oe(t),n=function(r,o){for(var i,a=r.getRoot(),u=o;u!==a&&"false"!==r.getContentEditable(u);)"true"===r.getContentEditable(u)&&(i=u),u=u.parentNode;return u!==a?i:a}(t.dom,t.selection.getStart());return n&&t.schema.isValidChild(n.nodeName,e||"P")}function Le(t,e){return function(n,r){return We(t,function(o,i){return o&&i(n,r)},!0)?N.some(e):N.none()}}function wb(t,e){var n,r;n=t,r=e,p0([Le([Mw],Ne.none()),Le([Cb("summary",!0)],Ne.br()),Le([Pu(!0),Lu(!1),Bi],Ne.br()),Le([Pu(!0),Lu(!1)],Ne.block()),Le([Pu(!0),Lu(!0),Bi],Ne.block()),Le([Pu(!0),Lu(!0)],Ne.br()),Le([yb(!0),Bi],Ne.br()),Le([yb(!0)],Ne.block()),Le([Sf(!0),Bi,xb],Ne.block()),Le([Sf(!0)],Ne.br()),Le([Fw],Ne.br()),Le([Sf(!1),Bi],Ne.br()),Le([xb],Ne.block())],[n,!(!r||!r.shiftKey)]).getOr(Ne.none()).fold(function(){vb(t,e)},function(){!function(t,e){function n(W){var it,V=m,G=f.getTextInlineElements(),K=W||"TABLE"===S||"HR"===S?s.create(W||g):b.cloneNode(!1),Z=K;if(!1===t.getParam("keep_styles",!0))s.setAttrib(K,"style",null),s.setAttrib(K,"class",null);else for(;G[V.nodeName]&&(pn(V)||Te(V)||(it=V.cloneNode(!1),s.setAttrib(it,"id",""),K.hasChildNodes()?it.appendChild(K.firstChild):Z=it,K.appendChild(it))),(V=V.parentNode)&&V!==Q;);return Oi(t,K),Cf(Z),K}function r(W){var it,V,G=wf(W,m,p);if(!ot(m)||!(W?0<G:G<m.nodeValue.length)){if(m.parentNode===b&&c&&!W||W&&ct(m)&&m===b.firstChild)return 1;if(xf(m,"TABLE")||xf(m,"HR"))return c&&!W||!c&&W;var K=new qt(m,b);for(ot(m)&&(W&&0===G?K.prev():W||G!==m.nodeValue.length||K.next());it=K.current();){if(ct(it)){if(!it.getAttribute("data-mce-bogus")&&(V=it.nodeName.toLowerCase(),l[V]&&"br"!==V))return}else if(ot(it)&&!Cr(it.nodeValue))return;W?K.prev():K.next()}return 1}}function o(){a=/^(H[1-6]|PRE|FIGURE)$/.test(S)&&"HGROUP"!==k?n(g):n(),t.getParam("end_container_on_empty_block",!1)&&mb(s,y)&&s.isEmpty(b)?a=s.split(y,b):s.insertAfter(a,b),Ti(t,a)}var i,a,u,c,s=t.dom,f=t.schema,l=f.getNonEmptyElements(),d=t.selection.getRng();za(s,d).each(function(W){d.setStart(W.startContainer,W.startOffset),d.setEnd(W.endContainer,W.endOffset)});var m=d.startContainer,p=d.startOffset,g=oe(t),h=!(!e||!e.shiftKey),v=!(!e||!e.ctrlKey);ct(m)&&m.hasChildNodes()&&(c=p>m.childNodes.length-1,m=m.childNodes[Math.min(p,m.childNodes.length-1)]||m,p=c&&ot(m)?m.nodeValue.length:0);var b,y,S,k,C,x,E,A,B,L,_,T,R,O,I,$,X,F,U,J,Q=gb(s,m);Q&&((g&&!h||!g&&h)&&(m=function(W,it,V,G){var K,Z,tt,yt,w,D,z=g||"P",j=W.dom,q=gb(j,V),Y=j.getParent(V,j.isBlock);if(!Y||!mb(j,Y)){if(w=((Y=Y||q)===W.getBody()||(D=Y)&&/^(TD|TH|CAPTION)$/.test(D.nodeName)?Y:Y.parentNode).nodeName.toLowerCase(),!Y.hasChildNodes())return Oi(W,K=j.create(z)),Y.appendChild(K),it.setStart(K,0),it.setEnd(K,0),K;for(tt=V;tt.parentNode!==Y;)tt=tt.parentNode;for(;tt&&!j.isBlock(tt);)tt=(Z=tt).previousSibling;if(Z&&W.schema.isValidChild(w,z.toLowerCase())){for(Oi(W,K=j.create(z)),Z.parentNode.insertBefore(K,Z),tt=Z;tt&&!j.isBlock(tt);)yt=tt.nextSibling,K.appendChild(tt),tt=yt;it.setStart(V,G),it.setEnd(V,G)}}return V}(t,d,m,p)),y=(b=s.getParent(m,s.isBlock))?s.getParent(b.parentNode,s.isBlock):null,S=b?b.nodeName.toUpperCase():"","LI"!==(k=y?y.nodeName.toUpperCase():"")||v||(y=(b=y).parentNode,S=k),/^(LI|DT|DD)$/.test(S)&&s.isEmpty(b)?(A=n,B=y,L=b,_=g,U=(E=t).dom,J=E.selection.getRng(),B!==E.getBody()&&(R=(_=db(T=B)&&db(T.parentNode)?"LI":_)?A(_):U.create("BR"),Bu(B,L,!0)&&Bu(B,L,!1)?fb(B,"LI")?(O=Ou(B),U.insertAfter(R,O),(null===(F=(X=B).parentNode)||void 0===F?void 0:F.firstChild)===X?U.remove(O):U.remove(B)):U.replace(R,B):(Bu(B,L,!0)?fb(B,"LI")?(U.insertAfter(R,Ou(B)),R.appendChild(U.doc.createTextNode(" ")),R.appendChild(B)):B.parentNode.insertBefore(R,B):Bu(B,L,!1)?U.insertAfter(R,Ou(B)):(B=Ou(B),(I=J.cloneRange()).setStartAfter(L),I.setEndAfter(B),$=I.extractContents(),"LI"===_&&$.firstChild&&"LI"===$.firstChild.nodeName?(R=$.firstChild,U.insertAfter($,B)):(U.insertAfter($,B),U.insertAfter(R,B))),U.remove(L)),Ti(E,R))):g&&b===t.getBody()||(g=g||"P",oo(b)?(a=Bs(b),s.isEmpty(b)&&Cf(b),Oi(t,a),Ti(t,a)):r()?o():r(!0)?(a=b.parentNode.insertBefore(n(),b),Ti(t,xf(b,"HR")?a:b)):((x=(C=d).cloneRange()).setStart(C.startContainer,wf(!0,C.startContainer,C.startOffset)),x.setEnd(C.endContainer,wf(!1,C.endContainer,C.endOffset)),(i=x.cloneRange()).setEndAfter(b),u=i.extractContents(),rt(Gm(P.fromDom(u),Ue),function(W){var it=W.dom;it.nodeValue=qn(it.nodeValue)}),function(W){for(;ot(W)&&(W.nodeValue=W.nodeValue.replace(/^[\r\n]+/,"")),W=W.firstChild;);}(u),a=u.firstChild,s.insertAfter(u,b),function(W,it){var V,G,K=a,Z=[];if(K){for(;K=K.firstChild;){if(W.isBlock(K))return;ct(K)&&!it[K.nodeName.toLowerCase()]&&Z.push(K)}for(V=Z.length;V--;)(!(K=Z[V]).hasChildNodes()||K.firstChild===K.lastChild&&""===K.firstChild.nodeValue||(G=K)&&"A"===G.nodeName&&W.isEmpty(G))&&W.remove(K)}}(s,l),function(W,it){it.normalize();var V=it.lastChild;V&&!/^(left|right)$/gi.test(W.getStyle(V,"float",!0))||W.add(it,"br")}(s,b),s.isEmpty(b)&&Cf(b),a.normalize(),s.isEmpty(a)?(s.remove(a),o()):(Oi(t,a),Ti(t,a))),s.setAttrib(a,"id",""),t.fire("NewBlock",{newBlock:a})))}(t,e)},pt)}function Sb(t){return t.stopImmediatePropagation()}function Eb(t){return t.keyCode===st.PAGE_UP||t.keyCode===st.PAGE_DOWN}function Nb(t,e,n){n&&!t.get()?e.on("NodeChange",Sb,!0):!n&&t.get()&&e.off("NodeChange",Sb),t.set(n)}function kb(t,e){var n=e.container(),r=e.offset();return ot(n)?(n.insertData(r,t),N.some(M(n,r+t.length))):Ra(e).map(function(o){var i=P.fromText(t);return(e.isAtEnd()?Xo:Xe)(o,i),M(i.dom,t.length)})}function zw(t){var e,n,r=M.fromRangeStart(t.selection.getRng()),o=P.fromDom(t.getBody());if(t.selection.isCollapsed()){var i=et(Lr,t),a=M.fromRangeStart(t.selection.getRng());return xn(i,t.getBody(),a).bind((n=o,function(u){return u.fold(function(c){return bn(n.dom,M.before(c))},function(c){return de(c)},function(c){return yn(c)},function(c){return en(n.dom,M.after(c))})})).bind(function(t,e){return function(n){return i=t,(!ll(a=n)&&(bn((r=i).dom,o=a).isNone()||en(r.dom,o).isNone()||Al(r,o)||Fh(r,o)||cl(r,o)||sl(r,o)||ah(i,a)||uh(i,a))?tS:eS)(e);var r,o,i,a}}(o,r)).exists((e=t,function(u){return e.selection.setRng(u.toRange()),e.nodeChanged(),!0}))}return!1}(Nu=Ir=Ir||{})[Nu.Up=-1]="Up",Nu[Nu.Down=1]="Down";var jw=et(R0,Ir.Up,vo,bo),Vw=et(R0,Ir.Down,bo,vo),qw=At,_b=Co,Ef=function(t,e){var n=t.selection.getRng(),r=t.getBody();if(e){var o=M.fromRangeEnd(n),i=Ai(r,o);return mr(i.positions)}return o=M.fromRangeStart(n),ke((i=Di(r,o)).positions)},$w=et(F0,!0),Ww=et(F0,!1),Rb=function(t){return ht(Tt(t.selection.getSelectedBlocks(),P.fromDom),function(e){return!V0(e)&&!Ke(e).exists(V0)&&ta(e,function(n){return sn(n.dom)||At(n.dom)}).exists(function(n){return sn(n.dom)})})},Db=At,Kw=et(ib,function(t){return t.bottom},function(t,e){return t.y<e}),Xw=et(ib,function(t){return t.top},function(t,e){return t.y>e}),Yw=et(ab,Di),Gw=et(ab,Ai),Jw=function(t,e){return n=M.after(e),!!It(n.getNode())||en(t,M.after(e)).map(function(r){return It(r.getNode())}).getOr(!1);var n},Ne=Hn([{br:[]},{block:[]},{none:[]}]),Qw=Me().browser,Zw=Me(),tS=et(kb,xe),eS=et(kb," "),nS=(Nf.prototype.nodeChanged=function(t){var e,n,r,o=this.editor.selection;this.editor.initialized&&o&&!this.editor.getParam("disable_nodechange")&&!this.editor.mode.isReadOnly()&&(r=this.editor.getBody(),(e=o.getStart(!0)||r).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(e,r)||(e=r),n=[],this.editor.dom.getParent(e,function(i){return i===r||void n.push(i)}),(t=t||{}).element=e,t.parents=n,this.editor.fire("NodeChange",t))},Nf.prototype.isSameElementPath=function(t){var e,n=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t);if(n.length===this.lastPath.length){for(e=n.length;0<=e&&n[e]===this.lastPath[e];e--);if(-1===e)return this.lastPath=n,!0}return this.lastPath=n,!1},Nf);function Nf(t){var e;this.lastPath=[],this.editor=t;var n=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",function(r){var o=t.selection.getRng(),i={startContainer:o.startContainer,startOffset:o.startOffset,endContainer:o.endContainer,endOffset:o.endOffset};"nodechange"!==r.type&&qc(i,e)||t.fire("SelectionChange"),e=i}),t.on("contextmenu",function(){t.fire("SelectionChange")}),t.on("SelectionChange",function(){var r=t.selection.getStart(!0);!r||!dt.range&&t.selection.isCollapsed()||Ma(t)&&!n.isSameElementPath(r)&&t.dom.isChildOf(r,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",function(r){!r.isDefaultPrevented()&&Ma(t)&&("IMG"===t.selection.getNode().nodeName?ee.setEditorTimeout(t,function(){t.nodeChanged()}):t.nodeChanged())})}function Ab(t){return ct(t)&&fm(P.fromDom(t))}function Tb(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:e.top+o.pageYOffset-r.clientTop,left:e.left+o.pageXOffset-r.clientLeft}}function Ob(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Iu(t,e){return Ro(t.getBody(),e)}function aS(t){function e(C){return C!==h&&(Mr(C)||He(C))&&p.isChildOf(C,h)}function n(C){return or(C)||ir(C)||Ao(C)||To(C)}function r(C){C&&m.setRng(C)}function o(C,x,E,A){return void 0===A&&(A=!0),t.fire("ShowCaret",{target:x,direction:C,before:E}).isDefaultPrevented()?null:(A&&m.scrollIntoView(x,-1===C),v.show(E,x))}function i(C){return Re(C)||ca(C)||la(C)}function a(C){return i(C.startContainer)||i(C.endContainer)}function u(C,x){if(!C)return null;if(C.collapsed){if(!a(C)){var E=x?1:-1,A=gi(E,h,C),B=A.getNode(!x);if(Rr(B))return o(E,B,!!x&&!A.isAtEnd(),!1);var L=A.getNode(x);if(Rr(L))return o(E,L,!x&&!A.isAtEnd(),!1)}return null}var _=C.startContainer,T=C.startOffset,R=C.endOffset;if(3===_.nodeType&&0===T&&Mr(_.parentNode)&&(T=p.nodeIndex(_=_.parentNode),_=_.parentNode),1!==_.nodeType)return null;if(R===T+1&&_===C.endContainer){var O=_.childNodes[T];if(e(O))return function(I){var $=I.cloneNode(!0),X=t.fire("ObjectSelected",{target:I,targetClone:$});if(X.isDefaultPrevented())return null;var F=function(J,Q,W){var it=t.$,V=na(P.fromDom(t.getBody()),"#"+b).fold(function(){return it([])},function(Z){return it([Z.dom])});0===V.length&&(V=it('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",b)).appendTo(t.getBody());var G=p.createRng();Q===W&&dt.ie?(V.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(Q),G.setStartAfter(V[0].firstChild.firstChild),G.setEndAfter(Q)):(V.empty().append(xe).append(Q).append(xe),G.setStart(V[0].firstChild,1),G.setEnd(V[0].lastChild,0)),V.css({top:p.getPos(J,t.getBody()).y}),V[0].focus();var K=m.getSel();return K.removeAllRanges(),K.addRange(G),G}(I,X.targetClone,$),U=P.fromDom(I);return rt(be(P.fromDom(t.getBody()),"*[data-mce-selected]"),function(J){kt(U,J)||zn(J,y)}),p.getAttrib(I,y)||I.setAttribute(y,"1"),s=I,k(),F}(O)}return null}function c(){s&&s.removeAttribute(y),na(P.fromDom(t.getBody()),"#"+b).each(Jt),s=null}var s,f,l,d,m=t.selection,p=t.dom,g=p.isBlock,h=t.getBody(),v=function(t,e,n,r){function o(){(function(){for(var f=be(P.fromDom(e),"*[contentEditable=false],video,audio,embed,object"),l=0;l<f.length;l++){var d,m=f[l].dom,p=m.previousSibling;la(p)&&(1===(d=p.data).length?p.parentNode.removeChild(p):p.deleteData(d.length-1,1)),ca(p=m.nextSibling)&&(1===(d=p.data).length?p.parentNode.removeChild(p):p.deleteData(0,1))}})(),a&&(Dr(a),a=null),u.on(function(f){mt(f.caret).remove(),u.clear()}),i&&(ee.clearInterval(i),i=void 0)}var i,a,u=po(),c=oe(t),s=0<c.length?c:"p";return{show:function(f,l){var d;if(o(),Z1(l))return null;if(!n(l))return a=function(g,h){var v=g.ownerDocument.createTextNode(ne),b=g.parentNode;if(h){if(uo(y=g.previousSibling)){if(Re(y))return y;if(la(y))return y.splitText(y.data.length-1)}b.insertBefore(v,g)}else{var y=g.nextSibling;if(uo(y)){if(Re(y))return y;if(ca(y))return y.splitText(1),y}g.nextSibling?b.insertBefore(v,g.nextSibling):b.appendChild(v)}return v}(l,f),d=l.ownerDocument.createRange(),pi(a.nextSibling)?(d.setStart(a,0),d.setEnd(a,0)):(d.setStart(a,1),d.setEnd(a,1)),d;a=function(g,h,v){var b,y=h.ownerDocument.createElement(g);y.setAttribute("data-mce-caret",v?"before":"after"),y.setAttribute("data-mce-bogus","all"),y.appendChild(((b=document.createElement("br")).setAttribute("data-mce-bogus","1"),b));var S=h.parentNode;return v?S.insertBefore(y,h):h.nextSibling?S.insertBefore(y,h.nextSibling):S.appendChild(y),y}(s,l,f);var m=Ng(e,l,f);mt(a).css("top",m.top);var p=mt('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(ft({},m)).appendTo(e)[0];return u.set({caret:p,element:l,before:f}),f&&mt(p).addClass("mce-visual-caret-before"),i=ee.setInterval(function(){r()?mt("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):mt("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")},500),(d=l.ownerDocument.createRange()).setStart(a,0),d.setEnd(a,0),d},hide:o,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){u.on(function(f){var l=Ng(e,f.element,f.before);mt(f.caret).css(ft({},l))})},destroy:function(){return ee.clearInterval(i)}}}(t,h,g,function(){return Tr(t)}),b="sel-"+p.uniqueId(),y="data-mce-selected",S=m.getRng,k=function(){v.hide()};return dt.ceFalse&&!On(t)&&(t.on("mouseup",function(C){var x=S();x.collapsed&&Av(t,C.clientX,C.clientY)&&i0(t,x,!1).each(r)}),t.on("click",function(C){var x=Iu(t,C.target);x&&(Mr(x)&&(C.preventDefault(),t.focus()),$b(x)&&p.isChildOf(x,m.getNode())&&c())}),t.on("blur NewBlock",c),t.on("ResizeWindow FullscreenStateChanged",v.reposition),t.on("tap",function(C){var x=C.target,E=Iu(t,x);Mr(E)?(C.preventDefault(),Lo(t,E).each(u)):e(x)&&Lo(t,x).each(u)},!0),t.on("mousedown",function(C){var x,E,A,B,L,_,T,R=C.target;R!==h&&"HTML"!==R.nodeName&&!p.isChildOf(R,h)||!1===Av(t,C.clientX,C.clientY)||((x=Iu(t,R))?Mr(x)?(C.preventDefault(),Lo(t,x).each(u)):(c(),$b(x)&&C.shiftKey||Hc(C.clientX,C.clientY,m.getRng())||(k(),m.placeCaretAt(C.clientX,C.clientY))):e(R)?Lo(t,R).each(u):!1===Rr(R)&&(c(),k(),(E=function(t,e,n){function r(s){return!to(s.node)&&!He(s.node)}var o,i,a,u=ff(ht(on(t.getElementsByTagName("*")),Rr));return(a=ku(ht(u,et(xw,n)),e,r))&&(a=ku(function(s,f,l){function d(p,g){var h=ht(ff([g]),function(v){return!p(v,f)});return m=m.concat(h),0===h.length}void 0===l&&(l=!0);var m=[];return m.push(f),T0(Ir.Up,s,et(d,vo),f.node,l),T0(Ir.Down,s,et(d,bo),f.node,l),m}(t,a,r(a)),e,r))&&Rr(a.node)?{node:(o=a).node,before:mf(o,i=e)<gf(o,i)}:null}(h,C.clientX,C.clientY))&&(B=E.node,_=p.getParent(A=R,g),T=p.getParent(B,g),!rn(_)&&(A!==T&&p.isChildOf(_,T)&&!1===Mr(Iu(t,_))||!p.isChildOf(T,_)&&(L=T,p.getParent(_,g)!==p.getParent(L,g))&&function(O){var I=O.firstChild;if(!rn(I)){var $=M.before(I);if(It($.getNode())&&1===O.childNodes.length)return!n($);var X=tn(O).next($);return X&&!n(X)}}(_))||(C.preventDefault(),r(o(1,E.node,E.before,!1)),t.getBody().focus()))))}),t.on("keypress",function(C){st.modifierPressed(C)||Mr(m.getNode())&&C.preventDefault()}),t.on("GetSelectionRange",function(C){var x=C.range;s&&(s.parentNode?((x=x.cloneRange()).selectNode(s),C.range=x):s=null)}),t.on("SetSelectionRange",function(C){var x,E,A,B,L,_,T;C.range=(x=C.range,E=t.schema.getShortEndedElements(),A=p.createRng(),L=x.startOffset,_=x.endContainer,T=x.endOffset,vt(E,(B=x.startContainer).nodeName.toLowerCase())?0===L?A.setStartBefore(B):A.setStartAfter(B):A.setStart(B,L),vt(E,_.nodeName.toLowerCase())?0===T?A.setEndBefore(_):A.setEndAfter(_):A.setEnd(_,T),A);var R=u(C.range,C.forward);R&&(C.range=R)}),t.on("AfterSetSelectionRange",function(C){var x=C.range,E=x.startContainer.parentNode;a(x)||"mcepastebin"===E.id||k(),p.hasClass(E,"mce-offscreen-selection")||c()}),t.on("copy",function(C){var x,E,A=C.clipboardData;C.isDefaultPrevented()||!C.clipboardData||dt.ie||(x=(E=p.get(b))&&E.getElementsByTagName("*")[0])&&(C.preventDefault(),A.clearData(),A.setData("text/html",x.outerHTML),A.setData("text/plain",x.outerText||x.innerText))}),function(t){var e,n;function r(a){var u;a.isDefaultPrevented()||(u=a.dataTransfer)&&(Yt(u.types,"Files")||0<u.files.length)&&(a.preventDefault(),"drop"===a.type&&mu(n,"Dropped file type is not supported"))}function o(a){$a(n,a.target)&&r(a)}function i(){var a=Nt.DOM,u=n.dom,c=document,s=n.inline?n.getBody():n.getDoc(),f=["drop","dragover"];rt(f,function(l){a.bind(c,l,o),u.bind(s,l,r)}),n.on("remove",function(){rt(f,function(l){a.unbind(c,l,o),u.unbind(s,l,r)})})}(function(t){var r,o,i,a,u,c,s=po(),f=Nt.DOM,l=document,d=function(t,e){var n=ee.throttle(function(r,o){e._selectionOverrides.hideFakeCaret(),e.selection.placeCaretAt(r,o)},0);return e.on("remove",n.stop),function(r){return t.on(function(o){var i,a,u,c,s,f,l,d,m,p,g,h,v,b,y,S,k,C,x,E,A=Math.max(Math.abs(r.screenX-o.screenX),Math.abs(r.screenY-o.screenY));if(!o.dragging&&10<A){if(e.fire("dragstart",{target:o.element}).isDefaultPrevented())return;o.dragging=!0,e.focus()}o.dragging&&(h=o,i={pageX:(y=r,S=(b=e).inline?Tb(b.getBody()):{left:0,top:0},E=(x=b).getBody(),k=x.inline?{left:E.scrollLeft,top:E.scrollTop}:{left:0,top:0},(v={pageX:(C=function(B,L){if(L.target.ownerDocument===B.getDoc())return{left:L.pageX,top:L.pageY};var _,T,R,$=Tb(B.getContentAreaContainer()),X=(T=(_=B).getBody(),R=_.getDoc().documentElement,_.inline?{left:T.scrollLeft,top:T.scrollTop}:{left:T.scrollLeft||R.scrollLeft,top:T.scrollTop||R.scrollTop});return{left:L.pageX-$.left+X.left,top:L.pageY-$.top+X.top}}(b,y)).left-S.left+k.left,pageY:C.top-S.top+k.top}).pageX-h.relX),pageY:v.pageY+5},p=o.ghost,g=e.getBody(),p.parentNode!==g&&g.appendChild(p),c=o.width,s=o.height,f=o.maxX,l=o.maxY,m=d=0,(a=o.ghost).style.left=(u=i).pageX+"px",a.style.top=u.pageY+"px",l<u.pageY+s&&(m=u.pageY+s-l),a.style.width=c-(d=f<u.pageX+c?u.pageX+c-f:d)+"px",a.style.height=s-m+"px",n(r.clientX,r.clientY))})}}(u=s,c=t),m=(r=i=s,function(){r.on(function(p){p.dragging&&o.fire("dragend")}),qb(r)});(o=a=t).on("mousedown",function(p){var g,h,v,b,y,S;0===p.button&&(g=Gt(c.dom.getParents(p.target),function(){for(var k=[],C=0;C<arguments.length;C++)k[C]=arguments[C];return function(x){for(var E=0;E<k.length;E++)if(k[E](x))return!0;return!1}}(Mu,mS)).getOr(null),y=c.getBody(),Mu(S=g)&&S!==y&&(h=c.dom.getPos(g),v=c.getBody(),b=c.getDoc().documentElement,u.set({element:g,dragging:!1,screenX:p.screenX,screenY:p.screenY,maxX:(c.inline?v.scrollWidth:b.offsetWidth)-2,maxY:(c.inline?v.scrollHeight:b.offsetHeight)-2,relX:p.pageX-h.x,relY:p.pageY-h.y,width:g.offsetWidth,height:g.offsetHeight,ghost:function(k,C,x){var E=c.dom,A=k.cloneNode(!0);E.setStyles(A,{width:C,height:x}),E.setAttrib(A,"data-mce-selected",null);var B=E.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return E.setStyles(B,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:C,height:x}),E.setStyles(A,{margin:0,boxSizing:"border-box"}),B.appendChild(A),B}(g,g.offsetWidth,g.offsetHeight)})))}),t.on("mousemove",d),t.on("mouseup",function(p){i.on(function(g){var h,v,b,y,S,k;g.dragging&&((y=3===(k=(b=a).selection.getSel().getRangeAt(0).startContainer).nodeType?k.parentNode:k)===(S=g.element)||b.dom.isChildOf(y,S)||Mu(y)||((v=g.element.cloneNode(!0)).removeAttribute("data-mce-selected"),h=v,a.fire("drop",{clientX:p.clientX,clientY:p.clientY}).isDefaultPrevented()||a.undoManager.transact(function(){Ob(g.element),a.insertContent(a.dom.getOuterHTML(h)),a._selectionOverrides.hideFakeCaret()})),a.fire("dragend"))}),qb(i)}),f.bind(l,"mousemove",d),f.bind(l,"mouseup",m),t.on("remove",function(){f.unbind(l,"mousemove",d),f.unbind(l,"mouseup",m)}),t.on("keydown",function(p){p.keyCode===st.ESC&&m()})})(t),(e=t).on("drop",function(a){var u=void 0!==a.clientX?e.getDoc().elementFromPoint(a.clientX,a.clientY):null;!Mu(u)&&"false"!==e.dom.getContentEditableParent(u)||a.preventDefault()}),t.getParam("block_unsupported_drop",!0,"boolean")&&(n=t).on("init",function(){ee.setEditorTimeout(n,i,0)})}(t),l=sc(function(){var C,x;f.removed||!f.getBody().contains(document.activeElement)||(C=f.selection.getRng()).collapsed&&(x=of(f,C,!1),f.selection.setRng(x))},0),(f=t).on("focus",function(){l.throttle()}),f.on("blur",function(){l.cancel()}),(d=t).on("init",function(){d.on("focusin",function(C){var x,E,A=C.target;He(A)&&(x=Ro(d.getBody(),A),E=At(x)?x:A,d.selection.getNode()!==E&&Lo(d,E).each(function(B){return d.selection.setRng(B)}))})})),{showCaret:o,showBlockCaretContainer:function(C){C.hasAttribute("data-mce-caret")&&(Bs(C),r(S()),m.scrollIntoView(C))},hideFakeCaret:k,destroy:function(){v.destroy(),s=null}}}function Bb(t){return Vo(t,function(e){return!1===Ce(e)})}function Pb(t){var e=t.settings,n=t.editorUpload.blobCache;return Bb({allow_conditional_comments:e.allow_conditional_comments,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_html_in_named_anchor:e.allow_html_in_named_anchor,allow_script_urls:e.allow_script_urls,allow_unsafe_link_target:e.allow_unsafe_link_target,convert_fonts_to_spans:e.convert_fonts_to_spans,fix_list_elements:e.fix_list_elements,font_size_legacy_values:e.font_size_legacy_values,forced_root_block:e.forced_root_block,forced_root_block_attrs:e.forced_root_block_attrs,padd_empty_with_br:e.padd_empty_with_br,preserve_cdata:e.preserve_cdata,remove_trailing_brs:e.remove_trailing_brs,inline_styles:e.inline_styles,root_name:t.inline?t.getElement().nodeName.toLowerCase():void 0,validate:!0,blob_cache:n,document:t.getDoc(),images_dataimg_filter:e.images_dataimg_filter})}function Lb(t){return(t.inline?t.ui:t.dom).styleSheetLoader}function Ib(t){function e(){o.unloadAll(a),t.inline||t.ui.styleSheetLoader.unloadAll(i)}function n(){t.removed?e():t.on("remove",e)}var r,o=Lb(t),i=bg(t),a=t.contentCSS;0<t.contentStyles.length&&(r="",H.each(t.contentStyles,function(v){r+=v+"\r\n"}),t.dom.addStyle(r));var u,c,s,f,l,d,m,p,g,h=te.all((u=t,c=a,s=i,f=[new te(function(v,b){return Lb(u).loadAll(c,v,b)})],u.inline?f:f.concat([new te(function(v,b){return u.ui.styleSheetLoader.loadAll(s,v,b)})]))).then(n).catch(n);return t.settings.content_style&&(d=(l=t).settings.content_style,m=P.fromDom(l.getBody()),p=hs(br(m)),un(g=P.fromTag("style"),"type","text/css"),Zt(g,P.fromText(d)),Zt(p,g),l.on("remove",function(){Jt(g)})),h}function kf(t){var e;!0!==t.removed&&(On(e=t)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),function(t){var e,n,r;t.bindPendingEventDelegates(),t.initialized=!0,t.fire("Init"),t.focus(!0),r=(n=t).dom.getRoot(),n.inline||Ma(n)&&n.selection.getStart(!0)!==r||de(r).each(function(o){var i,a,u,c,s=o.getNode(),f=to(s)?de(s).getOr(o):o;dt.browser.isIE()?(i=n,a=f.toRange(),u=P.fromDom(i.getBody()),c=(Pp(i)?N.from(a):N.none()).map(Lp).filter(Gc(u)),i.bookmark=c.isSome()?c:i.bookmark):n.selection.setRng(f.toRange())}),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),(e=t).settings.auto_focus&&ee.setEditorTimeout(e,function(){var o=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus);o.destroyed||o.focus()},100)}(t))}function _f(t,e){var n=t.settings,r=t.getElement(),o=t.getDoc();n.inline||(t.getElement().style.visibility=t.orgVisibility),e||t.inline||(o.open(),o.write(t.iframeHTML),o.close()),t.inline&&(Df.addClass(r,"mce-content-body"),t.contentDocument=o=document,t.contentWindow=window,t.bodyElement=r,t.contentAreaContainer=r);var i,a,u,c,s,f,l,d,m,p,g,h=t.getBody();h.disabled=!0,t.readonly=!!n.readonly,t.readonly||(t.inline&&"static"===Df.getStyle(h,"position",!0)&&(h.style.position="relative"),h.contentEditable=t.getParam("content_editable_state",!0)),h.disabled=!1,t.editorUpload=function(t){function e(b){return function(y){return t.selection?b(y):[]}}function n(b,y,S){for(var k=0;-1!==(k=b.indexOf(y,k))&&(b=b.substring(0,k)+S+b.substr(k+y.length),k+=S.length-y.length+1),-1!==k;);return b}function r(b,y,S){return b=n(b,'src="'+y+'"','src="'+S+'"'+(S===dt.transparentSrc?' data-mce-placeholder="1"':"")),n(b,'data-mce-src="'+y+'"','data-mce-src="'+S+'"')}function o(b,y){rt(t.undoManager.data,function(S){"fragmented"===S.type?S.fragments=Tt(S.fragments,function(k){return r(k,b,y)}):S.content=r(S.content,b,y)})}function i(b){return s=s||$v(t,p),v().then(e(function(y){var S=Tt(y,function(k){return k.blobInfo});return s.upload(S,qv(t)).then(e(function(k){var C=[],x=Tt(k,function(E,A){var L,_,T,R=y[A].blobInfo,O=y[A].image;return E.status&&t.getParam("images_replace_blob_uris",!0,"boolean")?(m.removeByUri(O.src),On(t)||(L=O,T=t.convertURL(_=E.url,"src"),o(L.src,_),t.$(L).attr({src:t.getParam("images_reuse_filename",!1,"boolean")?_+(-1===_.indexOf("?")?"?":"&")+(new Date).getTime():_,"data-mce-src":T}))):E.error&&(E.error.options.remove&&(o(O.getAttribute("src"),dt.transparentSrc),C.push(O)),mu(t,Qe.translate(["Failed to upload image: {0}",E.error.message]))),{element:O,status:E.status,uploadUri:E.url,blobInfo:R}});return 0<x.length&&h.fireIfChanged(),0<C.length&&(On(t)?console.error("Removing images on failed uploads is currently unsupported for RTC"):t.undoManager.transact(function(){rt(C,function(E){t.dom.remove(E),m.removeByUri(E.src)})})),b&&b(x),x}))}))}function a(b){if(mg(t))return i(b)}function u(b){return!1!==jo(g,function(y){return y(b)})&&(0!==b.getAttribute("src").indexOf("data:")||t.getParam("images_dataimg_filter",zt,"function")(b))}function c(b){return b.replace(/src="(blob:[^"]+)"/g,function(y,S){var k=p.getResultUri(S);if(k)return'src="'+k+'"';var C=(C=m.getByUri(S))||We(t.editorManager.get(),function(x,E){return x||E.editorUpload&&E.editorUpload.blobCache.getByUri(S)},null);return C?'src="data:'+C.blob().type+";base64,"+C.base64()+'"':y})}var s,f,l,d,m=function(){function t(o){return Gt(r,o).getOrUndefined()}function e(o){if(!o.blob||!o.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var i=o.id||Vv("blobid"),a=o.name||i,u=o.blob;return{id:nt(i),name:nt(a),filename:nt(o.filename||a+"."+({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[u.type.toLowerCase()]||"dat")),blob:nt(u),base64:nt(o.base64),blobUri:nt(o.blobUri||URL.createObjectURL(u)),uri:nt(o.uri)}}function n(o){return t(function(i){return i.id()===o})}var r=[];return{create:function(o,i,a,u,c){if(Ft(o))return e({id:o,name:u,filename:c,blob:i,base64:a});if(Wr(o))return e(o);throw new Error("Unknown input type")},add:function(o){n(o.id())||r.push(o)},get:n,getByUri:function(o){return t(function(i){return i.blobUri()===o})},getByData:function(o,i){return t(function(a){return a.base64()===o&&a.blob().type===i})},findFirst:t,removeByUri:function(o){r=ht(r,function(i){return i.blobUri()!==o||void URL.revokeObjectURL(i.blobUri())})},destroy:function(){rt(r,function(o){URL.revokeObjectURL(o.blobUri())}),r=[]}}}(),p=jv(),g=[],h=(d=ae(null),(l=t).on("change AddUndo",function(b){d.set(ft({},b.level))}),{fireIfChanged:function(){var b=l.undoManager.data;mr(b).filter(function(y){return!iu(d.get(),y)}).each(function(y){l.setDirty(!0),l.fire("change",{level:y,lastLevel:os(b,b.length-2).getOrNull()})})}}),v=function(){return(f=f||function(t,e){var n={};return{findAll:function(r,o){o=o||zt;var i=Tt(ht(r?on(r.getElementsByTagName("img")):[],function(a){var u=a.src;return dt.fileApi&&!a.hasAttribute("data-mce-bogus")&&!a.hasAttribute("data-mce-placeholder")&&u&&u!==dt.transparentSrc&&(0===u.indexOf("blob:")?!t.isUploaded(u)&&o(a):0===u.indexOf("data:")&&o(a))}),function(a){if(void 0!==n[a.src])return new te(function(c){n[a.src].then(function(s){return"string"==typeof s?s:void c({image:a,blobInfo:s.blobInfo})})});var u=new te(function(c,s){var f,l,d,m,p,g,v,b;f=e,d=c,m=s,0!==(l=a).src.indexOf("blob:")?(g=(p=Yl(l.src)).data,(b=f.getByData(v=g,p.type))?d({image:l,blobInfo:b}):Ev(l.src).then(function(y){b=f.create(Gl(),y,v),f.add(b),d({image:l,blobInfo:b})},function(y){m(y)})):(b=f.getByUri(l.src))?d({image:l,blobInfo:b}):Ev(l.src).then(function(y){var S=y;new te(function(k){var C=new FileReader;C.onloadend=function(){k(C.result)},C.readAsDataURL(S)}).then(function(k){v=Yl(k).data,b=f.create(Gl(),y,v),f.add(b),d({image:l,blobInfo:b})})},function(y){m(y)})}).then(function(c){return delete n[c.image.src],c}).catch(function(c){return delete n[a.src],c});return n[a.src]=u});return te.all(i)}}}(p,m)).findAll(t.getBody(),u).then(e(function(b){return b=ht(b,function(y){return"string"!=typeof y||void mu(t,y)}),On(t)||rt(b,function(y){o(y.image.src,y.blobInfo.blobUri()),y.image.src=y.blobInfo.blobUri(),y.image.removeAttribute("data-mce-src")}),b}))};return t.on("SetContent",function(){(mg(t)?a:v)()}),t.on("RawSaveContent",function(b){b.content=c(b.content)}),t.on("GetContent",function(b){b.source_view||"raw"===b.format||"tree"===b.format||(b.content=c(b.content))}),t.on("PostRender",function(){t.parser.addNodeFilter("img",function(b){rt(b,function(y){var S,k=y.attr("src");m.getByUri(k)||(S=p.getResultUri(k))&&y.attr("src",S)})})}),{blobCache:m,addFilter:function(b){g.push(b)},uploadImages:i,uploadImagesAuto:a,scanForImages:v,destroy:function(){m.destroy(),p.destroy(),f=s=null}}}(t),t.schema=Vn(n),t.dom=Nt(o,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:n.force_hex_style_colors,update_styles:!0,root_element:t.inline?t.getBody():null,collect:function(){return t.inline},schema:t.schema,contentCssCors:t.getParam("content_css_cors",!1,"boolean"),referrerPolicy:pg(t),onSetAttrib:function(_){t.fire("SetAttrib",_)}}),t.parser=((a=Jl(Pb(i=t),i.schema)).addAttributeFilter("src,href,style,tabindex",function(_,T){for(var R,O,I=_.length,$=i.dom,X="data-mce-"+T;I--;)(O=(R=_[I]).attr(T))&&!R.attr(X)&&0!==O.indexOf("data:")&&0!==O.indexOf("blob:")&&("style"===T?((O=$.serializeStyle($.parseStyle(O),R.name)).length||(O=null),R.attr(X,O),R.attr(T,O)):"tabindex"===T?(R.attr(X,O),R.attr(T,null)):R.attr(X,i.convertURL(O,T,R.name)))}),a.addNodeFilter("script",function(_){for(var T=_.length;T--;){var R=_[T],O=R.attr("type")||"no/type";0!==O.indexOf("mce-")&&R.attr("type","mce-"+O)}}),i.settings.preserve_cdata&&a.addNodeFilter("#cdata",function(_){for(var T=_.length;T--;){var R=_[T];R.type=8,R.name="#comment",R.value="[CDATA["+i.dom.encode(R.value)+"]]"}}),a.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(_){for(var T=_.length,R=i.schema.getNonEmptyElements();T--;){var O=_[T];O.isEmpty(R)&&0===O.getAll("br").length&&(O.append(new Ve("br",1)).shortEnded=!0)}}),a),t.serializer=kv((u=t.settings,ft(ft({},Pb(t)),Bb({url_converter:u.url_converter,url_converter_scope:u.url_converter_scope,element_format:u.element_format,entities:u.entities,entity_encoding:u.entity_encoding,indent:u.indent,indent_after:u.indent_after,indent_before:u.indent_before,block_elements:u.block_elements,boolean_attributes:u.boolean_attributes,custom_elements:u.custom_elements,extended_valid_elements:u.extended_valid_elements,invalid_elements:u.invalid_elements,invalid_styles:u.invalid_styles,move_caret_before_on_enter_elements:u.move_caret_before_on_enter_elements,non_empty_elements:u.non_empty_elements,schema:u.schema,self_closing_elements:u.self_closing_elements,short_ended_elements:u.short_ended_elements,special:u.special,text_block_elements:u.text_block_elements,text_inline_elements:u.text_inline_elements,valid_children:u.valid_children,valid_classes:u.valid_classes,valid_elements:u.valid_elements,valid_styles:u.valid_styles,verify_html:u.verify_html,whitespace_elements:u.whitespace_elements}))),t),t.selection=wv(t.dom,t.getWin(),t.serializer,t),t.annotator=op(t),t.formatter=Kv(t),t.undoManager=Yv(t),t._nodeChangeDispatcher=new nS(t),t._selectionOverrides=aS(t),d=t,m=po(),p=ae(!1),g=Lm(function(_){d.fire("longpress",ft(ft({},_),{type:"longpress"})),p.set(!0)},400),d.on("touchstart",function(_){K0(_).each(function(T){g.cancel();var R={x:T.clientX,y:T.clientY,target:_.target};g.throttle(_),p.set(!1),m.set(R)})},!0),d.on("touchmove",function(_){g.cancel(),K0(_).each(function(T){m.on(function(R){var O=T,I=R,$=Math.abs(O.clientX-I.x),X=Math.abs(O.clientY-I.y);(5<$||5<X)&&(m.clear(),p.set(!1),d.fire("longpresscancel"))})})},!0),d.on("touchend touchcancel",function(_){g.cancel(),"touchcancel"!==_.type&&m.get().filter(function(T){return T.target.isEqualNode(_.target)}).each(function(){p.get()?_.preventDefault():d.fire("tap",ft(ft({},_),{type:"tap"}))})},!0),(f=s=t).on("click",function(_){f.dom.getParent(_.target,"details")&&_.preventDefault()}),(l=s).parser.addNodeFilter("details",function(_){rt(_,function(T){T.attr("data-mce-open",T.attr("open")),T.attr("open","open")})}),l.serializer.addNodeFilter("details",function(_){rt(_,function(T){var R=T.attr("data-mce-open");T.attr("open",Ft(R)?R:null),T.attr("data-mce-open",null)})}),On(t)||(c=t).on("click",function(_){var T,R,O,I,$;3<=_.detail&&(O=(T=c).selection.getRng(),I=M.fromRangeStart(O),$=M.fromRangeEnd(O),!M.isElementPosition(I)||Ab(R=I.container())&&de(R).each(function(X){return O.setStart(X.container(),X.offset())}),!M.isElementPosition($)||Ab(R=I.container())&&yn(R).each(function(X){return O.setEnd(X.container(),X.offset())}),T.selection.setRng(bl(O)))});var v,b,y,S,k,C,x,E,A,B=On(v=t)?ae(null):function(t){var e,n,r,o,i,a,u,c,s,f,l,d,m,p,g=function(t){var e=ae(null),n=et(Lr,t);return t.on("NodeChange",function(r){var o,i,a,u,c,f,l,d,m,p,g,h;!mi(t)||dt.browser.isIE()&&r.initial||(c=n,f=r.parents,rt(Gf(l=ht(Tt(be(P.fromDom(t.dom.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(v){return v.dom}),c),d=ht(f,c)),et(L0,!1)),rt(Gf(d,l),et(L0,!0)),p=e,(m=t).selection.isCollapsed()&&!0!==m.composing&&p.get()&&(g=M.fromRangeStart(m.selection.getRng()),M.isTextPosition(g)&&!1===(Ts(h=g)||Os(h))&&(_u(m,K1(p.get(),g)),p.set(null))),o=n,a=e,u=r.parents,(i=t).selection.isCollapsed()&&rt(ht(u,o),function(v){var b=M.fromRangeStart(i.selection.getRng());xn(o,i.getBody(),b).bind(function(y){return I0(i,a,y)})}))}),e}(t);return t.on("keyup compositionstart",et(_w,t)),p=g,(m=t).on("keydown",function(h){var v,b,y,S;!1===h.isDefaultPrevented()&&(v=m,b=p,y=h,S=Me().os,Mo([{keyCode:st.RIGHT,action:gt(G0,v,!0)},{keyCode:st.LEFT,action:gt(G0,v,!1)},{keyCode:st.UP,action:gt(J0,v,!1)},{keyCode:st.DOWN,action:gt(J0,v,!0)},{keyCode:st.RIGHT,action:gt(cb,v,!0)},{keyCode:st.LEFT,action:gt(cb,v,!1)},{keyCode:st.UP,action:gt(lb,v,!1)},{keyCode:st.DOWN,action:gt(lb,v,!0)},{keyCode:st.RIGHT,action:gt(nb,v,!0)},{keyCode:st.LEFT,action:gt(nb,v,!1)},{keyCode:st.UP,action:gt(rb,v,!1)},{keyCode:st.DOWN,action:gt(rb,v,!0)},{keyCode:st.RIGHT,action:gt(M0,v,b,!0)},{keyCode:st.LEFT,action:gt(M0,v,b,!1)},{keyCode:st.RIGHT,ctrlKey:!S.isOSX(),altKey:S.isOSX(),action:gt($w,v,b)},{keyCode:st.LEFT,ctrlKey:!S.isOSX(),altKey:S.isOSX(),action:gt(Ww,v,b)},{keyCode:st.UP,action:gt(eb,v,!1)},{keyCode:st.DOWN,action:gt(eb,v,!0)}],y).each(function(k){y.preventDefault()}))}),d=g,(l=t).on("keydown",function(h){var v,b,y;!1===h.isDefaultPrevented()&&(b=d,y=h,Mo([{keyCode:st.BACKSPACE,action:gt($0,v=l,!1)},{keyCode:st.BACKSPACE,action:gt(bu,v,!1)},{keyCode:st.DELETE,action:gt(bu,v,!0)},{keyCode:st.BACKSPACE,action:gt(vu,v,!1)},{keyCode:st.DELETE,action:gt(vu,v,!0)},{keyCode:st.BACKSPACE,action:gt(Du,v,b,!1)},{keyCode:st.DELETE,action:gt(Du,v,b,!0)},{keyCode:st.BACKSPACE,action:gt(tu,v,!1)},{keyCode:st.DELETE,action:gt(tu,v,!0)},{keyCode:st.BACKSPACE,action:gt(yu,v,!1)},{keyCode:st.DELETE,action:gt(yu,v,!0)},{keyCode:st.BACKSPACE,action:gt(Tu,v,!1)},{keyCode:st.DELETE,action:gt(Tu,v,!0)},{keyCode:st.BACKSPACE,action:gt(hu,v,!1)},{keyCode:st.DELETE,action:gt(hu,v,!0)},{keyCode:st.BACKSPACE,action:gt(pu,v,!1)},{keyCode:st.DELETE,action:gt(pu,v,!0)},{keyCode:st.BACKSPACE,action:gt(Au,v,!1)},{keyCode:st.DELETE,action:gt(Au,v,!0)}],y).each(function(S){y.preventDefault()}))}),l.on("keyup",function(h){var v,b;!1===h.isDefaultPrevented()&&(b=h,Mo([{keyCode:st.BACKSPACE,action:gt(c0,v=l)},{keyCode:st.DELETE,action:gt(c0,v)}],b))}),(f=t).on("keydown",function(h){var v,b,y;h.keyCode===st.ENTER&&(v=f,(b=h).isDefaultPrevented()||(b.preventDefault(),(y=v.undoManager).typing&&(y.typing=!1,y.add()),v.undoManager.transact(function(){!1===v.selection.isCollapsed()&&v.execCommand("Delete"),wb(v,b)})))}),(s=t).on("keydown",function(h){var v;!1===h.isDefaultPrevented()&&(v=h,Mo([{keyCode:st.SPACEBAR,action:gt(zw,s)}],v).each(function(b){v.preventDefault()}))}),u=a=t,c=sc(function(){u.composing||lh(u)},0),Qw.isIE()&&(u.on("keypress",function(h){c.throttle()}),u.on("remove",function(h){c.cancel()})),a.on("input",function(h){!1===h.isComposing&&lh(a)}),i=g,(o=t).on("keydown",function(h){var v,b,y;!1===h.isDefaultPrevented()&&(b=i,y=h,Mo([{keyCode:st.END,action:gt(Q0,v=o,!0)},{keyCode:st.HOME,action:gt(Q0,v,!1)},{keyCode:st.END,action:gt(ob,v,!0)},{keyCode:st.HOME,action:gt(ob,v,!1)},{keyCode:st.END,action:gt(Ru,v,!0,b)},{keyCode:st.HOME,action:gt(Ru,v,!1,b)}],y).each(function(S){y.preventDefault()}))}),e=t,n=g,Zw.os.isOSX()||(r=ae(!1),e.on("keydown",function(h){Eb(h)&&Nb(r,e,!0)}),e.on("keyup",function(h){var v,b,y;!1===h.isDefaultPrevented()&&(y=h,Mo([{keyCode:st.PAGE_UP,action:gt(Ru,v=e,!1,b=n)},{keyCode:st.PAGE_DOWN,action:gt(Ru,v,!0,b)}],y)),Eb(h)&&r.get()&&(Nb(r,e,!1),e.nodeChanged())})),g}(v);A=B,(E=t).addCommand("delete",function(){var _,T=A;$0(_=E)||bu(_,!1)||vu(_,!1)||Du(_,T,!1)||pu(_,!1)||tu(_)||yu(_,!1)||Tu(_,!1)||hu(_)||Au(_,!1)||(W0(_,"Delete"),Qv(_))}),E.addCommand("forwardDelete",function(){var _,T=A;bu(_=E,!0)||vu(_,!0)||Du(_,T,!0)||pu(_,!0)||tu(_)||yu(_,!0)||Tu(_,!0)||hu(_)||Au(_,!0)||W0(_,"ForwardDelete")}),oe(b=t)&&b.on("NodeChange",et(kw,b)),S=(y=t).dom,k=oe(y),C=y.getParam("placeholder",Y1.getAttrib(y.getElement(),"placeholder"),"string"),x=function(_,T){var R,O,I;!function($){if(Gv($)){var X=$.keyCode;return!Jv($)&&(st.metaKeyPressed($)||$.altKey||112<=X&&X<=123||Yt(dw,X))}}(_)&&(R=y.getBody(),O=!(Gv(I=_)&&!(Jv(I)||"keyup"===I.type&&229===I.keyCode))&&function($,X,F){if($t(P.fromDom(X),!1)){var U=""===F,J=X.firstElementChild;return!J||!$.getStyle(X.firstElementChild,"padding-left")&&!$.getStyle(X.firstElementChild,"padding-right")&&(U?!$.isBlock(J):F===J.nodeName.toLowerCase())}return!1}(S,R,k),""!==S.getAttrib(R,x0)===O&&!T||(S.setAttrib(R,x0,O?C:null),S.setAttrib(R,"aria-placeholder",O?C:null),y.fire("PlaceholderToggle",{state:O}),y.on(O?"keydown":"keyup",x),y.off(O?"keyup":"keydown",x)))},C&&y.on("init",function(_){x(_,!0),y.on("change SetContent ExecCommand",x),y.on("paste",function(T){return ee.setEditorTimeout(y,function(){return x(T)})})});var L=function(t){var e=t;return Ht(t.plugins,"rtc").bind(function(n){return N.from(n.setup)}).fold(function(){return e.rtcInstance=mv(t),N.none()},function(n){var r,o;return e.rtcInstance=(r=nt(null),o=nt(""),{undoManager:{beforeChange:pt,add:r,undo:r,redo:r,clear:pt,reset:pt,hasUndo:Dt,hasRedo:Dt,transact:r,ignore:pt,extra:pt},formatter:{match:Dt,matchAll:nt([]),matchNode:nt(void 0),canApply:Dt,closest:o,apply:pt,remove:pt,toggle:pt,formatChanged:nt({unbind:pt})},editor:{getContent:o,setContent:o,insertContent:pt,addVisual:pt},selection:{getContent:o},raw:{getModel:nt(N.none())}}),N.some(function(){return n().then(function(i){return e.rtcInstance=(f=i.selection,l=i.raw,{undoManager:{beforeChange:(u=i.undoManager).beforeChange,add:u.add,undo:u.undo,redo:u.redo,clear:u.clear,reset:u.reset,hasUndo:u.hasUndo,hasRedo:u.hasRedo,transact:function(d,m,p){return u.transact(p)},ignore:function(d,m){return u.ignore(m)},extra:function(d,m,p,g){return u.extra(p,g)}},formatter:{match:function(d,m,p,g){return c.match(d,a(m),g)},matchAll:(c=i.formatter).matchAll,matchNode:c.matchNode,canApply:function(d){return c.canApply(d)},closest:function(d){return c.closest(d)},apply:function(d,m,p){return c.apply(d,a(m))},remove:function(d,m,p,g){return c.remove(d,a(m))},toggle:function(d,m,p){return c.toggle(d,a(m))},formatChanged:function(d,m,p,g,h){return c.formatChanged(m,p,g,h)}},editor:{getContent:function(d,m){return s.getContent(d)},setContent:function(d,m){return s.setContent(d,m)},insertContent:function(d,m){return s.insertContent(d)},addVisual:(s=i.editor).addVisual},selection:{getContent:function(d,m){return f.getContent(m)}},raw:{getModel:function(){return N.some(l.getRawModel())}}}),i.rtc.isRemote;function a(d){return Wr(d)?d:{}}var u,c,s,f,l})})})}(t);(function(_){var T=_.settings,R=_.getDoc(),O=_.getBody();_.fire("PreInit"),T.browser_spellcheck||T.gecko_spellcheck||(R.body.spellcheck=!1,Df.setAttrib(O,"spellcheck","false")),_.quirks=function(t){function e(R,O){try{t.getDoc().execCommand(R,!1,O)}catch(I){}}function n(R){return R.isDefaultPrevented()}function r(){t.shortcuts.add("meta+a",null,"SelectAll")}function o(){t.inline||b.bind(t.getDoc(),"mousedown mouseup",function(R){var O;R.target===t.getDoc().documentElement&&(O=y.getRng(),t.getBody().focus(),"mousedown"===R.type?Re(O.startContainer)||y.placeCaretAt(R.clientX,R.clientY):y.setRng(O))})}function i(){Range.prototype.getClientRects||t.on("mousedown",function(R){var O;n(R)||"HTML"!==R.target.nodeName||((O=t.getBody()).blur(),ee.setEditorTimeout(t,function(){O.focus()}))})}function a(){t.on("click",function(R){var O=R.target;/^(IMG|HR)$/.test(O.nodeName)&&"false"!==b.getContentEditableParent(O)&&(R.preventDefault(),t.selection.select(O),t.nodeChanged()),"A"===O.nodeName&&b.hasClass(O,"mce-item-anchor")&&(R.preventDefault(),y.select(O))})}function u(){t.on("keydown",function(R){if(!n(R)&&R.keyCode===h&&y.isCollapsed()&&0===y.getRng().startOffset){var O=y.getNode().previousSibling;if(O&&O.nodeName&&"table"===O.nodeName.toLowerCase())return R.preventDefault(),!1}})}function c(){t.getParam("readonly")||t.on("BeforeExecCommand mousedown",function(){e("StyleWithCSS",!1),e("enableInlineTableEditing",!1),yg(t)||e("enableObjectResizing",!1)})}function s(){t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function f(){t.inline||t.on("keydown",function(){document.activeElement===document.body&&t.getWin().focus()})}function l(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",function(R){var O;"HTML"===R.target.nodeName&&(11<dt.ie?t.getBody().focus():(O=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(O),t.selection.normalize(),t.nodeChanged()))}))}function d(){dt.mac&&t.on("keydown",function(R){!st.metaKeyPressed(R)||R.shiftKey||37!==R.keyCode&&39!==R.keyCode||(R.preventDefault(),t.selection.getSel().modify("move",37===R.keyCode?"backward":"forward","lineboundary"))})}function m(){t.on("click",function(R){var O=R.target;do{if("A"===O.tagName)return void R.preventDefault()}while(O=O.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function p(){t.on("init",function(){t.dom.bind(t.getBody(),"submit",function(R){R.preventDefault()})})}var g=H.each,h=st.BACKSPACE,v=st.DELETE,b=t.dom,y=t.selection,S=t.parser,k=dt.gecko,x=dt.webkit,E="data:text/mce-internal,",A=dt.ie?"Text":"URL",B=pt;return On(t)?(x&&(o(),a(),p(),r(),dt.iOS&&(f(),l(),m())),k&&(i(),c(),s(),d())):(t.on("keydown",function(R){if(!n(R)&&R.keyCode===st.BACKSPACE){var O,I=(O=y.getRng()).startContainer,$=O.startOffset,X=b.getRoot(),F=I;if(O.collapsed&&0===$){for(;F&&F.parentNode&&F.parentNode.firstChild===F&&F.parentNode!==X;)F=F.parentNode;"BLOCKQUOTE"===F.tagName&&(t.formatter.toggle("blockquote",null,F),(O=b.createRng()).setStart(I,0),O.setEnd(I,0),y.setRng(O))}}}),t.on("keydown",function(R){var O,I,$,X,F=R.keyCode;n(R)||F!==v&&F!==h||(O=t.selection.isCollapsed(),I=t.getBody(),O&&!b.isEmpty(I)||!O&&($=T(t.selection.getRng()),(X=b.createRng()).selectNode(t.getBody()),$!==T(X))||(R.preventDefault(),t.setContent(""),I.firstChild&&b.isBlock(I.firstChild)?t.selection.setCursorLocation(I.firstChild,0):t.selection.setCursorLocation(I,0),t.nodeChanged()))}),dt.windowsPhone||t.on("keyup focusin mouseup",function(R){st.modifierPressed(R)||y.normalize()},!0),x&&(o(),a(),oe(t)&&t.on("init",function(){e("DefaultParagraphSeparator",oe(t))}),p(),u(),S.addNodeFilter("br",function(R){for(var O=R.length;O--;)"Apple-interchange-newline"===R[O].attr("class")&&R[O].remove()}),dt.iOS?(f(),l(),m()):r()),11<=dt.ie&&(l(),u()),dt.ie&&(r(),e("AutoUrlDetect",!1),t.on("dragstart",function(R){var O,I,$;(O=R).dataTransfer&&(t.selection.isCollapsed()&&"IMG"===O.target.tagName&&y.select(O.target),0<(I=t.selection.getContent()).length&&($=E+escape(t.id)+","+escape(I),O.dataTransfer.setData(A,$)))}),t.on("drop",function(R){var O,I,$,X;n(R)||(O=R.dataTransfer&&(X=R.dataTransfer.getData(A))&&0<=X.indexOf(E)?(X=X.substr(E.length).split(","),{id:unescape(X[0]),html:unescape(X[1])}):null)&&O.id!==t.id&&(R.preventDefault(),I=Vc(R.x,R.y,t.getDoc()),y.setRng(I),$=O.html,t.queryCommandSupported("mceInsertClipboardContent")?t.execCommand("mceInsertClipboardContent",!1,{content:$,internal:!0}):t.execCommand("mceInsertContent",!1,$))})),k&&(t.on("keydown",function(R){if(!n(R)&&R.keyCode===h&&t.getBody().getElementsByTagName("hr").length&&y.isCollapsed()&&0===y.getRng().startOffset){var O=y.getNode(),I=O.previousSibling;if("HR"===O.nodeName)return b.remove(O),void R.preventDefault();I&&I.nodeName&&"hr"===I.nodeName.toLowerCase()&&(b.remove(I),R.preventDefault())}}),i(),t.on("keypress",function(R){var O;if(!n(R)&&(8===R.keyCode||46===R.keyCode)&&_())return O=L(),t.getDoc().execCommand("delete",!1,null),O(),R.preventDefault(),!1}),b.bind(t.getDoc(),"cut",function(R){var O;!n(R)&&_()&&(O=L(),ee.setEditorTimeout(t,function(){O()}))}),c(),t.on("SetContent ExecCommand",function(R){"setcontent"!==R.type&&"mceInsertLink"!==R.command||g(b.select("a"),function(O){var I=O.parentNode,$=b.getRoot();if(I.lastChild===O){for(;I&&!b.isBlock(I);){if(I.parentNode.lastChild!==I||I===$)return;I=I.parentNode}b.add(I,"br",{"data-mce-bogus":1})}})}),s(),d(),u())),{refreshContentEditable:B,isHidden:function(){if(!k||t.removed)return!1;var R=t.selection.getSel();return!R||!R.rangeCount||0===R.rangeCount}};function L(){var R=b.getAttribs(y.getStart().cloneNode(!1));return function(){var O=y.getStart();O!==t.getBody()&&(b.setAttrib(O,"style",null),g(R,function(I){O.setAttributeNode(I.cloneNode(!0))}))}}function _(){return!y.isCollapsed()&&b.getParent(y.getStart(),b.isBlock)!==b.getParent(y.getEnd(),b.isBlock)}function T(R){var O=b.create("body"),I=R.cloneContents();return O.appendChild(I),y.serializer.serialize(O,{format:"html"})}}(_),_.fire("PostRender");var I=_.getParam("directionality",Qe.isRtl()?"rtl":void 0);void 0!==I&&(O.dir=I),T.protect&&_.on("BeforeSetContent",function($){H.each(T.protect,function(X){$.content=$.content.replace(X,function(F){return"\x3c!--mce:protected "+escape(F)+"--\x3e"})})}),_.on("SetContent",function(){_.addVisual(_.getBody())}),_.on("compositionstart compositionend",function($){_.composing="compositionstart"===$.type})})(t),L.fold(function(){Ib(t).then(function(){return kf(t)})},function(_){t.setProgressState(!0),Ib(t).then(function(){_().then(function(T){t.setProgressState(!1),kf(t)},function(T){t.notificationManager.open({type:"error",text:String(T)}),kf(t)})})})}function Mb(t){return t.replace(/^\-/,"")}function Fb(t){return{editorContainer:t,iframeContainer:t,api:{}}}function Ub(t){var e,n,r,o,i,a,u,c;t.fire("ScriptsLoaded"),n=H.trim(gg(e=t)),r=e.ui.registry.getAll().icons,Bt(ft(ft({},du.get("default").icons),du.get(n).icons),function(v,b){vt(r,b)||e.ui.registry.addIcon(b,v)}),a=di(o=t),Ft(a)?(o.settings.theme=Mb(a),i=ar.get(a),o.theme=new i(o,ar.urls[a]),o.theme.init&&o.theme.init(o,ar.urls[a]||o.documentBaseUrl.replace(/\/$/,""),o.$)):o.theme={},c=[],H.each(vc(u=t).split(/[ ,]/),function(v){Kb(u,c,Mb(v))});var s=function(t){var e,n,r,o,i,a,u,c=t.getElement();return t.orgDisplay=c.style.display,Ft(di(t))?t.theme.renderUI():Ot(di(t))?(n=(e=t).getElement(),(r=di(e)(e,n)).editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight||n.offsetHeight,r):(u=(o=t).getElement(),o.inline?Fb(null):(i=u,a=Wb.create("div"),Wb.insertAfter(a,i),Fb(a)))}(t),f=t,l=N.from(s.api).getOr({}),d={show:N.from(l.show).getOr(pt),hide:N.from(l.hide).getOr(pt),disable:N.from(l.disable).getOr(pt),isDisabled:N.from(l.isDisabled).getOr(Dt),enable:function(){f.mode.isReadOnly()||N.from(l.enable).map(Cy)}};f.ui=ft(ft({},f.ui),d);var m,p,g,h={editorContainer:s.editorContainer,iframeContainer:s.iframeContainer};return t.editorContainer=h.editorContainer||null,function(t){var e,n;t.contentCSS=t.contentCSS.concat(C0(t,(n=(e=t).getParam("content_css"),Ft(n)?Tt(n.split(","),ds):Ie(n)?n:!1===n||e.inline?[]:["default"])),C0(t,bg(t)))}(t),t.inline?_f(t):(g=function(t,e){var n,r,o,i,a=t.translate("Rich Text Area"),u=(n=t.id,r=a,o=t.getParam("iframe_attrs",{}),Un(i=P.fromTag("iframe"),o),Un(i,{id:n+"_ifr",frameBorder:"0",allowTransparency:"true",title:r}),wa(i,"tox-edit-area__iframe"),i.dom);u.onload=function(){u.onload=null,t.fire("load")};var c=function(s,f){if(document.domain!==window.location.hostname&&dt.browser.isIE()){var l=Vv("mce");s[l]=function(){_f(s)};var d='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+s.id+'");document.write(ed.iframeHTML);document.close();ed.'+l+"(true);})()";return Pi.setAttrib(f,"src",d),!0}return!1}(t,u);return t.contentAreaContainer=e.iframeContainer,t.iframeElement=u,t.iframeHTML=function(s){var f=s.getParam("doctype","<!DOCTYPE html>")+"<html><head>";s.getParam("document_base_url","")!==s.documentBaseUrl&&(f+='<base href="'+s.documentBaseURI.getURI()+'" />'),f+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var l=fg(s,"body_id","tinymce"),d=fg(s,"body_class",""),m=s.translate(s.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string"));return dg(s)&&(f+='<meta http-equiv="Content-Security-Policy" content="'+dg(s)+'" />'),f+'</head><body id="'+l+'" class="mce-content-body '+d+'" data-id="'+s.id+'" aria-label="'+m+'"><br></body></html>'}(t),Pi.add(e.iframeContainer,u),c}(m=t,p=h),p.editorContainer&&(Pi.get(p.editorContainer).style.display=m.orgDisplay,m.hidden=Pi.isHidden(p.editorContainer)),m.getElement().style.display="none",Pi.setAttrib(m.id,"aria-hidden","true"),void(g||_f(m)))}function zb(t){return"-"===t.charAt(0)}function Hb(t,e,n){return N.from(e).filter(function(r){return 0<r.length&&!du.has(r)}).map(function(r){return{url:t.editorManager.baseURL+"/icons/"+r+"/icons"+n+".js",name:N.some(r)}})}function jb(t){return function(e,n){return N.from(n).map(P.fromDom).filter(Ye).bind(function(r){return o=t,i=e,wl(P.fromDom(r.dom),function(c){return ys(s=c,o).orThunk(function(){return"font"===jt(s)?Ht(gS,o).bind(function(f){return Ud(s,f)}):N.none()});var s},function(c){return kt(P.fromDom(i),c)}).or(N.from(Nt.DOM.getStyle(r.dom,t,!0)));var o,i}).getOr("")}}function dS(t){return de(t.getBody()).map(function(e){var n=e.container();return ot(n)?n.parentNode:n})}function Rf(t,e){return n=t,r=jf(N.some,e),N.from((o=n).selection.getRng()).bind(function(i){var a=o.getBody();return i.startContainer===a&&0===i.startOffset?N.none():N.from(o.selection.getStart(!0))}).orThunk(et(dS,n)).map(P.fromDom).filter(Ye).bind(r);var n,r,o}function Vb(t,e){if(/^[0-9.]+$/.test(e)){var n=parseInt(e,10);if(1<=n&&n<=7){var r=H.explode(t.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large")),o=H.explode(t.getParam("font_size_classes",""));return o?o[n-1]||e:r[n-1]||e}return e}return e}var Mu=At,mS=sn,qb=function(t){t.on(function(e){Ob(e.ghost)}),t.clear()},$b=sn,Mr=At,Df=Nt.DOM,Pi=Nt.DOM,Wb=Nt.DOM,Kb=function(t,e,n){var r,i,a,u=nn.get(n),c=nn.urls[n]||t.documentBaseUrl.replace(/\/$/,"");if(n=H.trim(n),u&&-1===H.inArray(e,n)&&(H.each(nn.dependencies(n),function(f){Kb(t,e,f)}),!t.plugins[n]))try{var s=new u(t,c,t.$);(t.plugins[n]=s).init&&(s.init(t,c),e.push(n))}catch(f){i=f,pp(r=t,"PluginLoadError",{message:a=Qe.translate(["Failed to initialize plugin: {0}",n])}),wu(a,i),mu(r,a)}},Fr=Nt.DOM,gS={"font-size":"size","font-family":"face"},pS=jb("font-size"),hS=dr(function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},jb("font-family")),Fu=H.each,vS=H.map,bS=H.inArray,Xb=(me.prototype.execCommand=function(t,e,n,r){var o,i,a=!1,u=this;if(!u.editor.removed){if("mcefocus"!==t.toLowerCase()&&(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||r&&r.skip_focus?Jc(i=u.editor).each(function(s){return i.selection.setRng(s)}):u.editor.focus()),(r=u.editor.fire("BeforeExecCommand",{command:t,ui:e,value:n})).isDefaultPrevented())return!1;var c=t.toLowerCase();if(o=u.commands.exec[c])return o(c,e,n),u.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;if(Fu(this.editor.plugins,function(s){if(s.execCommand&&s.execCommand(t,e,n))return u.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!(a=!0)}),a)return a;if(u.editor.theme&&u.editor.theme.execCommand&&u.editor.theme.execCommand(t,e,n))return u.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;try{a=u.editor.getDoc().execCommand(t,e,n)}catch(s){}return!!a&&(u.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0)}},me.prototype.queryCommandState=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.state[t])return e(t);try{return this.editor.getDoc().queryCommandState(t)}catch(n){}return!1}},me.prototype.queryCommandValue=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.value[t])return e(t);try{return this.editor.getDoc().queryCommandValue(t)}catch(n){}}},me.prototype.addCommands=function(t,e){void 0===e&&(e="exec");var n=this;Fu(t,function(r,o){Fu(o.toLowerCase().split(","),function(i){n.commands[e][i]=r})})},me.prototype.addCommand=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.exec[t]=function(o,i,a,u){return e.call(n||r.editor,i,a,u)}},me.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch(e){}return!1},me.prototype.addQueryStateHandler=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.state[t]=function(){return e.call(n||r.editor)}},me.prototype.addQueryValueHandler=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.value[t]=function(){return e.call(n||r.editor)}},me.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},me.prototype.execNativeCommand=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(t,e,n)},me.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},me.prototype.toggleFormat=function(t,e){this.editor.formatter.toggle(t,e),this.editor.nodeChanged()},me.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},me.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},me.prototype.setupCommands=function(t){var e=this;function n(r){return function(){var o=t.selection,i=o.isCollapsed()?[t.dom.getParent(o.getNode(),t.dom.isBlock)]:o.getSelectedBlocks(),a=vS(i,function(u){return!!t.formatter.matchNode(u,r)});return-1!==bS(a,!0)}}this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":pt,"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},mceFocus:function(r,o,i){var a;(a=t).removed||(i?nl:function(c){var s=c.selection,f=c.getBody(),l=s.getRng();c.quirks.refreshContentEditable(),void 0!==c.bookmark&&!1===Tr(c)&&Jc(c).each(function(g){c.selection.setRng(g),l=g});var d,m,p=(d=c,m=s.getNode(),d.dom.getParent(m,function(g){return"true"===d.dom.getContentEditable(g)}));if(c.$.contains(f,p))return Qc(p),Ip(c,l),nl(c);c.inline||(dt.opera||Qc(f),c.getWin().focus()),(dt.gecko||c.inline)&&(Qc(f),Ip(c,l)),nl(c)})(a)},"Cut,Copy,Paste":function(r){var o,i,a=t.getDoc();try{e.execNativeCommand(r)}catch(u){o=!0}!(o="paste"===r&&!a.queryCommandEnabled(r)||o)&&a.queryCommandSupported(r)||(i=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),dt.mac&&(i=i.replace(/Ctrl\+/g,"\u2318+")),t.notificationManager.open({text:i,type:"error"}))},unlink:function(){var r;t.selection.isCollapsed()?(r=t.dom.getParent(t.selection.getStart(),"a"))&&t.dom.remove(r,!0):t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(r){var o=r.substring(7);"full"===o&&(o="justify"),Fu("left,center,right,justify".split(","),function(i){o!==i&&t.formatter.remove("align"+i)}),"none"!==o&&e.toggleFormat("align"+o)},"InsertUnorderedList,InsertOrderedList":function(r){var o;e.execNativeCommand(r);var i=t.dom.getParent(t.selection.getNode(),"ol,ul");i&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((o=i.parentNode).nodeName)&&(e.storeSelection(),t.dom.split(o,i),e.restoreSelection())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(r){e.toggleFormat(r)},"ForeColor,HiliteColor":function(r,o,i){e.toggleFormat(r,{value:i})},FontName:function(r,o,i){var a,u;u=Vb(a=t,i),a.formatter.toggle("fontname",{value:Tt(u.split(/\s*,\s*/),function(c){return-1===c.indexOf(" ")||pr(c,'"')||pr(c,"'")?c:"'"+c+"'"}).join(",")}),a.nodeChanged()},FontSize:function(r,o,i){var a;(a=t).formatter.toggle("fontsize",{value:Vb(a,i)}),a.nodeChanged()},LineHeight:function(r,o,i){var a;(a=t).formatter.toggle("lineheight",{value:String(i)}),a.nodeChanged()},Lang:function(r,o,i){e.toggleFormat(r,{value:i.code,customValue:i.customCode})},RemoveFormat:function(r){t.formatter.remove(r)},mceBlockQuote:function(){e.toggleFormat("blockquote")},FormatBlock:function(r,o,i){return e.toggleFormat(i||"p")},mceCleanup:function(){var r=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(r)},mceRemoveNode:function(r,o,i){var a=i||t.selection.getNode();a!==t.getBody()&&(e.storeSelection(),t.dom.remove(a,!0),e.restoreSelection())},mceSelectNodeDepth:function(r,o,i){var a=0;t.dom.getParent(t.selection.getNode(),function(u){if(1===u.nodeType&&a++===i)return t.selection.select(u),!1},t.getBody())},mceSelectNode:function(r,o,i){t.selection.select(i)},mceInsertContent:function(r,o,i){var a,u,c,s;a=t,c=(u=function(f){if("string"==typeof f)return{content:f,details:{}};var l=H.extend({paste:f.paste,data:{paste:f.paste}},f);return{content:f.content,details:l}}(i)).content,s=u.details,ql(a).editor.insertContent(c,s)},mceInsertRawHTML:function(r,o,i){t.selection.setContent("tiny_mce_marker");var a=t.getContent();t.setContent(a.replace(/tiny_mce_marker/g,function(){return i}))},mceInsertNewLine:function(r,o,i){wb(t,i)},mceToggleFormat:function(r,o,i){e.toggleFormat(i)},mceSetContent:function(r,o,i){t.setContent(i)},"Indent,Outdent":function(r){q0(t,r)},mceRepaint:pt,InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(r,o,i){t.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(r,o,i){"string"==typeof i&&(i={href:i});var a=t.dom.getParent(t.selection.getNode(),"a");i.href=i.href.replace(/ /g,"%20"),a&&i.href||t.formatter.remove("link"),i.href&&t.formatter.apply("link",i,a)},selectAll:function(){var r,o=t.dom.getParent(t.selection.getStart(),sn);o&&((r=t.dom.createRng()).selectNodeContents(o),t.selection.setRng(r))},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(r,o,i){return vb(t,i),!0}}),e.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(r){return e.isFormatMatch(r)},mceBlockQuote:function(){return e.isFormatMatch("blockquote")},Outdent:function(){return j0(t)},"InsertUnorderedList,InsertOrderedList":function(r){var o=t.dom.getParent(t.selection.getNode(),"ul,ol");return o&&("insertunorderedlist"===r&&"UL"===o.tagName||"insertorderedlist"===r&&"OL"===o.tagName)}},"state"),e.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),e.addQueryValueHandler("FontName",function(){return Rf(r=t,function(o){return hS(r.getBody(),o.dom)}).getOr("");var r},this),e.addQueryValueHandler("FontSize",function(){return Rf(r=t,function(o){return pS(r.getBody(),o.dom)}).getOr("");var r},this),e.addQueryValueHandler("LineHeight",function(){return Rf(r=t,function(o){var i=P.fromDom(r.getBody());return wl(o,function(a){return ys(a,"line-height")},et(kt,i)).getOrThunk(function(){var a=parseFloat(_n(o,"line-height")),u=parseFloat(_n(o,"font-size"));return String(a/u)})}).getOr("");var r},this)},me);function me(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}function Af(t,e,n){try{t.getDoc().execCommand(e,!1,String(n))}catch(r){}}function Uu(t,e){t.dom.contentEditable=e?"true":"false"}function Ur(t){return t.readonly}function Yb(t){t.parser.addAttributeFilter("contenteditable",function(e){Ur(t)&&rt(e,function(n){n.attr(zr,n.attr("contenteditable")),n.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(zr,function(e){Ur(t)&&rt(e,function(n){n.attr("contenteditable",n.attr(zr))})}),t.serializer.addTempAttr(zr)}var zr="data-mce-contenteditable",xS=H.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),Tf=(Hr.isNative=function(t){return!!xS[t.toLowerCase()]},Hr.prototype.fire=function(t,e){var n=t.toLowerCase(),r=lm(n,e||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(r);var o=this.bindings[n];if(o)for(var i=0,a=o.length;i<a;i++){var u=o[i];if(!u.removed){if(u.once&&this.off(n,u.func),r.isImmediatePropagationStopped())return r;if(!1===u.func.call(this.scope,r))return r.preventDefault(),r}}return r},Hr.prototype.on=function(t,e,n,r){if(e=!1===e?Dt:e){var o={func:e,removed:!1};r&&H.extend(o,r);for(var i=t.toLowerCase().split(" "),a=i.length;a--;){var u=i[a],c=this.bindings[u];c||(c=[],this.toggleEvent(u,!0)),c=n?Mn([o],c,!0):Mn(Mn([],c,!0),[o],!1),this.bindings[u]=c}}return this},Hr.prototype.off=function(t,e){var n=this;if(t)for(var r=t.toLowerCase().split(" "),o=r.length;o--;){var i,a=r[o],u=this.bindings[a];if(!a)return Bt(this.bindings,function(c,s){n.toggleEvent(s,!1),delete n.bindings[s]}),this;u&&(e?(u=(i=Kf(u,function(c){return c.func===e})).fail,this.bindings[a]=u,rt(i.pass,function(c){c.removed=!0})):u.length=0,u.length||(this.toggleEvent(t,!1),delete this.bindings[a]))}else Bt(this.bindings,function(c,s){n.toggleEvent(s,!1)}),this.bindings={};return this},Hr.prototype.once=function(t,e,n){return this.on(t,e,n,{once:!0})},Hr.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||0===this.bindings[t].length)},Hr);function Hr(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Dt}function Li(t){return t._eventDispatcher||(t._eventDispatcher=new Tf({scope:t,toggleEvent:function(e,n){Tf.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,n)}})),t._eventDispatcher}function zu(t,e){if("selectionchange"===e)return t.getDoc();if(!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e))return t.getDoc().documentElement;var n=Cg(t);return n?(t.eventRoot||(t.eventRoot=ju.select(n)[0]),t.eventRoot):t.getBody()}function Gb(t,e,n){var r,o,i,a;t.hidden||Ur(t)?Ur(t)&&(r=t,"click"!==(o=n).type||st.metaKeyPressed(o)||(i=P.fromDom(o.target),a=r,ks(i,"a",function(u){return kt(u,P.fromDom(a.getBody()))}).bind(function(u){return Ud(u,"href")}).each(function(u){var c,s;o.preventDefault(),/^#/.test(u)?(c=r.dom.select(u+',[name="'+(pr(s=u,"#")?s.substring("#".length):s)+'"]')).length&&r.selection.scrollIntoView(c[0],!0):window.open(u,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))):t.fire(e,n)}function Jb(t,e){var n,r;t.delegates||(t.delegates={}),t.delegates[e]||t.removed||(r=zu(t,e),Cg(t)?(jr||(jr={},t.editorManager.on("removeEditor",function(){t.editorManager.activeEditor||jr&&(Bt(jr,function(o,i){t.dom.unbind(zu(t,i))}),jr=null)})),jr[e]||(jr[e]=n=function(o){for(var i=o.target,a=t.editorManager.get(),u=a.length;u--;){var c=a[u].getBody();c!==i&&!ju.isChildOf(i,c)||Gb(a[u],e,o)}},ju.bind(r,e,n))):(ju.bind(r,e,n=function(o){Gb(t,e,o)}),t.delegates[e]=n))}function Qb(t,e,n,r){var o=n[e.get()],i=n[r];try{i.activate()}catch(a){return void console.error("problem while activating editor mode "+r+":",a)}o.deactivate(),o.editorReadOnly!==i.editorReadOnly&&function(t,e){var n,r,o=P.fromDom(t.getBody());(function(t,e,n){var r,o,i,a,c;Im(t,e)&&!1===n?(o=e,xa(r=t)?r.dom.classList.remove(o):0<(c=ht(cc(a=r,"class"),function(s){return"mce-content-readonly"!==s})).length?un(a,"class",c.join(" ")):zn(a,"class"),0===(xa(i=r)?i.dom.classList:cc(i,"class")).length&&zn(i,"class")):n&&wa(t,e)})(o,"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),N.from(t.selection.getNode()).each(function(i){i.removeAttribute("data-mce-selected")}),Uu(o,!(t.readonly=!0)),rt(be(o,'*[contenteditable="true"]'),function(i){un(i,zr,"true"),Uu(i,!1)})):(Uu(o,!(t.readonly=!1)),rt(be(o,"*["+zr+'="true"]'),function(i){zn(i,zr),Uu(i,!0)}),Af(t,"StyleWithCSS",!1),Af(t,"enableInlineTableEditing",!1),Af(t,"enableObjectResizing",!1),(Tr(n=t)||Yc(br(P.fromDom((r=n).getElement()))).filter(function(i){return!(void 0!==(a=i.dom.classList)&&(a.contains("tox-edit-area")||a.contains("tox-edit-area__iframe")||a.contains("mce-content-body")))&&$a(r,i.dom);var a}).isSome())&&t.focus(),t.selection.setRng(t.selection.getRng()),t.nodeChanged())}(t,i.editorReadOnly),e.set(r),t.fire("SwitchMode",{mode:r})}function wS(t){var e,n={};Of(Bf(t.toLowerCase(),"+"),function(o){o in ty?n[o]=!0:/^[0-9]{2,}$/.test(o)?n.keyCode=parseInt(o,10):(n.charCode=o.charCodeAt(0),n.keyCode=ES[o]||o.toUpperCase().charCodeAt(0))});var r=[n.keyCode];for(e in ty)n[e]?r.push(e):n[e]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,dt.mac?n.ctrl=!0:n.shift=!0),n.meta&&(dt.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n}var jr,Hu={fire:function(t,e,n){if(this.removed&&"remove"!==t&&"detach"!==t)return e;var r=Li(this).fire(t,e);if(!1!==n&&this.parent)for(var o=this.parent();o&&!r.isPropagationStopped();)o.fire(t,r,!1),o=o.parent();return r},on:function(t,e,n){return Li(this).on(t,e,n)},off:function(t,e){return Li(this).off(t,e)},once:function(t,e){return Li(this).once(t,e)},hasEventListeners:function(t){return Li(this).has(t)}},ju=Nt.DOM,Zb=ft(ft({},Hu),{bindPendingEventDelegates:function(){var t=this;H.each(t._pendingNativeEvents,function(e){Jb(t,e)})},toggleNativeEvent:function(t,e){var n=this;"focus"!==t&&"blur"!==t&&(n.removed||(e?n.initialized?Jb(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&(n.dom.unbind(zu(n,t),t,n.delegates[t]),delete n.delegates[t])))},unbindAllNativeEvents:function(){var t=this,e=t.getBody(),n=t.dom;t.delegates&&(Bt(t.delegates,function(r,o){t.dom.unbind(zu(t,o),o,r)}),delete t.delegates),!t.inline&&e&&n&&(e.onload=null,n.unbind(t.getWin()),n.unbind(t.getDoc())),n&&(n.unbind(e),n.unbind(t.getContainer()))}}),SS=["design","readonly"],Of=H.each,Bf=H.explode,ES={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},ty=H.makeMap("alt,ctrl,shift,meta,access"),ey=(In.prototype.add=function(t,e,n,r){var o=this,i=o.normalizeCommandFunc(n);return Of(Bf(H.trim(t)),function(a){var u=o.createShortcut(a,e,i,r);o.shortcuts[u.id]=u}),!0},In.prototype.remove=function(t){var e=this.createShortcut(t);return!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)},In.prototype.normalizeCommandFunc=function(t){var e=this,n=t;return"string"==typeof n?function(){e.editor.execCommand(n,!1,null)}:H.isArray(n)?function(){e.editor.execCommand(n[0],n[1],n[2])}:n},In.prototype.createShortcut=function(t,e,n,r){var o=H.map(Bf(t,">"),wS);return o[o.length-1]=H.extend(o[o.length-1],{func:n,scope:r||this.editor}),H.extend(o[0],{desc:this.editor.translate(e),subpatterns:o.slice(1)})},In.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},In.prototype.isFunctionKey=function(t){return"keydown"===t.type&&112<=t.keyCode&&t.keyCode<=123},In.prototype.matchShortcut=function(t,e){return!!e&&e.ctrl===t.ctrlKey&&e.meta===t.metaKey&&e.alt===t.altKey&&e.shift===t.shiftKey&&!!(t.keyCode===e.keyCode||t.charCode&&t.charCode===e.charCode)&&(t.preventDefault(),!0)},In.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},In);function In(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var e=this;t.on("keyup keypress keydown",function(n){!e.hasModifier(n)&&!e.isFunctionKey(n)||n.isDefaultPrevented()||(Of(e.shortcuts,function(r){if(e.matchShortcut(n,r))return e.pendingPatterns=r.subpatterns.slice(0),"keydown"===n.type&&e.executeShortcutAction(r),!0}),e.matchShortcut(n,e.pendingPatterns[0])&&(1===e.pendingPatterns.length&&"keydown"===n.type&&e.executeShortcutAction(e.pendingPatterns[0]),e.pendingPatterns.shift()))})}var Vr=Nt.DOM,ny=H.extend,NS=H.each,ry=H.resolve,kS=dt.ie,Vu=(bt.prototype.render=function(){!function(t){var e=t.id;Qe.setCode(hg(t));var n,r,o,i,a=function(){Fr.unbind(window,"ready",a),t.render()};co.Event.domLoaded?t.getElement()&&dt.contentEditable&&(n=P.fromDom(t.getElement()),r=We(n.dom.attributes,function(u,c){return u[c.name]=c.value,u},{}),t.on("remove",function(){Wf(n.dom.attributes,function(u){return zn(n,u.name),0}),Un(n,r)}),t.ui.styleSheetLoader=em.forElement(n,{contentCssCors:(o=t).getParam("content_css_cors"),referrerPolicy:pg(o)}),t.getParam("inline")?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden"),(i=t.getElement().form||Fr.getParent(e,"form"))&&(t.formElement=i,t.getParam("hidden_input")&&!xs(t.getElement())&&(Fr.insertAfter(Fr.create("input",{type:"hidden",name:e}),e),t.hasHiddenInput=!0),t.formEventDelegate=function(u){t.fire(u.type,u)},Fr.bind(i,"submit reset",t.formEventDelegate),t.on("reset",function(){t.resetContent()}),!t.getParam("submit_patch")||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),i._mceOldSubmit(i)})),t.windowManager=zv(t),t.notificationManager=Tv(t),"xml"===t.getParam("encoding")&&t.on("GetContent",function(u){u.save&&(u.content=Fr.encode(u.content))}),t.getParam("add_form_submit_trigger")&&t.on("submit",function(){t.initialized&&t.save()}),t.getParam("add_unload_trigger")&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),function(t,e){var n,r,o=Dn.ScriptLoader,i=o,a=e,u=function(){var s,f,l,d,m,p,g,h,v;m=o,h=hg(p=t),v=p.getParam("language_url","","string"),!1===Qe.hasCode(h)&&"en"!==h&&m.add(g=""!==v?v:p.editorManager.baseURL+"/langs/"+h+".js",pt,void 0,function(){tf(p,"LanguageLoadError",ef("language",g,h))}),l=o,rt(function(b){for(var y=[],S=function(C){y.push(C)},k=0;k<b.length;k++)b[k].each(S);return y}([Hb(d=t,"default",e),N.from(d.getParam("icons_url","","string")).filter(function(b){return 0<b.length}).map(function(b){return{url:b,name:N.none()}}).orThunk(function(){return Hb(d,gg(d),"")})]),function(b){l.add(b.url,pt,void 0,function(){tf(d,"IconsLoadError",ef("icons",b.url,b.name.getOrUndefined()))})}),f=e,H.each((s=t).getParam("external_plugins"),function(b,y){nn.load(y,b,pt,void 0,function(){nf(s,b,y)}),s.settings.plugins+=" "+y}),H.each(vc(s).split(/[ ,]/),function(b){var y,S;(b=H.trim(b))&&!nn.urls[b]&&(zb(b)?(b=b.substr(1,b.length),y=nn.dependencies(b),H.each(y,function(k){var C=nn.createUrl({prefix:"plugins/",resource:k,suffix:"/plugin"+f+".js"},k);nn.load(C.resource,C,pt,void 0,function(){nf(s,C.prefix+C.resource+C.suffix,C.resource)})})):nn.load(b,S={prefix:"plugins/",resource:b,suffix:"/plugin"+f+".js"},pt,void 0,function(){nf(s,S.prefix+S.resource+S.suffix,b)}))}),o.loadQueue(function(){t.removed||Ub(t)},t,function(){t.removed||Ub(t)})},c=di(n=t);Ft(c)?(zb(c)||vt(ar.urls,c)||((r=n.getParam("theme_url"))?ar.load(c,n.documentBaseURI.toAbsolute(r)):ar.load(c,"themes/"+c+"/theme"+a+".js")),i.loadQueue(function(){ar.waitFor(c,u)})):u()}(t,t.suffix)):Fr.bind(window,"ready",a)}(this)},bt.prototype.focus=function(t){this.execCommand("mceFocus",!1,t)},bt.prototype.hasFocus=function(){return Tr(this)},bt.prototype.execCallback=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,o=this.settings[t];if(o)return this.callbackLookup&&(r=this.callbackLookup[t])&&(o=r.func,r=r.scope),"string"==typeof o&&(r=(r=o.replace(/\.\w+$/,""))?ry(r):0,o=ry(o),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[t]={func:o,scope:r}),o.apply(r||this,e)},bt.prototype.translate=function(t){return Qe.translate(t)},bt.prototype.getParam=function(t,e,n){return i=e,f=(o=t)in(r=this).settings?r.settings[o]:i,"hash"===(a=n)?(s={},"string"==typeof(c=f)?rt(0<c.indexOf("=")?c.split(/[;,](?![^=;,]*(?:[;,]|$))/):c.split(","),function(l){var d=l.split("=");s[H.trim(d[0])]=H.trim(1<d.length?d[1]:d[0])}):s=c,s):"string"===a?Pr(Ft,r,o).getOr(i):"number"===a?Pr(Kr,r,o).getOr(i):"boolean"===a?Pr(Vf,r,o).getOr(i):"object"===a?Pr(Wr,r,o).getOr(i):"array"===a?Pr(Ie,r,o).getOr(i):"string[]"===a?Pr((u=Ft,function(l){return Ie(l)&&jo(l,u)}),r,o).getOr(i):"function"===a?Pr(Ot,r,o).getOr(i):f;var r,o,i,a,u,c,s,f},bt.prototype.hasPlugin=function(t,e){return!(!Yt(vc(this).split(/[ ,]/),t)||e&&void 0===nn.get(t))},bt.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},bt.prototype.addCommand=function(t,e,n){this.editorCommands.addCommand(t,e,n)},bt.prototype.addQueryStateHandler=function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},bt.prototype.addQueryValueHandler=function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},bt.prototype.addShortcut=function(t,e,n,r){this.shortcuts.add(t,e,n,r)},bt.prototype.execCommand=function(t,e,n,r){return this.editorCommands.execCommand(t,e,n,r)},bt.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},bt.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},bt.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},bt.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(Vr.show(this.getContainer()),Vr.hide(this.id)),this.load(),this.fire("show"))},bt.prototype.hide=function(){var t=this,e=t.getDoc();t.hidden||(kS&&e&&!t.inline&&e.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Vr.hide(t.getContainer()),Vr.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},bt.prototype.isHidden=function(){return!!this.hidden},bt.prototype.setProgressState=function(t,e){this.fire("ProgressState",{state:t,time:e})},bt.prototype.load=function(t){var e=this.getElement();if(this.removed)return"";if(e){(t=t||{}).load=!0;var n=xs(e)?e.value:e.innerHTML,r=this.setContent(n,t);return t.element=e,t.no_events||this.fire("LoadContent",t),t.element=e=null,r}},bt.prototype.save=function(t){var e,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(t=t||{}).save=!0,t.element=o,t.content=r.getContent(t),t.no_events||r.fire("SaveContent",t),"raw"===t.format&&r.fire("RawSaveContent",t),e=t.content,xs(o)?o.value=e:(!t.is_removing&&r.inline||(o.innerHTML=e),(n=Vr.getParent(r.id,"form"))&&NS(n.elements,function(i){if(i.name===r.id)return i.value=e,!1})),t.element=o=null,!1!==t.set_dirty&&r.setDirty(!1),e},bt.prototype.setContent=function(t,e){return Ql(this,t,e)},bt.prototype.getContent=function(t){return r=(n=void 0===(n=t)?{}:n).format||"html",o=n,ql(this).editor.getContent(o,r);var n,r,o},bt.prototype.insertContent=function(t,e){e&&(t=ny({content:t},e)),this.execCommand("mceInsertContent",!1,t)},bt.prototype.resetContent=function(t){void 0===t?Ql(this,this.startContent,{format:"raw"}):Ql(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},bt.prototype.isDirty=function(){return!this.isNotDirty},bt.prototype.setDirty=function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!==e&&this.fire("dirty")},bt.prototype.getContainer=function(){return this.container||(this.container=Vr.get(this.editorContainer||this.id+"_parent")),this.container},bt.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},bt.prototype.getElement=function(){return this.targetElm||(this.targetElm=Vr.get(this.id)),this.targetElm},bt.prototype.getWin=function(){var t;return this.contentWindow||(t=this.iframeElement)&&(this.contentWindow=t.contentWindow),this.contentWindow},bt.prototype.getDoc=function(){var t;return this.contentDocument||(t=this.getWin())&&(this.contentDocument=t.document),this.contentDocument},bt.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},bt.prototype.convertURL=function(t,e,n){var r=this.settings;return r.urlconverter_callback?this.execCallback("urlconverter_callback",t,n,!0,e):!r.convert_urls||n&&"LINK"===n.nodeName||0===t.indexOf("file:")||0===t.length?t:r.relative_urls?this.documentBaseURI.toRelative(t):this.documentBaseURI.toAbsolute(t,r.remove_script_host)},bt.prototype.addVisual=function(t){var e;e=t,Ut(this).editor.addVisual(e)},bt.prototype.remove=function(){var t,e,n,r,o;(t=this).removed||(e=t._selectionOverrides,n=t.editorUpload,r=t.getBody(),o=t.getElement(),r&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&o&&fu.remove(o.nextSibling),t.fire("remove"),t.editorManager.remove(t),!t.inline&&r&&fu.setStyle(t.id,"display",t.orgDisplay),t.fire("detach"),fu.remove(t.getContainer()),su(e),su(n),t.destroy())},bt.prototype.destroy=function(t){var e,n,r,o,i,a,u;n=t,a=(e=this).selection,u=e.dom,e.destroyed||(n||e.removed?(n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),su(a),su(u)),(o=(r=e).formElement)&&(o._mceOldSubmit&&(o.submit=o._mceOldSubmit,o._mceOldSubmit=null),fu.unbind(o,"submit reset",r.formEventDelegate)),(i=e).contentAreaContainer=i.formElement=i.container=i.editorContainer=null,i.bodyElement=i.contentDocument=i.contentWindow=null,i.iframeElement=i.targetElm=null,i.selection&&(i.selection=i.selection.win=i.selection.dom=i.selection.dom.doc=null),e.destroyed=!0):e.remove())},bt.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},bt.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},bt.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},bt.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},bt.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},bt.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},bt);function bt(t,e,n){var r,o,i,a,u,c,s,f,m,p,g,h,b,y,S,k=this;function C(T,R){return function(O,I){return T[O.toLowerCase()]=ft(ft({},I),{type:R})}}this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,ny(this,Zb),this.settings=(m=n.defaultSettings,g=this.documentBaseUrl,h=Lx,b={id:t,theme:"silver",toolbar_mode:_v(p=e,"floating"),plugins:"",document_base_url:g,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:this.convertURL,url_converter_scope:this},y=ft(ft({},b),h?Uv:{}),!1!==(S=function(t,e,n,r,o){var i,a,u,c,s,f,l,d,m=t?{mobile:(i=e,a={resize:!1,toolbar_mode:_v(o.mobile||{},"scrolling"),toolbar_sticky:!1},ft(ft(ft({},Uv),a),i?{menubar:!1}:{}))}:{},p=(s=["mobile"],Zf(Mv(m,o),function(h,v){return Yt(s,v)},is(f={}),is(l={})),{sections:nt((d={t:f,f:l}).t),settings:nt(d.f)}),g=H.extend(n,r,p.settings(),t&&cu(p,"mobile")?function(h){void 0===h&&(h={});var v=Ht(p.sections(),"mobile").getOr({});return H.extend({},h,v)}():{},{validate:!0,external_plugins:(u=r,c=p.settings().external_plugins||{},u&&u.external_plugins?H.extend({},u.external_plugins,c):c)});return function(t,e,n,r){var o,i,a,u,c,s,f,l,d=Ri(n.forced_plugins),m=Ri(r.plugins),p=cu(o=e,"mobile")?o.sections().mobile:{},h=(u=e,c=m,s=p.plugins?Ri(p.plugins):m,i=(a=t)&&(l=(f=u).sections(),cu(f,"mobile")&&"mobile"===l.mobile.theme)?ht(s,et(Yt,Mx)):a&&cu(u,"mobile")?s:c,[].concat(Ri(d)).concat(Ri(i)));if(dt.browser.isIE()&&Yt(h,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return H.extend(r,{plugins:h.join(" ")})}(t,p,r,g)}(Fv||Ix,Fv,y,m,p)).deprecation_warnings&&function(t,e){var n,r,o,i,a,u,c,s=(n=t,r=ht(Ox,function(g){return vt(n,g)}),!1!==(o=n.forced_root_block)&&""!==o||r.push("forced_root_block (false only)"),rs(r)),f=(c=H.makeMap(e.plugins," "),rs(Mn(Mn([],ht(Bx,p),!0),Xr(Px,function(g){return p(g)?[g+" (moving to premium)"]:[]}),!0))),l=0<f.length,d=0<s.length,m="mobile"===e.theme;function p(g){return vt(c,g)}(l||d||m)&&(i=m?"\n\nThemes:\n- mobile":"",a=l?"\n\nPlugins:\n- "+f.join("\n- "):"",u=d?"\n\nSettings:\n- "+s.join("\n- "):"",console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+i+a+u))}(p,S),S),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(Dn.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Nt.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),we.languageLoad=this.settings.language_load,we.baseURL=n.baseURL,this.id=t,this.setDirty(!1),this.documentBaseURI=new nr(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new ey(this),this.editorCommands=new Xb(this),this.settings.cache_suffix&&(dt.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:{addAutocompleter:(u={},(r={addButton:C(o={},"button"),addGroupToolbarButton:C(o,"grouptoolbarbutton"),addToggleButton:C(o,"togglebutton"),addMenuButton:C(o,"menubutton"),addSplitButton:C(o,"splitbutton"),addMenuItem:C(i={},"menuitem"),addNestedMenuItem:C(i,"nestedmenuitem"),addToggleMenuItem:C(i,"togglemenuitem"),addAutocompleter:C(a={},"autocompleter"),addContextMenu:C(c={},"contextmenu"),addContextToolbar:C(s={},"contexttoolbar"),addContextForm:C(s,"contextform"),addSidebar:C(f={},"sidebar"),addIcon:function(T,R){return u[T.toLowerCase()]=R},getAll:function(){return{buttons:o,menuItems:i,icons:u,popups:a,contextMenus:c,contextToolbars:s,sidebars:f}}}).addAutocompleter),addButton:r.addButton,addContextForm:r.addContextForm,addContextMenu:r.addContextMenu,addContextToolbar:r.addContextToolbar,addIcon:r.addIcon,addMenuButton:r.addMenuButton,addMenuItem:r.addMenuItem,addNestedMenuItem:r.addNestedMenuItem,addSidebar:r.addSidebar,addSplitButton:r.addSplitButton,addToggleButton:r.addToggleButton,addGroupToolbarButton:r.addGroupToolbarButton,addToggleMenuItem:r.addToggleMenuItem,getAll:r.getAll},styleSheetLoader:void 0,show:pt,hide:pt,enable:pt,disable:pt,isDisabled:Dt};var x,E,A,B,L,_=(B=ae("design"),L=ae({design:{activate:pt,deactivate:pt,editorReadOnly:!1},readonly:{activate:pt,deactivate:pt,editorReadOnly:!0}}),(E=x=this).serializer?Yb(E):E.on("PreInit",function(){Yb(E)}),(A=x).on("ShowCaret",function(T){Ur(A)&&T.preventDefault()}),A.on("ObjectSelected",function(T){Ur(A)&&T.preventDefault()}),{isReadOnly:function(){return Ur(x)},set:function(T){return function(R,O,I,$){if($!==I.get()){if(!vt(O,$))throw new Error("Editor mode '"+$+"' is invalid");R.initialized?Qb(R,I,O,$):R.on("init",function(){return Qb(R,I,O,$)})}}(x,L.get(),B,T)},get:function(){return B.get()},register:function(T,R){L.set(function(O,I,$){var X;if(Yt(SS,I))throw new Error("Cannot override default mode "+I);return ft(ft({},O),((X={})[I]=ft(ft({},$),{deactivate:function(){try{$.deactivate()}catch(F){console.error("problem while deactivating editor mode "+I+":",F)}}}),X))}(L.get(),T,R))}});this.mode=_,this.setMode=_.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=mt.overrideDefaults(function(){return{context:k.inline?k.getBody():k.getDoc(),element:k.getBody()}})}function oy(t){var e=t.type;wn(lr.get(),function(n){switch(e){case"scroll":n.fire("ScrollWindow",t);break;case"resize":n.fire("ResizeWindow",t)}})}function iy(t){t!==uy&&(t?mt(window).on("resize scroll",oy):mt(window).off("resize scroll",oy),uy=t)}function ay(t){var e=ye;delete cr[t.id];for(var n=0;n<cr.length;n++)if(cr[n]===t){cr.splice(n,1);break}return ye=ht(ye,function(r){return t!==r}),lr.activeEditor===t&&(lr.activeEditor=0<ye.length?ye[0]:null),lr.focusedEditor===t&&(lr.focusedEditor=null),e.length!==ye.length}var qu,qe=Nt.DOM,_S=H.explode,wn=H.each,RS=H.extend,DS=0,uy=!1,cr=[],ye=[],AS="CSS1Compat"!==document.compatMode,lr=ft(ft({},Hu),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:mt,majorVersion:"5",minorVersion:"10.1",releaseDate:"2021-11-03",editors:cr,i18n:Qe,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var t,e="",n=nr.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));var r=window.tinymce||window.tinyMCEPreInit;if(r)t=r.base||r.baseURL,e=r.suffix;else{for(var o,i=document.getElementsByTagName("script"),a=0;a<i.length;a++)if(""!==(o=i[a].src||"")){var u=o.substring(o.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)){-1!==u.indexOf(".min")&&(e=".min"),t=o.substring(0,o.lastIndexOf("/"));break}}!t&&document.currentScript&&(-1!==(o=document.currentScript.src).indexOf(".min")&&(e=".min"),t=o.substring(0,o.lastIndexOf("/")))}this.baseURL=new nr(n).toAbsolute(t),this.documentBaseURL=n,this.baseURI=new nr(this.baseURL),this.suffix=e,this.on("AddEditor",et(wC,this)),this.on("RemoveEditor",et(SC,this))},overrideDefaults:function(t){var e=t.base_url;e&&this._setBaseUrl(e),t.suffix&&(this.suffix=t.suffix);var r=(this.defaultSettings=t).plugin_base_urls;void 0!==r&&Bt(r,function(o,i){we.PluginManager.urls[i]=o})},init:function(t){function e(c){var s=c.id;return s||(s=Ht(c,"name").filter(function(f){return!qe.get(f)}).getOrThunk(qe.uniqueId),c.setAttribute("id",s)),s}function n(c,s){return s.constructor===RegExp?s.test(c.className):qe.hasClass(c,s)}var r,o=this,i=H.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=function(c){r=c},u=function(){function c(m,p,g){var h=new Vu(m,p,o);d.push(h),h.on("init",function(){++l===s.length&&a(d)}),h.targetElm=h.targetElm||g,h.render()}var s,f,l=0,d=[];qe.unbind(window,"ready",u),(f=t.onpageload)&&f.apply(o,[]),s=mt.unique(function(m){var p=[];if(dt.browser.isIE()&&dt.browser.version.major<11)return wu("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(AS)return wu("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(m.types)return wn(m.types,function(h){p=p.concat(qe.select(h.selector))}),p;if(m.selector)return qe.select(m.selector);if(m.target)return[m.target];switch(m.mode){case"exact":var g=m.elements||"";0<g.length&&wn(_S(g),function(h){var v=qe.get(h);v?p.push(v):wn(document.forms,function(b){wn(b.elements,function(y){y.name===h&&(h="mce_editor_"+DS++,qe.setAttrib(y,"id",h),p.push(y))})})});break;case"textareas":case"specific_textareas":wn(qe.select("textarea"),function(h){m.editor_deselector&&n(h,m.editor_deselector)||m.editor_selector&&!n(h,m.editor_selector)||p.push(h)})}return p}(t)),t.types?wn(t.types,function(m){H.each(s,function(p){return!qe.is(p,m.selector)||(c(e(p),RS({},t,m),p),!1)})}):(H.each(s,function(m){var p;(p=o.get(m.id))&&p.initialized&&!(p.getContainer()||p.getBody()).parentNode&&(ay(p),p.unbindAllNativeEvents(),p.destroy(!0),p.removed=!0)}),0===(s=H.grep(s,function(m){return!o.get(m.id)})).length?a([]):wn(s,function(m){t.inline&&m.tagName.toLowerCase()in i?wu("Could not initialize inline editor on invalid inline target element",m):c(e(m),t,m)}))};return o.settings=t,qe.bind(window,"ready",u),new te(function(c){r?c(r):a=function(s){c(s)}})},get:function(t){return 0===arguments.length?ye.slice(0):Ft(t)?Gt(ye,function(e){return e.id===t}).getOr(null):Kr(t)&&ye[t]||null},add:function(t){var e=this;return cr[t.id]===t||(null===e.get(t.id)&&("length"!==t.id&&(cr[t.id]=t),cr.push(t),ye.push(t)),iy(!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),qu||(qu=function(n){var r=e.fire("BeforeUnload");if(r.returnValue)return n.preventDefault(),n.returnValue=r.returnValue,r.returnValue},window.addEventListener("beforeunload",qu))),t},createEditor:function(t,e){return this.add(new Vu(t,e,this))},remove:function(t){var e,n,r=this;if(t){if(!Ft(t))return Ho(r.get((n=t).id))?null:(ay(n)&&r.fire("RemoveEditor",{editor:n}),0===ye.length&&window.removeEventListener("beforeunload",qu),n.remove(),iy(0<ye.length),n);wn(qe.select(t),function(o){(n=r.get(o.id))&&r.remove(n)})}else for(e=ye.length-1;0<=e;e--)r.remove(ye[e])},execCommand:function(t,e,n){var r=this.get(n);switch(t){case"mceAddEditor":return this.get(n)||new Vu(n,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?r.isHidden()?r.show():r.hide():this.execCommand("mceAddEditor",!1,n),!0}return!!this.activeEditor&&this.activeEditor.execCommand(t,e,n)},triggerSave:function(){wn(ye,function(t){t.save()})},addI18n:function(t,e){Qe.add(t,e)},translate:function(t){return Qe.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t},_setBaseUrl:function(t){this.baseURL=new nr(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new nr(this.baseURL)}});function sy(t,e,n){var r=e.x,o=e.y,i=t.w,a=t.h,u=e.w,c=e.h,s=(n||"").split("");return"b"===s[0]&&(o+=c),"r"===s[1]&&(r+=u),"c"===s[0]&&(o+=$u(c/2)),"c"===s[1]&&(r+=$u(u/2)),"b"===s[3]&&(o-=a),"r"===s[4]&&(r-=i),"c"===s[3]&&(o-=$u(a/2)),"c"===s[4]&&(r-=$u(i/2)),Fo(r,o,i,a)}function cy(){}function Fo(t,e,n,r){return{x:t,y:e,w:n,h:r}}lr.setup();var Ii,Mi,ly,Pf,fy=Math.min,Uo=Math.max,$u=Math.round,TS={inflate:function(t,e,n){return Fo(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},relativePosition:sy,findBestRelativePosition:function(t,e,n,r){for(var o,i=0;i<r.length;i++)if((o=sy(t,e,r[i])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},intersect:function(t,e){var n=Uo(t.x,e.x),r=Uo(t.y,e.y),o=fy(t.x+t.w,e.x+e.w),i=fy(t.y+t.h,e.y+e.h);return o-n<0||i-r<0?null:Fo(n,r,o-n,i-r)},clamp:function(t,e,n){var r=t.x,o=t.y,i=t.x+t.w,a=t.y+t.h,u=e.x+e.w,c=e.y+e.h,s=Uo(0,e.x-r),f=Uo(0,e.y-o),l=Uo(0,i-u),d=Uo(0,a-c);return r+=s,o+=f,n&&(i+=s,a+=f,r-=l,o-=d),Fo(r,o,(i-=l)-r,(a-=d)-o)},create:Fo,fromClientRect:function(t){return Fo(t.left,t.top,t.width,t.height)}},OS=(Ii={},Mi={},{load:function(t,e){var n='Script at URL "'+e+'" failed to load',r='Script at URL "'+e+"\" did not call `tinymce.Resource.add('"+t+"', data)` within 1 second";if(void 0!==Ii[t])return Ii[t];var o=new te(function(i,a){var u=function(c,s,f){function l(h){return function(){for(var v=[],b=0;b<arguments.length;b++)v[b]=arguments[b];d||(d=!0,null!==m&&(clearTimeout(m),m=null),h.apply(null,v))}}void 0===f&&(f=1e3);var d=!1,m=null,p=l(c),g=l(s);return{start:function(){for(var h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];d||null!==m||(m=setTimeout(function(){return g.apply(null,h)},f))},resolve:p,reject:g}}(i,a);Mi[t]=u.resolve,Dn.ScriptLoader.loadScript(e,function(){return u.start(r)},function(){return u.reject(n)})});return Ii[t]=o},add:function(t,e){void 0!==Mi[t]&&(Mi[t](e),delete Mi[t]),Ii[t]=te.resolve(e)}}),Wu=H.each,BS=H.extend;cy.extend=ly=function(t){function e(){var i,a,u;if(!Pf&&(this.init&&this.init.apply(this,arguments),a=this.Mixins))for(i=a.length;i--;)(u=a[i]).init&&u.init.apply(this,arguments)}function n(){return this}var r=this.prototype;Pf=!0;var o=new this;return Pf=!1,t.Mixins&&(Wu(t.Mixins,function(i){for(var a in i)"init"!==a&&(t[a]=i[a])}),r.Mixins&&(t.Mixins=r.Mixins.concat(t.Mixins))),t.Methods&&Wu(t.Methods.split(","),function(i){t[i]=n}),t.Properties&&Wu(t.Properties.split(","),function(i){var a="_"+i;t[i]=function(u){return void 0!==u?(this[a]=u,this):this[a]}}),t.Statics&&Wu(t.Statics,function(i,a){e[a]=i}),t.Defaults&&r.Defaults&&(t.Defaults=BS({},r.Defaults,t.Defaults)),Bt(t,function(i,a){var u,c;o[a]="function"==typeof i&&r[a]?(u=a,c=i,function(){var s=this._super;this._super=r[u];var f=c.apply(this,arguments);return this._super=s,f}):i}),e.prototype=o,(e.constructor=e).extend=ly,e};var Fi,qr,Lf,Ku=Math.min,Xu=Math.max,$r=Math.round,If={serialize:function(t){var e=JSON.stringify(t);return Ft(e)?e.replace(/[\u0080-\uFFFF]/g,function(n){var r=n.charCodeAt(0).toString(16);return"\\u"+"0000".substring(r.length)+r}):e},parse:function(t){try{return JSON.parse(t)}catch(e){}}},PS={callbacks:{},count:0,send:function(t){var e=this,n=Nt.DOM,r=(void 0!==t.count?t:e).count,o="tinymce_jsonp_"+r;e.callbacks[r]=function(i){n.remove(o),delete e.callbacks[r],t.callback(i)},n.add(n.doc.body,"script",{id:o,src:t.url,type:"text/javascript"}),e.count++}},Yu=ft(ft({},Hu),{send:function(t){var e,n=0,r=function(){!t.async||4===e.readyState||1e4<n++?(t.success&&n<1e4&&200===e.status?t.success.call(t.success_scope,""+e.responseText,e,t):t.error&&t.error.call(t.error_scope,1e4<n?"TIMED_OUT":"GENERAL",e,t),e=null):ee.setTimeout(r,10)};if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=!1!==t.async,t.data=t.data||"",Yu.fire("beforeInitialize",{settings:t}),(e=new XMLHttpRequest).overrideMimeType&&e.overrideMimeType(t.content_type),e.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(e.withCredentials=!0),t.content_type&&e.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&H.each(t.requestheaders,function(o){e.setRequestHeader(o.key,o.value)}),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),(e=Yu.fire("beforeSend",{xhr:e,settings:t}).xhr).send(t.data),!t.async)return r();ee.setTimeout(r,10)}}),dy=H.extend,LS=(Gu.sendRPC=function(t){return(new Gu).send(t)},Gu.prototype.send=function(t){var e=t.error,n=t.success,r=dy(this.settings,t);r.success=function(o,i){(o=void 0===(o=If.parse(o))?{error:"JSON Parse error."}:o).error?e.call(r.error_scope||r.scope,o.error,i):n.call(r.success_scope||r.scope,o.result)},r.error=function(o,i){e&&e.call(r.error_scope||r.scope,o,i)},r.data=If.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),r.content_type="application/json",Yu.send(r)},Gu);function Gu(t){this.settings=dy({},t),this.count=0}try{var Ju,Mf="__storage_test__";(Ju=window.localStorage).setItem(Mf,Mf),Ju.removeItem(Mf)}catch(t){Fi={},qr=[],Lf={getItem:function(e){return Fi[e]||null},setItem:function(e,n){qr.push(e),Fi[e]=String(n)},key:function(e){return qr[e]},removeItem:function(e){qr=qr.filter(function(n){return n===e}),delete Fi[e]},clear:function(){qr=[],Fi={}},length:0},Object.defineProperty(Lf,"length",{get:function(){return qr.length},configurable:!1,enumerable:!1}),Ju=Lf}var my=H.extend(lr,{geom:{Rect:TS},util:{Promise:te,Delay:ee,Tools:H,VK:st,URI:nr,Class:cy,EventDispatcher:Tf,Observable:Hu,I18n:Qe,XHR:Yu,JSON:If,JSONRequest:LS,JSONP:PS,LocalStorage:Ju,Color:function(t){function e(a){var u;return"object"==typeof a?"r"in a?(r=a.r,o=a.g,i=a.b):"v"in a&&function(c,s,f){if(c=(parseInt(c,10)||0)%360,s=parseInt(s,10)/100,f=parseInt(f,10)/100,s=Xu(0,Ku(s,1)),f=Xu(0,Ku(f,1)),0!==s){var l=c/60,d=f*s,m=d*(1-Math.abs(l%2-1)),p=f-d;switch(Math.floor(l)){case 0:r=d,o=m,i=0;break;case 1:r=m,o=d,i=0;break;case 2:r=0,o=d,i=m;break;case 3:r=0,o=m,i=d;break;case 4:r=m,o=0,i=d;break;case 5:r=d,o=0,i=m;break;default:r=o=i=0}r=$r(255*(r+p)),o=$r(255*(o+p)),i=$r(255*(i+p))}else r=o=i=$r(255*f)}(a.h,a.s,a.v):(u=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(a))?(r=parseInt(u[1],10),o=parseInt(u[2],10),i=parseInt(u[3],10)):(u=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(a))?(r=parseInt(u[1],16),o=parseInt(u[2],16),i=parseInt(u[3],16)):(u=/#([0-F])([0-F])([0-F])/gi.exec(a))&&(r=parseInt(u[1]+u[1],16),o=parseInt(u[2]+u[2],16),i=parseInt(u[3]+u[3],16)),r=r<0?0:255<r?255:r,o=o<0?0:255<o?255:o,i=i<0?0:255<i?255:i,n}var n={},r=0,o=0,i=0;return t&&e(t),n.toRgb=function(){return{r,g:o,b:i}},n.toHsv=function(){return a=r,u=o,c=i,f=0,(l=Ku(a/=255,Ku(u/=255,c/=255)))===(d=Xu(a,Xu(u,c)))?{h:0,s:0,v:100*(f=l)}:(s=(d-l)/d,{h:$r(60*((a===l?3:c===l?1:5)-(a===l?u-c:c===l?a-u:c-a)/((f=d)-l))),s:$r(100*s),v:$r(100*f)});var a,u,c,s,f,l,d},n.toHex=function(){function a(u){return 1<(u=parseInt(u,10).toString(16)).length?u:"0"+u}return"#"+a(r)+a(o)+a(i)},n.parse=e,n},ImageUploader:function(t){var e=jv(),n=$v(t,e);return{upload:function(r,o){return n.upload(r,(o=void 0===o||o)?qv(t):void 0)}}}},dom:{EventUtils:co,Sizzle:St,DomQuery:mt,TreeWalker:qt,TextSeeker:Vm,DOMUtils:Nt,ScriptLoader:Dn,RangeUtils:wi,Serializer:kv,StyleSheetLoader:tm,ControlSelection:vp,BookmarkManager:Ci,Selection:wv,Event:co.Event},html:{Styles:Is,Entities:$n,Node:Ve,Schema:Vn,SaxParser:Xa,DomParser:Jl,Writer:Xp,Serializer:Do},Env:dt,AddOnManager:we,Annotator:op,Formatter:Kv,UndoManager:Yv,EditorCommands:Xb,WindowManager:zv,NotificationManager:Tv,EditorObservable:Zb,Shortcuts:ey,Editor:Vu,FocusManager:qp,EditorManager:lr,DOM:Nt.DOM,ScriptLoader:Dn.ScriptLoader,PluginManager:nn,ThemeManager:ar,IconManager:du,Resource:OS,trim:H.trim,isArray:H.isArray,is:H.is,toArray:H.toArray,makeMap:H.makeMap,each:H.each,map:H.map,grep:H.grep,inArray:H.inArray,extend:H.extend,create:H.create,walk:H.walk,createNS:H.createNS,resolve:H.resolve,explode:H.explode,_addCacheSuffix:H._addCacheSuffix,isOpera:dt.opera,isWebKit:dt.webkit,isIE:dt.ie,isGecko:dt.gecko,isMac:dt.mac}),gy=my;window.tinymce=gy,window.tinyMCE=gy,function(t){if("object"==typeof module)try{module.exports=t}catch(e){}}(my)}();